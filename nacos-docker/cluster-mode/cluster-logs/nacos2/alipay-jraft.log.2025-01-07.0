2025-01-07 10:30:24,184 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2025-01-07 10:30:24,288 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2025-01-07 10:30:24,638 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2025-01-07 10:30:24,644 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2025-01-07 10:30:24,645 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2025-01-07 10:30:24,660 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2025-01-07 10:30:24,666 INFO The number of active nodes increment to 1.

2025-01-07 10:30:25,520 INFO Starts FSMCaller successfully.

2025-01-07 10:30:25,535 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service/snapshot.

2025-01-07 10:30:25,575 INFO Node <naming_persistent_service/nacos2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:30:25,591 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:30:25,593 INFO Start the RaftGroupService successfully.

2025-01-07 10:30:25,644 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:30:25,657 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:30:25,704 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:30:25,704 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:30:25,803 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=0.0.0.0:0, cost time=16 ms

2025-01-07 10:30:25,868 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2025-01-07 10:30:25,999 INFO The number of active nodes increment to 2.

2025-01-07 10:30:26,155 INFO Starts FSMCaller successfully.

2025-01-07 10:30:26,156 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2025-01-07 10:30:26,175 INFO Node <naming_persistent_service_v2/nacos2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:30:26,184 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:30:26,184 INFO Start the RaftGroupService successfully.

2025-01-07 10:30:26,211 INFO The number of active nodes increment to 3.

2025-01-07 10:30:26,212 INFO Creating new channel to: nacos1:7848.

2025-01-07 10:30:26,212 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 10:30:26,233 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 10:30:26,233 INFO The channel nacos1:7848 has successfully established.

2025-01-07 10:30:26,289 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:30:26,289 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:30:26,309 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 10:30:26,309 INFO The channel nacos2:7848 has successfully established.

2025-01-07 10:30:26,397 INFO Starts FSMCaller successfully.

2025-01-07 10:30:26,398 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2025-01-07 10:30:26,411 INFO Node <naming_instance_metadata/nacos2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:30:26,419 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:30:26,419 INFO Start the RaftGroupService successfully.

2025-01-07 10:30:26,468 INFO The number of active nodes increment to 4.

2025-01-07 10:30:26,534 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteRequest from nacos3:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:30:26,557 INFO Node <naming_persistent_service_v2/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=1, currTerm=0.

2025-01-07 10:30:26,574 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=0.0.0.0:0, cost time=18 ms

2025-01-07 10:30:26,577 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=nacos3:7848, cost time=2 ms

2025-01-07 10:30:26,659 INFO Starts FSMCaller successfully.

2025-01-07 10:30:26,659 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2025-01-07 10:30:26,675 INFO Node <naming_service_metadata/nacos2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:30:26,895 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:30:26,895 INFO Start the RaftGroupService successfully.

2025-01-07 10:30:26,908 INFO Node <naming_instance_metadata/nacos2:7848> received PreVoteRequest from nacos3:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:30:26,912 INFO Node <naming_instance_metadata/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=1, currTerm=0.

2025-01-07 10:30:26,916 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=0.0.0.0:0, cost time=4 ms

2025-01-07 10:30:26,955 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=nacos3:7848, cost time=8 ms

2025-01-07 10:30:27,171 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteRequest from nacos3:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:30:27,187 INFO Node <naming_service_metadata/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=1, currTerm=0.

2025-01-07 10:30:27,189 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=0.0.0.0:0, cost time=1 ms

2025-01-07 10:30:27,191 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=nacos3:7848, cost time=2 ms

2025-01-07 10:36:52,114 INFO Node <naming_service_metadata/nacos2:7848> start vote and grant vote self, term=1.

2025-01-07 10:36:52,115 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=1, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-07 10:36:52,115 INFO Node <naming_service_metadata/nacos2:7848> shutdown, currTerm=2 state=STATE_CANDIDATE.

2025-01-07 10:36:52,132 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 10:36:52,135 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 10:36:52,136 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=nacos3:7848, cost time=6 ms

2025-01-07 10:36:52,136 INFO Shutting down FSMCaller...

2025-01-07 10:36:52,139 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 10:36:52,139 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@7a0412c7[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:36:52,145 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 10:36:52,145 INFO onShutdown.

2025-01-07 10:36:52,147 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@22c2e09a[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:36:52,147 ERROR handleRequest group_id: "naming_service_metadata"
server_id: "nacos3:7848"
peer_id: "nacos2:7848"
term: 1
 failed

java.lang.IllegalStateException: Client service is uninitialized.
	at com.alipay.sofa.jraft.rpc.impl.AbstractClientService.connect(AbstractClientService.java:140)
	at com.alipay.sofa.jraft.core.NodeImpl.electSelf(NodeImpl.java:1169)
	at com.alipay.sofa.jraft.core.NodeImpl.handleTimeoutNowRequest(NodeImpl.java:3300)
	at com.alipay.sofa.jraft.rpc.impl.core.TimeoutNowRequestProcessor.processRequest0(TimeoutNowRequestProcessor.java:52)
	at com.alipay.sofa.jraft.rpc.impl.core.TimeoutNowRequestProcessor.processRequest0(TimeoutNowRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.core.NodeRequestProcessor.processRequest(NodeRequestProcessor.java:60)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 10:36:52,151 WARN [GRPC] failed to send response.

java.lang.IllegalStateException: Stream is already completed, no further calls are allowed
	at com.google.common.base.Preconditions.checkState(Preconditions.java:512)
	at io.grpc.stub.ServerCalls$ServerCallStreamObserverImpl.onNext(ServerCalls.java:375)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer$1.sendResponse(GrpcServer.java:153)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:59)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 10:36:52,154 INFO The number of active nodes decrement to 3.

2025-01-07 10:36:52,155 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-07 10:36:52,155 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-07 10:36:52,155 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-07 10:36:52,155 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-07 10:36:52,156 INFO Node <naming_persistent_service/nacos2:7848> start vote and grant vote self, term=1.

2025-01-07 10:36:52,156 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=1, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-07 10:36:52,167 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:36:52,167 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:36:52,176 INFO Connection disconnected: /172.19.0.3:36058

2025-01-07 10:36:52,198 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:36:52,198 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:36:52,203 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2025-01-07 10:36:52,203 INFO Node <naming_service_metadata/nacos2:7848> shutdown, currTerm=2 state=STATE_SHUTDOWN.

2025-01-07 10:36:52,203 INFO Stop the RaftGroupService successfully.

2025-01-07 10:36:52,205 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 10:36:52,206 INFO Peer nacos3:7848 is connected.

2025-01-07 10:36:52,208 INFO Node <naming_instance_metadata/nacos2:7848> start vote and grant vote self, term=1.

2025-01-07 10:36:52,208 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=1, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-07 10:36:52,224 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:36:52,224 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:36:52,225 INFO Creating new channel to: nacos1:7848.

2025-01-07 10:36:52,225 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 10:36:52,231 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:36:52,232 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:36:52,232 INFO Node <naming_persistent_service_v2/nacos2:7848> start vote and grant vote self, term=1.

2025-01-07 10:36:52,233 INFO Peer nacos3:7848 is connected.

2025-01-07 10:36:52,233 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=1, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-07 10:36:52,240 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:36:52,240 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:36:52,250 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 10:36:52,250 INFO The channel nacos1:7848 has successfully established.

2025-01-07 10:36:52,251 WARN Node <naming_persistent_service/nacos2:7848> RequestVote to nacos3:7848 error: Status[ENOENT<1012>: Peer id not found: nacos3:7848, group: naming_persistent_service].

2025-01-07 10:36:52,251 INFO Peer nacos1:7848 is connected.

2025-01-07 10:36:52,252 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:36:52,252 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:36:52,255 INFO Peer nacos3:7848 is connected.

2025-01-07 10:36:52,257 INFO Creating new channel to: nacos1:7848.

2025-01-07 10:36:52,257 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 10:36:52,261 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=2, votedFor=nacos2:7848, cost time=2 ms

2025-01-07 10:36:52,261 INFO Node <naming_persistent_service/nacos2:7848> received TimeoutNowRequest from nacos3:7848, term=1.

2025-01-07 10:36:52,263 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 10:36:52,263 INFO The channel nacos1:7848 has successfully established.

2025-01-07 10:36:52,266 INFO Node <naming_persistent_service/nacos2:7848> shutdown, currTerm=2 state=STATE_CANDIDATE.

2025-01-07 10:36:52,281 WARN Node <naming_instance_metadata/nacos2:7848> RequestVote to nacos3:7848 error: Status[ENOENT<1012>: Peer id not found: nacos3:7848, group: naming_instance_metadata].

2025-01-07 10:36:52,283 INFO Peer nacos1:7848 is connected.

2025-01-07 10:36:52,286 INFO Creating new channel to: nacos1:7848.

2025-01-07 10:36:52,286 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 10:36:52,288 WARN Node <naming_persistent_service/nacos2:7848> RequestVote to nacos1:7848 error: Status[ENOENT<1012>: Peer id not found: nacos1:7848, group: naming_persistent_service].

2025-01-07 10:36:52,288 INFO Connection disconnected: /172.19.0.4:51168

2025-01-07 10:36:52,295 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 10:36:52,295 INFO The channel nacos1:7848 has successfully established.

2025-01-07 10:36:52,296 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=2, votedFor=nacos2:7848, cost time=5 ms

2025-01-07 10:36:52,296 INFO Shutting down FSMCaller...

2025-01-07 10:36:52,298 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=122, target=nacos3:7848}}.

2025-01-07 10:36:52,299 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:36:52,299 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:36:52,299 INFO Peer nacos1:7848 is connected.

2025-01-07 10:36:52,307 INFO onShutdown.

2025-01-07 10:36:52,308 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=2, votedFor=nacos2:7848, cost time=14 ms

2025-01-07 10:36:52,308 INFO Node <naming_instance_metadata/nacos2:7848> received TimeoutNowRequest from nacos3:7848, term=1.

2025-01-07 10:36:52,310 WARN Node <naming_instance_metadata/nacos2:7848> RequestVote to nacos1:7848 error: Status[ENOENT<1012>: Peer id not found: nacos1:7848, group: naming_instance_metadata].

2025-01-07 10:36:52,310 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=2, votedFor=nacos2:7848, cost time=4 ms

2025-01-07 10:36:52,310 INFO Node <naming_persistent_service_v2/nacos2:7848> received TimeoutNowRequest from nacos3:7848, term=1.

2025-01-07 10:36:52,316 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=129, target=nacos1:7848}}.

2025-01-07 10:36:52,317 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 10:36:52,317 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:36:52,322 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@4003bc82[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:36:52,323 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-07 10:36:52,323 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-07 10:36:52,323 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-07 10:36:52,323 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-07 10:36:52,325 INFO Node <naming_persistent_service/nacos2:7848> shutdown, currTerm=2 state=STATE_SHUTTING.

2025-01-07 10:36:52,325 INFO Stop the RaftGroupService successfully.

2025-01-07 10:36:52,325 INFO Node <naming_instance_metadata/nacos2:7848> shutdown, currTerm=2 state=STATE_CANDIDATE.

2025-01-07 10:36:52,331 WARN Node <naming_persistent_service_v2/nacos2:7848> RequestVote to nacos1:7848 error: Status[ENOENT<1012>: Peer id not found: nacos1:7848, group: naming_persistent_service_v2].

2025-01-07 10:36:52,331 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=2, votedFor=nacos2:7848, cost time=3 ms

2025-01-07 10:36:52,331 INFO Shutting down FSMCaller...

2025-01-07 10:36:52,323 WARN Node <naming_persistent_service_v2/nacos2:7848> RequestVote to nacos3:7848 error: Status[ENOENT<1012>: Peer id not found: nacos3:7848, group: naming_persistent_service_v2].

2025-01-07 10:36:52,334 INFO onShutdown.

2025-01-07 10:36:52,334 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=126, target=nacos3:7848}}.

2025-01-07 10:36:52,334 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:36:52,335 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:36:52,323 INFO The number of active nodes decrement to 2.

2025-01-07 10:36:52,323 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@3f455c45[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 2].

2025-01-07 10:36:52,339 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service/log.

2025-01-07 10:36:52,339 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=138, target=nacos1:7848}}.

2025-01-07 10:36:52,340 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 10:36:52,340 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:36:52,344 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@75704228[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:36:52,344 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-07 10:36:52,344 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-07 10:36:52,344 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-07 10:36:52,344 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-07 10:36:52,345 INFO Node <naming_instance_metadata/nacos2:7848> shutdown, currTerm=2 state=STATE_SHUTTING.

2025-01-07 10:36:52,345 INFO Stop the RaftGroupService successfully.

2025-01-07 10:36:52,345 INFO Node <naming_persistent_service_v2/nacos2:7848> shutdown, currTerm=2 state=STATE_CANDIDATE.

2025-01-07 10:36:52,346 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@d2dca66[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 2].

2025-01-07 10:36:52,346 INFO The number of active nodes decrement to 1.

2025-01-07 10:36:52,348 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=2, votedFor=nacos2:7848, cost time=3 ms

2025-01-07 10:36:52,348 INFO Shutting down FSMCaller...

2025-01-07 10:36:52,348 INFO onShutdown.

2025-01-07 10:36:52,349 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2025-01-07 10:36:52,349 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=134, target=nacos3:7848}}.

2025-01-07 10:36:52,349 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:36:52,349 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:36:52,350 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=142, target=nacos1:7848}}.

2025-01-07 10:36:52,350 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 10:36:52,350 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:36:52,352 INFO The number of active nodes decrement to 0.

2025-01-07 10:36:52,352 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@4e15c94b[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:36:52,353 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@22da142a[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 2].

2025-01-07 10:36:52,359 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@6a7d23a5[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 288].

2025-01-07 10:36:52,359 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-07 10:36:52,360 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@4ba2154e[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:36:52,361 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-07 10:36:52,361 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@13af9ba7[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:36:52,361 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-07 10:36:52,363 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@2da4092a[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:36:52,363 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-07 10:36:52,363 INFO Node <naming_persistent_service_v2/nacos2:7848> shutdown, currTerm=2 state=STATE_SHUTTING.

2025-01-07 10:36:52,363 INFO Stop the RaftGroupService successfully.

2025-01-07 10:36:52,366 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=70, target=nacos3:7848}}.

2025-01-07 10:36:52,366 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:36:52,366 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:36:52,367 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2025-01-07 10:36:52,368 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=84, target=nacos2:7848}}.

2025-01-07 10:36:52,368 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 10:36:52,368 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:36:52,368 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=76, target=nacos1:7848}}.

2025-01-07 10:36:52,368 INFO Connection disconnected: /172.19.0.5:53150

2025-01-07 10:36:52,368 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 10:36:52,368 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:36:52,372 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@492dd167[Shutting down, pool size = 3, active threads = 0, queued tasks = 0, completed tasks = 495].

2025-01-07 10:37:23,897 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2025-01-07 10:37:24,078 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2025-01-07 10:37:24,444 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2025-01-07 10:37:24,445 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2025-01-07 10:37:24,446 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2025-01-07 10:37:24,459 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2025-01-07 10:37:24,481 INFO The number of active nodes increment to 1.

2025-01-07 10:37:25,460 INFO Starts FSMCaller successfully.

2025-01-07 10:37:25,625 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service/snapshot.

2025-01-07 10:37:25,695 INFO Node <naming_persistent_service/nacos2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:37:25,725 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:37:25,725 INFO Start the RaftGroupService successfully.

2025-01-07 10:37:25,783 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:37:25,809 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:37:26,054 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:37:26,054 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:37:26,220 INFO Creating new channel to: nacos1:7848.

2025-01-07 10:37:26,221 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 10:37:26,258 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 10:37:26,258 INFO The channel nacos1:7848 has successfully established.

2025-01-07 10:37:26,330 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:37:26,330 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:37:26,365 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 10:37:26,365 INFO The channel nacos2:7848 has successfully established.

2025-01-07 10:37:26,401 INFO The number of active nodes increment to 2.

2025-01-07 10:37:26,532 INFO Starts FSMCaller successfully.

2025-01-07 10:37:26,532 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2025-01-07 10:37:26,534 INFO Node <naming_persistent_service_v2/nacos2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:37:26,572 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:37:26,572 INFO Start the RaftGroupService successfully.

2025-01-07 10:37:26,617 INFO The number of active nodes increment to 3.

2025-01-07 10:37:26,817 INFO Starts FSMCaller successfully.

2025-01-07 10:37:26,817 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2025-01-07 10:37:26,834 INFO Node <naming_instance_metadata/nacos2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:37:26,849 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:37:26,849 INFO Start the RaftGroupService successfully.

2025-01-07 10:37:26,886 INFO The number of active nodes increment to 4.

2025-01-07 10:37:27,044 INFO Starts FSMCaller successfully.

2025-01-07 10:37:27,045 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2025-01-07 10:37:27,059 INFO Node <naming_service_metadata/nacos2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:37:27,075 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:37:27,075 INFO Start the RaftGroupService successfully.

2025-01-07 10:37:29,880 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteRequest from nacos1:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:37:30,007 INFO Node <naming_persistent_service/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=1, currTerm=0.

2025-01-07 10:37:30,059 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=0.0.0.0:0, cost time=53 ms

2025-01-07 10:37:30,072 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=nacos1:7848, cost time=4 ms

2025-01-07 10:37:30,364 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2025-01-07 10:37:30,704 INFO Node <naming_instance_metadata/nacos2:7848> received PreVoteRequest from nacos1:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:37:30,741 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteRequest from nacos1:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:37:30,930 INFO Node <naming_instance_metadata/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=1, currTerm=0.

2025-01-07 10:37:30,941 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=0.0.0.0:0, cost time=10 ms

2025-01-07 10:37:30,948 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=nacos1:7848, cost time=7 ms

2025-01-07 10:37:31,040 INFO Node <naming_persistent_service_v2/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=1, currTerm=0.

2025-01-07 10:37:31,042 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=0.0.0.0:0, cost time=2 ms

2025-01-07 10:37:31,046 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=nacos1:7848, cost time=1 ms

2025-01-07 10:37:31,421 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteRequest from nacos1:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:37:31,480 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteRequest from nacos3:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:37:31,515 INFO Node <naming_service_metadata/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=1, currTerm=0.

2025-01-07 10:37:31,521 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=0.0.0.0:0, cost time=6 ms

2025-01-07 10:37:31,523 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=nacos1:7848, cost time=1 ms

2025-01-07 10:39:29,828 INFO Node <naming_service_metadata/nacos2:7848> shutdown, currTerm=1 state=STATE_FOLLOWER.

2025-01-07 10:39:29,832 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=1, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-07 10:39:29,843 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=nacos1:7848, cost time=4 ms

2025-01-07 10:39:29,843 INFO Shutting down FSMCaller...

2025-01-07 10:39:29,855 INFO onShutdown.

2025-01-07 10:39:29,857 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@2833a15c[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:39:29,861 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@2fd6aa99[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:39:29,862 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-07 10:39:29,862 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-07 10:39:29,862 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-07 10:39:29,862 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-07 10:39:29,872 INFO Node <naming_service_metadata/nacos2:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 10:39:29,872 INFO Stop the RaftGroupService successfully.

2025-01-07 10:39:29,872 INFO Node <naming_persistent_service/nacos2:7848> shutdown, currTerm=1 state=STATE_FOLLOWER.

2025-01-07 10:39:29,875 INFO The number of active nodes decrement to 3.

2025-01-07 10:39:29,882 INFO Connection disconnected: /172.19.0.4:46574

2025-01-07 10:39:29,884 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2025-01-07 10:39:29,891 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=1, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-07 10:39:29,892 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=nacos1:7848, cost time=18 ms

2025-01-07 10:39:29,892 INFO Shutting down FSMCaller...

2025-01-07 10:39:29,896 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@31fdb41e[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:39:29,896 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@2b6552da[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:39:29,896 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-07 10:39:29,896 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-07 10:39:29,896 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-07 10:39:29,896 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-07 10:39:29,896 INFO The number of active nodes decrement to 2.

2025-01-07 10:39:29,897 INFO Node <naming_persistent_service/nacos2:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 10:39:29,897 INFO Stop the RaftGroupService successfully.

2025-01-07 10:39:29,897 INFO Node <naming_instance_metadata/nacos2:7848> shutdown, currTerm=1 state=STATE_FOLLOWER.

2025-01-07 10:39:29,903 INFO onShutdown.

2025-01-07 10:39:29,906 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=1, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-07 10:39:29,909 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=nacos1:7848, cost time=3 ms

2025-01-07 10:39:29,912 INFO Shutting down FSMCaller...

2025-01-07 10:39:29,918 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@67c881ff[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:39:29,918 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@37d5c7e6[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:39:29,918 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-07 10:39:29,918 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-07 10:39:29,918 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-07 10:39:29,918 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-07 10:39:29,919 INFO Node <naming_instance_metadata/nacos2:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 10:39:29,923 INFO Stop the RaftGroupService successfully.

2025-01-07 10:39:29,923 INFO Node <naming_persistent_service_v2/nacos2:7848> shutdown, currTerm=1 state=STATE_FOLLOWER.

2025-01-07 10:39:29,932 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=1, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-07 10:39:29,950 INFO onShutdown.

2025-01-07 10:39:29,956 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service/log.

2025-01-07 10:39:29,957 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=nacos1:7848, cost time=22 ms

2025-01-07 10:39:29,957 INFO Shutting down FSMCaller...

2025-01-07 10:39:29,958 INFO onShutdown.

2025-01-07 10:39:29,962 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@50b1139f[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:39:29,962 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@1d6af737[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:39:29,963 INFO The number of active nodes decrement to 1.

2025-01-07 10:39:29,965 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@1303b204[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 96].

2025-01-07 10:39:29,965 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-07 10:39:29,965 INFO The number of active nodes decrement to 0.

2025-01-07 10:39:29,965 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@4230f5fa[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:39:29,965 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-07 10:39:29,965 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@1b16a52d[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:39:29,965 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-07 10:39:29,973 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2025-01-07 10:39:29,977 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 10:39:29,977 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@5960441a[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:39:29,977 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-07 10:39:29,985 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 10:39:29,985 INFO Node <naming_persistent_service_v2/nacos2:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 10:39:29,986 INFO Stop the RaftGroupService successfully.

2025-01-07 10:39:29,990 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 10:39:29,990 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=117, target=nacos3:7848}}.

2025-01-07 10:39:29,991 INFO Connection disconnected: /172.19.0.4:60914

2025-01-07 10:39:29,995 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:39:29,995 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:39:29,996 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 10:39:29,996 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2025-01-07 10:39:29,997 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=126, target=nacos2:7848}}.

2025-01-07 10:39:29,997 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 10:39:29,997 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:39:29,999 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=122, target=nacos1:7848}}.

2025-01-07 10:39:30,017 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 10:39:30,017 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:39:30,005 INFO Connection disconnected: /172.19.0.3:42612

2025-01-07 10:39:30,036 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@eb02ffb[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 193].

2025-01-07 10:41:06,452 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2025-01-07 10:41:06,568 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2025-01-07 10:41:07,513 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2025-01-07 10:41:07,514 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2025-01-07 10:41:07,515 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2025-01-07 10:41:07,540 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2025-01-07 10:41:07,591 INFO The number of active nodes increment to 1.

2025-01-07 10:41:08,509 INFO Starts FSMCaller successfully.

2025-01-07 10:41:08,523 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service/snapshot.

2025-01-07 10:41:08,604 INFO Node <naming_persistent_service/nacos2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:41:08,611 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:41:08,612 INFO Start the RaftGroupService successfully.

2025-01-07 10:41:08,657 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:41:08,687 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:41:08,708 INFO The channel nacos3:7848 is in state: TRANSIENT_FAILURE.

2025-01-07 10:41:08,709 WARN There has been some transient failure on this channel nacos3:7848.

2025-01-07 10:41:08,709 ERROR Fail to connect nacos3:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception.

2025-01-07 10:41:08,709 ERROR Fail to connect peer nacos3:7848 to get leader for group naming_persistent_service.

2025-01-07 10:41:08,710 INFO Creating new channel to: nacos1:7848.

2025-01-07 10:41:08,710 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 10:41:08,800 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 10:41:08,800 INFO The channel nacos1:7848 has successfully established.

2025-01-07 10:41:09,177 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:41:09,177 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:41:09,233 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 10:41:09,233 INFO The channel nacos2:7848 has successfully established.

2025-01-07 10:41:09,346 INFO The number of active nodes increment to 2.

2025-01-07 10:41:09,498 INFO Starts FSMCaller successfully.

2025-01-07 10:41:09,499 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2025-01-07 10:41:09,512 INFO Node <naming_persistent_service_v2/nacos2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:41:09,543 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:41:09,543 INFO Start the RaftGroupService successfully.

2025-01-07 10:41:09,554 WARN Channel[nacos3:7848] in [INACTIVE] state 2 times, it has been removed from the pool.

2025-01-07 10:41:09,584 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:41:09,584 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:41:09,653 INFO The number of active nodes increment to 3.

2025-01-07 10:41:09,795 INFO Starts FSMCaller successfully.

2025-01-07 10:41:09,796 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2025-01-07 10:41:09,824 INFO Node <naming_instance_metadata/nacos2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:41:09,830 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:41:09,847 INFO Start the RaftGroupService successfully.

2025-01-07 10:41:09,902 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:41:09,902 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:41:09,906 INFO The number of active nodes increment to 4.

2025-01-07 10:41:09,924 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:41:09,924 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:41:10,001 INFO Starts FSMCaller successfully.

2025-01-07 10:41:10,001 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2025-01-07 10:41:10,053 INFO Node <naming_service_metadata/nacos2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:41:10,054 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:41:10,054 INFO Start the RaftGroupService successfully.

2025-01-07 10:41:13,461 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteRequest from nacos1:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:41:13,757 INFO Node <naming_persistent_service/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=1, currTerm=0.

2025-01-07 10:41:13,812 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=0.0.0.0:0, cost time=54 ms

2025-01-07 10:41:13,824 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=nacos1:7848, cost time=11 ms

2025-01-07 10:41:14,021 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2025-01-07 10:41:15,011 INFO Node <naming_instance_metadata/nacos2:7848> received PreVoteRequest from nacos1:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:41:15,100 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteRequest from nacos1:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:41:15,159 INFO Node <naming_instance_metadata/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=1, currTerm=0.

2025-01-07 10:41:15,165 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=0.0.0.0:0, cost time=6 ms

2025-01-07 10:41:15,172 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=nacos1:7848, cost time=6 ms

2025-01-07 10:41:15,203 INFO Node <naming_persistent_service_v2/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=1, currTerm=0.

2025-01-07 10:41:15,207 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteRequest from nacos1:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:41:15,210 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=0.0.0.0:0, cost time=6 ms

2025-01-07 10:41:15,235 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=nacos1:7848, cost time=25 ms

2025-01-07 10:41:15,343 INFO Node <naming_service_metadata/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=1, currTerm=0.

2025-01-07 10:41:15,360 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=0.0.0.0:0, cost time=18 ms

2025-01-07 10:41:15,363 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=nacos1:7848, cost time=3 ms

2025-01-07 10:42:14,178 INFO Node <naming_service_metadata/nacos2:7848> term 1 start preVote.

2025-01-07 10:42:14,179 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=1, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos1:7848.]].

2025-01-07 10:42:14,179 INFO Node <naming_instance_metadata/nacos2:7848> term 1 start preVote.

2025-01-07 10:42:14,180 INFO Node <naming_persistent_service_v2/nacos2:7848> term 1 start preVote.

2025-01-07 10:42:14,180 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=1, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos1:7848.]].

2025-01-07 10:42:14,182 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:42:14,182 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:42:14,183 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:42:14,194 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:42:14,194 INFO Node <naming_persistent_service/nacos2:7848> term 1 start preVote.

2025-01-07 10:42:14,196 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=1, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos1:7848.]].

2025-01-07 10:42:14,188 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=1, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos1:7848.]].

2025-01-07 10:42:14,194 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:42:14,201 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:42:14,217 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:42:14,217 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:42:14,232 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:42:14,232 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:42:14,234 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:42:14,234 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:42:14,239 INFO Peer nacos3:7848 is connected.

2025-01-07 10:42:14,240 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:42:14,240 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:42:14,241 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:42:14,241 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:42:14,254 INFO Peer nacos3:7848 is connected.

2025-01-07 10:42:14,277 INFO Peer nacos3:7848 is connected.

2025-01-07 10:42:14,279 INFO Peer nacos3:7848 is connected.

2025-01-07 10:42:14,303 INFO Creating new channel to: nacos1:7848.

2025-01-07 10:42:14,303 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 10:42:14,317 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 10:42:14,317 INFO The channel nacos1:7848 has successfully established.

2025-01-07 10:42:14,318 INFO Peer nacos1:7848 is connected.

2025-01-07 10:42:14,326 INFO Creating new channel to: nacos1:7848.

2025-01-07 10:42:14,326 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 10:42:14,329 INFO Creating new channel to: nacos1:7848.

2025-01-07 10:42:14,329 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 10:42:14,335 INFO Creating new channel to: nacos1:7848.

2025-01-07 10:42:14,335 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 10:42:14,337 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 10:42:14,337 INFO The channel nacos1:7848 has successfully established.

2025-01-07 10:42:14,339 INFO Peer nacos1:7848 is connected.

2025-01-07 10:42:14,339 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 10:42:14,339 INFO The channel nacos1:7848 has successfully established.

2025-01-07 10:42:14,340 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 10:42:14,340 INFO The channel nacos1:7848 has successfully established.

2025-01-07 10:42:14,341 INFO Peer nacos1:7848 is connected.

2025-01-07 10:42:14,343 INFO Peer nacos1:7848 is connected.

2025-01-07 10:42:14,355 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteResponse from nacos1:7848, term=1, granted=true.

2025-01-07 10:42:14,357 INFO Node <naming_service_metadata/nacos2:7848> ignore PreVoteRequest from nacos3:7848, term=2, currTerm=1, because the leader nacos1:7848's lease is still valid.

2025-01-07 10:42:14,359 INFO Node <naming_persistent_service_v2/nacos2:7848> start vote and grant vote self, term=1.

2025-01-07 10:42:14,366 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=1, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-07 10:42:14,367 INFO Node <naming_persistent_service/nacos2:7848> ignore PreVoteRequest from nacos3:7848, term=2, currTerm=1, because the leader nacos1:7848's lease is still valid.

2025-01-07 10:42:14,376 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteResponse from nacos1:7848, term=1, granted=true.

2025-01-07 10:42:14,376 INFO Node <naming_service_metadata/nacos2:7848> start vote and grant vote self, term=1.

2025-01-07 10:42:14,377 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=1, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-07 10:42:14,394 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteResponse from nacos1:7848, term=1, granted=true.

2025-01-07 10:42:14,394 INFO Node <naming_persistent_service/nacos2:7848> start vote and grant vote self, term=1.

2025-01-07 10:42:14,395 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=1, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-07 10:42:14,396 INFO Node <naming_instance_metadata/nacos2:7848> ignore PreVoteRequest from nacos3:7848, term=2, currTerm=1, because the leader nacos1:7848's lease is still valid.

2025-01-07 10:42:14,397 INFO Node <naming_instance_metadata/nacos2:7848> received PreVoteResponse from nacos1:7848, term=1, granted=true.

2025-01-07 10:42:14,397 INFO Node <naming_instance_metadata/nacos2:7848> start vote and grant vote self, term=1.

2025-01-07 10:42:14,397 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=1, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-07 10:42:14,472 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=2, votedFor=nacos2:7848, cost time=69 ms

2025-01-07 10:42:14,476 WARN Node <naming_persistent_service/nacos2:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 10:42:14,476 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=2, votedFor=nacos2:7848, cost time=61 ms

2025-01-07 10:42:14,479 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=2, votedFor=nacos2:7848, cost time=117 ms

2025-01-07 10:42:14,480 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=2, votedFor=nacos2:7848, cost time=52 ms

2025-01-07 10:42:14,483 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteRequest from nacos3:7848, term=2, currTerm=2, granted=true, requestLastLogId=LogId [index=1, term=1], lastLogId=LogId [index=1, term=1].

2025-01-07 10:42:14,487 INFO Node <naming_persistent_service_v2/nacos2:7848> become leader of group, term=2, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:42:14,493 INFO Node <naming_persistent_service/nacos2:7848> become leader of group, term=2, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:42:14,494 INFO Node <naming_service_metadata/nacos2:7848> become leader of group, term=2, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:42:14,494 INFO Node <naming_instance_metadata/nacos2:7848> become leader of group, term=2, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:42:14,508 INFO Replicator [group: naming_instance_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-07 10:42:14,508 INFO Replicator [group: naming_persistent_service_v2, peer: nacos3:7848, type: Follower] is started

2025-01-07 10:42:14,508 INFO Replicator [group: naming_service_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-07 10:42:14,513 INFO Replicator [group: naming_persistent_service, peer: nacos3:7848, type: Follower] is started

2025-01-07 10:42:14,546 INFO Replicator [group: naming_persistent_service, peer: nacos1:7848, type: Follower] is started

2025-01-07 10:42:14,561 INFO Replicator [group: naming_instance_metadata, peer: nacos1:7848, type: Follower] is started

2025-01-07 10:42:14,561 INFO Replicator [group: naming_persistent_service_v2, peer: nacos1:7848, type: Follower] is started

2025-01-07 10:42:14,572 INFO Replicator [group: naming_service_metadata, peer: nacos1:7848, type: Follower] is started

2025-01-07 10:42:14,573 WARN Node <naming_persistent_service/nacos2:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 10:42:14,592 WARN Node <naming_persistent_service_v2/nacos2:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 10:42:14,599 WARN Node <naming_instance_metadata/nacos2:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_LEADER.

2025-01-07 10:42:14,599 WARN Node <naming_instance_metadata/nacos2:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 10:42:14,642 WARN Node <naming_service_metadata/nacos2:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 10:42:14,642 WARN Node <naming_service_metadata/nacos2:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_LEADER.

2025-01-07 10:42:14,648 WARN Node <naming_persistent_service_v2/nacos2:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_LEADER.

2025-01-07 10:42:14,694 INFO onLeaderStart: term=2.

2025-01-07 10:42:14,694 INFO onLeaderStart: term=2.

2025-01-07 10:42:14,694 INFO onLeaderStart: term=2.

2025-01-07 10:42:14,695 INFO onLeaderStart: term=2.

2025-01-07 10:43:41,870 INFO Node <naming_service_metadata/nacos2:7848> shutdown, currTerm=2 state=STATE_LEADER.

2025-01-07 10:43:41,880 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2025-01-07 10:43:41,880 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=2, lastLogIncluded=0, lastLogIndex=2, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_service_metadata, waitId=2, type=Follower] is going to quit

2025-01-07 10:43:41,917 WARN Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=2, lastLogIncluded=0, lastLogIndex=2, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_service_metadata, waitId=1, type=Follower] stops sending entries.

2025-01-07 10:43:41,923 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=2, votedFor=nacos2:7848, cost time=5 ms

2025-01-07 10:43:41,923 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=2, lastLogIncluded=0, lastLogIndex=2, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_service_metadata, waitId=1, type=Follower] is going to quit

2025-01-07 10:43:41,923 INFO Shutting down FSMCaller...

2025-01-07 10:43:41,935 INFO Connection disconnected: /172.19.0.5:44586

2025-01-07 10:43:41,943 INFO onShutdown.

2025-01-07 10:43:41,946 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 10:43:41,951 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=218, target=nacos3:7848}}.

2025-01-07 10:43:41,951 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:43:41,951 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:43:41,954 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 10:43:41,956 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 10:43:41,958 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 10:43:41,958 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=244, target=nacos1:7848}}.

2025-01-07 10:43:41,958 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 10:43:41,958 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:43:41,962 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@716b1815[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 5].

2025-01-07 10:43:41,962 INFO The number of active nodes decrement to 3.

2025-01-07 10:43:41,962 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@38e39290[Shutting down, pool size = 11, active threads = 0, queued tasks = 0, completed tasks = 346].

2025-01-07 10:43:41,962 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-07 10:43:41,963 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-07 10:43:41,963 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-07 10:43:41,963 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-07 10:43:41,975 INFO Connection disconnected: /172.19.0.5:44598

2025-01-07 10:43:41,975 INFO Node <naming_service_metadata/nacos2:7848> shutdown, currTerm=2 state=STATE_SHUTTING.

2025-01-07 10:43:41,975 INFO Stop the RaftGroupService successfully.

2025-01-07 10:43:41,975 INFO Node <naming_persistent_service/nacos2:7848> shutdown, currTerm=2 state=STATE_LEADER.

2025-01-07 10:43:41,981 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2025-01-07 10:43:41,981 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=2, lastLogIncluded=0, lastLogIndex=2, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_persistent_service, waitId=2, type=Follower] is going to quit

2025-01-07 10:43:41,983 WARN Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=2, lastLogIncluded=0, lastLogIndex=2, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service, waitId=1, type=Follower] stops sending entries.

2025-01-07 10:43:41,985 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=2, votedFor=nacos2:7848, cost time=2 ms

2025-01-07 10:43:41,986 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=2, lastLogIncluded=0, lastLogIndex=2, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service, waitId=1, type=Follower] is going to quit

2025-01-07 10:43:41,986 INFO Shutting down FSMCaller...

2025-01-07 10:43:41,998 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2025-01-07 10:43:41,999 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=228, target=nacos3:7848}}.

2025-01-07 10:43:41,999 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:43:41,999 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:43:42,001 INFO onShutdown.

2025-01-07 10:43:42,005 INFO Connection disconnected: /172.19.0.5:44608

2025-01-07 10:43:42,008 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=248, target=nacos1:7848}}.

2025-01-07 10:43:42,008 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 10:43:42,008 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:43:42,011 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-07 10:43:42,011 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-07 10:43:42,011 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-07 10:43:42,011 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-07 10:43:42,011 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@2b19cee9[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 5].

2025-01-07 10:43:42,013 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@d219f5d[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 346].

2025-01-07 10:43:42,022 INFO The number of active nodes decrement to 2.

2025-01-07 10:43:42,022 INFO Connection disconnected: /172.19.0.5:44616

2025-01-07 10:43:42,022 INFO Node <naming_persistent_service/nacos2:7848> shutdown, currTerm=2 state=STATE_SHUTTING.

2025-01-07 10:43:42,022 INFO Stop the RaftGroupService successfully.

2025-01-07 10:43:42,022 INFO Node <naming_instance_metadata/nacos2:7848> shutdown, currTerm=2 state=STATE_LEADER.

2025-01-07 10:43:42,025 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=2, lastLogIncluded=0, lastLogIndex=2, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_instance_metadata, waitId=2, type=Follower] is going to quit

2025-01-07 10:43:42,025 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2025-01-07 10:43:42,025 WARN Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=2, lastLogIncluded=0, lastLogIndex=2, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_instance_metadata, waitId=1, type=Follower] stops sending entries.

2025-01-07 10:43:42,027 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service/log.

2025-01-07 10:43:42,028 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=2, votedFor=nacos2:7848, cost time=2 ms

2025-01-07 10:43:42,028 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=2, lastLogIncluded=0, lastLogIndex=2, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_instance_metadata, waitId=1, type=Follower] is going to quit

2025-01-07 10:43:42,028 INFO Shutting down FSMCaller...

2025-01-07 10:43:42,029 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=216, target=nacos3:7848}}.

2025-01-07 10:43:42,029 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:43:42,029 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:43:42,030 INFO onShutdown.

2025-01-07 10:43:42,032 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=240, target=nacos1:7848}}.

2025-01-07 10:43:42,032 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 10:43:42,033 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:43:42,033 INFO Connection disconnected: /172.19.0.4:59640

2025-01-07 10:43:42,034 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-07 10:43:42,034 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-07 10:43:42,034 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-07 10:43:42,034 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-07 10:43:42,044 INFO Node <naming_instance_metadata/nacos2:7848> shutdown, currTerm=2 state=STATE_SHUTTING.

2025-01-07 10:43:42,044 INFO Stop the RaftGroupService successfully.

2025-01-07 10:43:42,044 INFO Node <naming_persistent_service_v2/nacos2:7848> shutdown, currTerm=2 state=STATE_LEADER.

2025-01-07 10:43:42,045 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2025-01-07 10:43:42,045 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=2, lastLogIncluded=0, lastLogIndex=2, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_persistent_service_v2, waitId=2, type=Follower] is going to quit

2025-01-07 10:43:42,045 WARN Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=2, lastLogIncluded=0, lastLogIndex=2, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service_v2, waitId=1, type=Follower] stops sending entries.

2025-01-07 10:43:42,049 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=2, votedFor=nacos2:7848, cost time=2 ms

2025-01-07 10:43:42,049 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=2, lastLogIncluded=0, lastLogIndex=2, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service_v2, waitId=1, type=Follower] is going to quit

2025-01-07 10:43:42,049 INFO Shutting down FSMCaller...

2025-01-07 10:43:42,050 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=220, target=nacos3:7848}}.

2025-01-07 10:43:42,050 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:43:42,050 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:43:42,052 INFO The number of active nodes decrement to 1.

2025-01-07 10:43:42,053 INFO onShutdown.

2025-01-07 10:43:42,054 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@5561588d[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 346].

2025-01-07 10:43:42,054 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=236, target=nacos1:7848}}.

2025-01-07 10:43:42,054 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 10:43:42,054 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:43:42,055 INFO The number of active nodes decrement to 0.

2025-01-07 10:43:42,055 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@7acdb3ed[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 346].

2025-01-07 10:43:42,057 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@29715ef2[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 5].

2025-01-07 10:43:42,058 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@26c18d14[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 60].

2025-01-07 10:43:42,058 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-07 10:43:42,059 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@3649ba11[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 4].

2025-01-07 10:43:42,059 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-07 10:43:42,060 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2025-01-07 10:43:42,064 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@28fd4e0a[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 5].

2025-01-07 10:43:42,064 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@10e4543d[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 136].

2025-01-07 10:43:42,065 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-07 10:43:42,066 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@7f662c9c[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:43:42,066 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-07 10:43:42,067 INFO Node <naming_persistent_service_v2/nacos2:7848> shutdown, currTerm=2 state=STATE_SHUTTING.

2025-01-07 10:43:42,067 INFO Stop the RaftGroupService successfully.

2025-01-07 10:43:42,070 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=151, target=nacos3:7848}}.

2025-01-07 10:43:42,070 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2025-01-07 10:43:42,070 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:43:42,070 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:43:42,071 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=140, target=nacos2:7848}}.

2025-01-07 10:43:42,071 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 10:43:42,071 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:43:42,072 INFO Connection disconnected: /172.19.0.3:57828

2025-01-07 10:43:42,072 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=130, target=nacos1:7848}}.

2025-01-07 10:43:42,072 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 10:43:42,072 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:43:42,080 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@32c928f1[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 252].

2025-01-07 10:44:13,412 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2025-01-07 10:44:13,579 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2025-01-07 10:44:14,194 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2025-01-07 10:44:14,196 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2025-01-07 10:44:14,197 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2025-01-07 10:44:14,200 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2025-01-07 10:44:14,212 INFO The number of active nodes increment to 1.

2025-01-07 10:44:14,893 INFO Starts FSMCaller successfully.

2025-01-07 10:44:14,910 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service/snapshot.

2025-01-07 10:44:14,973 INFO Node <naming_persistent_service/nacos2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:44:14,984 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:44:14,985 INFO Start the RaftGroupService successfully.

2025-01-07 10:44:15,043 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:44:15,175 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:44:15,220 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:44:15,220 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:44:15,417 INFO Creating new channel to: nacos1:7848.

2025-01-07 10:44:15,417 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 10:44:15,451 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 10:44:15,451 INFO The channel nacos1:7848 has successfully established.

2025-01-07 10:44:15,521 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:44:15,521 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:44:15,555 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 10:44:15,555 INFO The channel nacos2:7848 has successfully established.

2025-01-07 10:44:15,607 INFO The number of active nodes increment to 2.

2025-01-07 10:44:15,728 INFO Starts FSMCaller successfully.

2025-01-07 10:44:15,728 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2025-01-07 10:44:15,733 INFO Node <naming_persistent_service_v2/nacos2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:44:15,746 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:44:15,746 INFO Start the RaftGroupService successfully.

2025-01-07 10:44:15,833 INFO The number of active nodes increment to 3.

2025-01-07 10:44:16,015 INFO Starts FSMCaller successfully.

2025-01-07 10:44:16,016 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2025-01-07 10:44:16,028 INFO Node <naming_instance_metadata/nacos2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:44:16,030 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:44:16,030 INFO Start the RaftGroupService successfully.

2025-01-07 10:44:16,051 INFO The number of active nodes increment to 4.

2025-01-07 10:44:16,143 INFO Starts FSMCaller successfully.

2025-01-07 10:44:16,144 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2025-01-07 10:44:16,154 INFO Node <naming_service_metadata/nacos2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:44:16,155 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:44:16,155 INFO Start the RaftGroupService successfully.

2025-01-07 10:44:20,460 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteRequest from nacos3:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:44:20,468 INFO Node <naming_persistent_service/nacos2:7848> term 0 start preVote.

2025-01-07 10:44:20,469 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:44:20,470 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:44:20,506 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:44:20,506 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:44:20,572 INFO Peer nacos3:7848 is connected.

2025-01-07 10:44:20,600 INFO Creating new channel to: nacos1:7848.

2025-01-07 10:44:20,600 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 10:44:20,609 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 10:44:20,609 INFO The channel nacos1:7848 has successfully established.

2025-01-07 10:44:20,611 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteRequest from nacos3:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:44:20,622 INFO Peer nacos1:7848 is connected.

2025-01-07 10:44:20,658 INFO Node <naming_persistent_service/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=1, currTerm=0.

2025-01-07 10:44:20,678 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=0.0.0.0:0, cost time=19 ms

2025-01-07 10:44:20,688 WARN Node <naming_persistent_service/nacos2:7848> received invalid PreVoteResponse from nacos1:7848, term=0, currTerm=1.

2025-01-07 10:44:20,699 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=nacos3:7848, cost time=2 ms

2025-01-07 10:44:20,765 WARN Node <naming_persistent_service/nacos2:7848> received invalid PreVoteResponse from nacos3:7848, term=0, currTerm=1.

2025-01-07 10:44:20,773 INFO Node <naming_service_metadata/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=1, currTerm=0.

2025-01-07 10:44:20,783 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=0.0.0.0:0, cost time=11 ms

2025-01-07 10:44:20,812 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=nacos3:7848, cost time=28 ms

2025-01-07 10:44:20,841 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2025-01-07 10:44:20,939 INFO Node <naming_persistent_service_v2/nacos2:7848> term 0 start preVote.

2025-01-07 10:44:20,968 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:44:20,968 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:44:21,014 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:44:21,014 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:44:21,043 INFO Peer nacos3:7848 is connected.

2025-01-07 10:44:21,129 INFO Creating new channel to: nacos1:7848.

2025-01-07 10:44:21,129 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 10:44:21,161 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 10:44:21,161 INFO The channel nacos1:7848 has successfully established.

2025-01-07 10:44:21,210 INFO Peer nacos1:7848 is connected.

2025-01-07 10:44:21,214 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteRequest from nacos3:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:44:21,243 INFO Node <naming_instance_metadata/nacos2:7848> received PreVoteRequest from nacos3:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:44:21,256 INFO Node <naming_persistent_service_v2/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=1, currTerm=0.

2025-01-07 10:44:21,265 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=0.0.0.0:0, cost time=9 ms

2025-01-07 10:44:21,279 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=nacos3:7848, cost time=13 ms

2025-01-07 10:44:21,280 WARN Node <naming_persistent_service_v2/nacos2:7848> received invalid PreVoteResponse from nacos3:7848, term=0, currTerm=1.

2025-01-07 10:44:21,282 WARN Node <naming_persistent_service_v2/nacos2:7848> received invalid PreVoteResponse from nacos1:7848, term=0, currTerm=1.

2025-01-07 10:44:21,496 INFO Node <naming_instance_metadata/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=1, currTerm=0.

2025-01-07 10:44:21,511 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=0.0.0.0:0, cost time=15 ms

2025-01-07 10:44:21,523 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=nacos3:7848, cost time=12 ms

2025-01-07 10:58:10,111 INFO Node <naming_service_metadata/nacos2:7848> shutdown, currTerm=1 state=STATE_FOLLOWER.

2025-01-07 10:58:10,124 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=1, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-07 10:58:10,147 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=nacos3:7848, cost time=9 ms

2025-01-07 10:58:10,148 INFO Shutting down FSMCaller...

2025-01-07 10:58:10,149 INFO onShutdown.

2025-01-07 10:58:10,151 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@15338325[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:58:10,154 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@1cc26b72[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:58:10,154 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-07 10:58:10,154 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-07 10:58:10,154 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-07 10:58:10,154 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-07 10:58:10,154 INFO The number of active nodes decrement to 3.

2025-01-07 10:58:10,156 INFO Node <naming_service_metadata/nacos2:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 10:58:10,156 INFO Stop the RaftGroupService successfully.

2025-01-07 10:58:10,156 INFO Node <naming_persistent_service/nacos2:7848> shutdown, currTerm=1 state=STATE_FOLLOWER.

2025-01-07 10:58:10,159 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=1, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-07 10:58:10,161 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=nacos3:7848, cost time=3 ms

2025-01-07 10:58:10,161 INFO Shutting down FSMCaller...

2025-01-07 10:58:10,161 INFO onShutdown.

2025-01-07 10:58:10,163 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=172, target=nacos3:7848}}.

2025-01-07 10:58:10,164 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:58:10,164 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:58:10,165 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=177, target=nacos1:7848}}.

2025-01-07 10:58:10,165 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 10:58:10,165 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:58:10,166 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2025-01-07 10:58:10,167 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@7607155c[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:58:10,167 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-07 10:58:10,167 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-07 10:58:10,167 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-07 10:58:10,167 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-07 10:58:10,167 INFO The number of active nodes decrement to 2.

2025-01-07 10:58:10,169 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@39ef0049[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 2].

2025-01-07 10:58:10,175 INFO Node <naming_persistent_service/nacos2:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 10:58:10,176 INFO Stop the RaftGroupService successfully.

2025-01-07 10:58:10,176 INFO Node <naming_instance_metadata/nacos2:7848> shutdown, currTerm=1 state=STATE_FOLLOWER.

2025-01-07 10:58:10,183 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=1, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-07 10:58:10,184 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service/log.

2025-01-07 10:58:10,199 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=nacos3:7848, cost time=15 ms

2025-01-07 10:58:10,199 INFO Shutting down FSMCaller...

2025-01-07 10:58:10,200 INFO onShutdown.

2025-01-07 10:58:10,201 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@51655fbb[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:58:10,201 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@5ef3271e[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:58:10,201 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-07 10:58:10,201 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-07 10:58:10,201 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-07 10:58:10,201 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-07 10:58:10,201 INFO The number of active nodes decrement to 1.

2025-01-07 10:58:10,202 INFO Node <naming_instance_metadata/nacos2:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 10:58:10,202 INFO Stop the RaftGroupService successfully.

2025-01-07 10:58:10,203 INFO Node <naming_persistent_service_v2/nacos2:7848> shutdown, currTerm=1 state=STATE_FOLLOWER.

2025-01-07 10:58:10,206 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2025-01-07 10:58:10,207 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 10:58:10,208 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=1, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-07 10:58:10,210 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 10:58:10,211 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 10:58:10,212 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 10:58:10,227 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=nacos3:7848, cost time=19 ms

2025-01-07 10:58:10,227 INFO Shutting down FSMCaller...

2025-01-07 10:58:10,228 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=186, target=nacos3:7848}}.

2025-01-07 10:58:10,228 INFO onShutdown.

2025-01-07 10:58:10,228 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:58:10,228 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:58:10,230 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=194, target=nacos1:7848}}.

2025-01-07 10:58:10,231 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 10:58:10,231 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:58:10,236 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@4122523e[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 2].

2025-01-07 10:58:10,236 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@4443df6d[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:58:10,237 INFO The number of active nodes decrement to 0.

2025-01-07 10:58:10,239 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@2acf59dd[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 612].

2025-01-07 10:58:10,240 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-07 10:58:10,241 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@a208f4c[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:58:10,241 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-07 10:58:10,241 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@71438134[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:58:10,241 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-07 10:58:10,242 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@61282ab2[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:58:10,242 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-07 10:58:10,245 INFO Node <naming_persistent_service_v2/nacos2:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 10:58:10,245 INFO Stop the RaftGroupService successfully.

2025-01-07 10:58:10,250 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=111, target=nacos3:7848}}.

2025-01-07 10:58:10,250 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:58:10,250 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:58:10,250 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=124, target=nacos2:7848}}.

2025-01-07 10:58:10,250 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 10:58:10,250 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:58:10,252 INFO Connection disconnected: /172.19.0.4:40778

2025-01-07 10:58:10,252 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2025-01-07 10:58:10,252 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=120, target=nacos1:7848}}.

2025-01-07 10:58:10,252 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 10:58:10,252 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:58:10,257 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@51fa5af9[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 1080].

2025-01-07 10:58:10,414 INFO Connection disconnected: /172.19.0.5:33938

2025-01-07 10:58:50,904 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2025-01-07 10:58:51,070 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2025-01-07 10:58:51,625 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2025-01-07 10:58:51,626 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2025-01-07 10:58:51,627 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2025-01-07 10:58:51,640 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2025-01-07 10:58:51,658 INFO The number of active nodes increment to 1.

2025-01-07 10:58:52,406 INFO Starts FSMCaller successfully.

2025-01-07 10:58:52,428 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service/snapshot.

2025-01-07 10:58:52,428 INFO Node <naming_persistent_service/nacos2:7848> target priority value has changed from: 0, to: -1.

2025-01-07 10:58:52,514 INFO Node <naming_persistent_service/nacos2:7848> init, term=1, lastLogId=LogId [index=1, term=1], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:58:52,531 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:58:52,532 INFO Start the RaftGroupService successfully.

2025-01-07 10:58:52,553 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:58:52,567 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:58:52,632 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:58:52,632 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:58:52,820 INFO Creating new channel to: nacos1:7848.

2025-01-07 10:58:52,820 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 10:58:52,877 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 10:58:52,877 INFO The channel nacos1:7848 has successfully established.

2025-01-07 10:58:53,006 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:58:53,006 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:58:53,007 INFO The number of active nodes increment to 2.

2025-01-07 10:58:53,038 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 10:58:53,038 INFO The channel nacos2:7848 has successfully established.

2025-01-07 10:58:53,539 INFO Starts FSMCaller successfully.

2025-01-07 10:58:53,540 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2025-01-07 10:58:53,540 INFO Node <naming_persistent_service_v2/nacos2:7848> target priority value has changed from: 0, to: -1.

2025-01-07 10:58:53,575 INFO Node <naming_persistent_service_v2/nacos2:7848> init, term=1, lastLogId=LogId [index=1, term=1], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:58:53,599 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:58:53,600 INFO Start the RaftGroupService successfully.

2025-01-07 10:58:53,705 INFO The number of active nodes increment to 3.

2025-01-07 10:58:54,015 INFO Starts FSMCaller successfully.

2025-01-07 10:58:54,015 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2025-01-07 10:58:54,015 INFO Node <naming_instance_metadata/nacos2:7848> target priority value has changed from: 0, to: -1.

2025-01-07 10:58:54,046 INFO Node <naming_instance_metadata/nacos2:7848> init, term=1, lastLogId=LogId [index=1, term=1], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:58:54,103 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:58:54,103 INFO Start the RaftGroupService successfully.

2025-01-07 10:58:54,132 INFO The number of active nodes increment to 4.

2025-01-07 10:58:54,387 INFO Starts FSMCaller successfully.

2025-01-07 10:58:54,388 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2025-01-07 10:58:54,388 INFO Node <naming_service_metadata/nacos2:7848> target priority value has changed from: 0, to: -1.

2025-01-07 10:58:54,389 INFO Node <naming_service_metadata/nacos2:7848> init, term=1, lastLogId=LogId [index=1, term=1], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:58:54,391 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:58:54,392 INFO Start the RaftGroupService successfully.

2025-01-07 10:58:56,760 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteRequest from nacos1:7848, term=2, currTerm=1, granted=true, requestLastLogId=LogId [index=1, term=1], lastLogId=LogId [index=1, term=1].

2025-01-07 10:58:56,995 INFO Node <naming_persistent_service/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=2, currTerm=1.

2025-01-07 10:58:57,021 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=2, votedFor=0.0.0.0:0, cost time=25 ms

2025-01-07 10:58:57,029 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=2, votedFor=nacos1:7848, cost time=1 ms

2025-01-07 10:58:57,107 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteRequest from nacos1:7848, term=2, currTerm=1, granted=true, requestLastLogId=LogId [index=1, term=1], lastLogId=LogId [index=1, term=1].

2025-01-07 10:58:57,199 INFO Node <naming_persistent_service_v2/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=2, currTerm=1.

2025-01-07 10:58:57,206 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=2, votedFor=0.0.0.0:0, cost time=7 ms

2025-01-07 10:58:57,213 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=2, votedFor=nacos1:7848, cost time=4 ms

2025-01-07 10:58:57,527 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2025-01-07 10:58:58,187 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteRequest from nacos1:7848, term=2, currTerm=1, granted=true, requestLastLogId=LogId [index=1, term=1], lastLogId=LogId [index=1, term=1].

2025-01-07 10:58:58,216 INFO Node <naming_instance_metadata/nacos2:7848> received PreVoteRequest from nacos1:7848, term=2, currTerm=1, granted=true, requestLastLogId=LogId [index=1, term=1], lastLogId=LogId [index=1, term=1].

2025-01-07 10:58:58,253 INFO Node <naming_service_metadata/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=2, currTerm=1.

2025-01-07 10:58:58,256 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=2, votedFor=0.0.0.0:0, cost time=3 ms

2025-01-07 10:58:58,262 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=2, votedFor=nacos1:7848, cost time=2 ms

2025-01-07 10:58:58,340 INFO Node <naming_instance_metadata/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=2, currTerm=1.

2025-01-07 10:58:58,348 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=2, votedFor=0.0.0.0:0, cost time=9 ms

2025-01-07 10:58:58,370 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=2, votedFor=nacos1:7848, cost time=10 ms

2025-01-07 11:14:32,116 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_2.

2025-01-07 11:14:32,116 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_2.

2025-01-07 11:17:35,751 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_2.

2025-01-07 11:17:35,751 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_2.

2025-01-07 11:20:58,134 INFO Node <naming_service_metadata/nacos2:7848> start vote and grant vote self, term=2.

2025-01-07 11:20:58,143 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=2, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-07 11:20:58,145 INFO Creating new channel to: nacos3:7848.

2025-01-07 11:20:58,145 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 11:20:58,149 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 11:20:58,149 INFO The channel nacos3:7848 has successfully established.

2025-01-07 11:20:58,158 INFO Peer nacos3:7848 is connected.

2025-01-07 11:20:58,178 INFO Creating new channel to: nacos1:7848.

2025-01-07 11:20:58,178 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 11:20:58,191 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 11:20:58,191 INFO The channel nacos1:7848 has successfully established.

2025-01-07 11:20:58,195 INFO Peer nacos1:7848 is connected.

2025-01-07 11:20:58,200 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 11:20:58,200 WARN Node <naming_service_metadata/nacos2:7848> RequestVote to nacos3:7848 error: Status[ENOENT<1012>: Peer id not found: nacos3:7848, group: naming_service_metadata].

2025-01-07 11:20:58,201 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 11:20:58,208 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 11:20:58,212 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 11:20:58,213 INFO Connection disconnected: /172.19.0.3:51086

2025-01-07 11:20:58,232 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=3, votedFor=nacos2:7848, cost time=6 ms

2025-01-07 11:20:58,233 INFO Node <naming_service_metadata/nacos2:7848> received TimeoutNowRequest from nacos1:7848, term=2.

2025-01-07 11:20:58,235 INFO Node <naming_service_metadata/nacos2:7848> shutdown, currTerm=3 state=STATE_CANDIDATE.

2025-01-07 11:20:58,243 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=3, votedFor=nacos2:7848, cost time=5 ms

2025-01-07 11:20:58,243 INFO Shutting down FSMCaller...

2025-01-07 11:20:58,244 INFO onShutdown.

2025-01-07 11:20:58,247 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=202, target=nacos3:7848}}.

2025-01-07 11:20:58,248 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 11:20:58,248 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:20:58,248 INFO Node <naming_persistent_service/nacos2:7848> start vote and grant vote self, term=2.

2025-01-07 11:20:58,249 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=2, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-07 11:20:58,252 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=206, target=nacos1:7848}}.

2025-01-07 11:20:58,252 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 11:20:58,252 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:20:58,254 WARN Node <naming_service_metadata/nacos2:7848> RequestVote to nacos1:7848 error: Status[ENOENT<1012>: Peer id not found: nacos1:7848, group: naming_service_metadata].

2025-01-07 11:20:58,257 INFO Creating new channel to: nacos3:7848.

2025-01-07 11:20:58,257 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 11:20:58,261 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@73a4f82[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 11:20:58,261 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-07 11:20:58,261 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-07 11:20:58,261 INFO The number of active nodes decrement to 3.

2025-01-07 11:20:58,262 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-07 11:20:58,262 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-07 11:20:58,264 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 11:20:58,264 INFO The channel nacos3:7848 has successfully established.

2025-01-07 11:20:58,272 INFO Peer nacos3:7848 is connected.

2025-01-07 11:20:58,278 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@793b4351[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 2].

2025-01-07 11:20:58,278 INFO Node <naming_service_metadata/nacos2:7848> shutdown, currTerm=3 state=STATE_SHUTTING.

2025-01-07 11:20:58,278 INFO Stop the RaftGroupService successfully.

2025-01-07 11:20:58,279 INFO Creating new channel to: nacos1:7848.

2025-01-07 11:20:58,279 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 11:20:58,289 INFO Node <naming_instance_metadata/nacos2:7848> start vote and grant vote self, term=2.

2025-01-07 11:20:58,289 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2025-01-07 11:20:58,290 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=2, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-07 11:20:58,290 INFO Creating new channel to: nacos3:7848.

2025-01-07 11:20:58,291 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 11:20:58,293 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 11:20:58,293 INFO The channel nacos1:7848 has successfully established.

2025-01-07 11:20:58,295 INFO Peer nacos1:7848 is connected.

2025-01-07 11:20:58,300 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 11:20:58,300 INFO The channel nacos3:7848 has successfully established.

2025-01-07 11:20:58,301 INFO Peer nacos3:7848 is connected.

2025-01-07 11:20:58,312 WARN Node <naming_persistent_service/nacos2:7848> RequestVote to nacos3:7848 error: Status[ENOENT<1012>: Peer id not found: nacos3:7848, group: naming_persistent_service].

2025-01-07 11:20:58,321 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=3, votedFor=nacos2:7848, cost time=18 ms

2025-01-07 11:20:58,321 INFO Node <naming_persistent_service/nacos2:7848> received TimeoutNowRequest from nacos1:7848, term=2.

2025-01-07 11:20:58,323 INFO Node <naming_persistent_service/nacos2:7848> shutdown, currTerm=3 state=STATE_CANDIDATE.

2025-01-07 11:20:58,336 INFO Creating new channel to: nacos1:7848.

2025-01-07 11:20:58,336 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 11:20:58,337 INFO Node <naming_persistent_service_v2/nacos2:7848> start vote and grant vote self, term=2.

2025-01-07 11:20:58,337 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=2, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-07 11:20:58,346 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 11:20:58,346 INFO The channel nacos1:7848 has successfully established.

2025-01-07 11:20:58,346 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=3, votedFor=nacos2:7848, cost time=16 ms

2025-01-07 11:20:58,346 INFO Shutting down FSMCaller...

2025-01-07 11:20:58,357 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=210, target=nacos3:7848}}.

2025-01-07 11:20:58,357 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 11:20:58,357 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:20:58,363 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=3, votedFor=nacos2:7848, cost time=15 ms

2025-01-07 11:20:58,363 INFO Node <naming_instance_metadata/nacos2:7848> received TimeoutNowRequest from nacos1:7848, term=2.

2025-01-07 11:20:58,364 WARN Node <naming_instance_metadata/nacos2:7848> RequestVote to nacos3:7848 error: Status[ENOENT<1012>: Peer id not found: nacos3:7848, group: naming_instance_metadata].

2025-01-07 11:20:58,365 WARN Node <naming_persistent_service/nacos2:7848> RequestVote to nacos1:7848 error: Status[ENOENT<1012>: Peer id not found: nacos1:7848, group: naming_persistent_service].

2025-01-07 11:20:58,366 INFO Peer nacos1:7848 is connected.

2025-01-07 11:20:58,366 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=214, target=nacos1:7848}}.

2025-01-07 11:20:58,366 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 11:20:58,366 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:20:58,367 INFO Creating new channel to: nacos3:7848.

2025-01-07 11:20:58,367 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 11:20:58,367 INFO onShutdown.

2025-01-07 11:20:58,373 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 11:20:58,373 INFO The channel nacos3:7848 has successfully established.

2025-01-07 11:20:58,374 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@786238d6[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 2].

2025-01-07 11:20:58,374 INFO Peer nacos3:7848 is connected.

2025-01-07 11:20:58,374 INFO The number of active nodes decrement to 2.

2025-01-07 11:20:58,379 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@5621148c[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 11:20:58,379 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-07 11:20:58,379 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-07 11:20:58,380 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-07 11:20:58,380 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-07 11:20:58,397 WARN Node <naming_instance_metadata/nacos2:7848> RequestVote to nacos1:7848 error: Status[ENOENT<1012>: Peer id not found: nacos1:7848, group: naming_instance_metadata].

2025-01-07 11:20:58,398 INFO Node <naming_persistent_service/nacos2:7848> shutdown, currTerm=3 state=STATE_SHUTTING.

2025-01-07 11:20:58,398 INFO Stop the RaftGroupService successfully.

2025-01-07 11:20:58,398 INFO Node <naming_instance_metadata/nacos2:7848> shutdown, currTerm=3 state=STATE_CANDIDATE.

2025-01-07 11:20:58,401 INFO Creating new channel to: nacos1:7848.

2025-01-07 11:20:58,401 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 11:20:58,405 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service/log.

2025-01-07 11:20:58,410 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=3, votedFor=nacos2:7848, cost time=5 ms

2025-01-07 11:20:58,410 INFO Shutting down FSMCaller...

2025-01-07 11:20:58,411 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 11:20:58,411 INFO The channel nacos1:7848 has successfully established.

2025-01-07 11:20:58,411 INFO Connection disconnected: /172.19.0.5:40450

2025-01-07 11:20:58,411 INFO Peer nacos1:7848 is connected.

2025-01-07 11:20:58,412 INFO onShutdown.

2025-01-07 11:20:58,418 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=218, target=nacos3:7848}}.

2025-01-07 11:20:58,418 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 11:20:58,418 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:20:58,420 WARN Node <naming_persistent_service_v2/nacos2:7848> RequestVote to nacos3:7848 error: Status[ENOENT<1012>: Peer id not found: nacos3:7848, group: naming_persistent_service_v2].

2025-01-07 11:20:58,431 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=226, target=nacos1:7848}}.

2025-01-07 11:20:58,431 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 11:20:58,431 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:20:58,434 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@37c987c[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 11:20:58,434 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-07 11:20:58,434 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-07 11:20:58,434 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@bac36ea[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 2].

2025-01-07 11:20:58,434 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-07 11:20:58,434 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-07 11:20:58,435 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=3, votedFor=nacos2:7848, cost time=3 ms

2025-01-07 11:20:58,435 INFO Node <naming_persistent_service_v2/nacos2:7848> received TimeoutNowRequest from nacos1:7848, term=2.

2025-01-07 11:20:58,435 INFO The number of active nodes decrement to 1.

2025-01-07 11:20:58,439 INFO Node <naming_instance_metadata/nacos2:7848> shutdown, currTerm=3 state=STATE_SHUTTING.

2025-01-07 11:20:58,439 INFO Stop the RaftGroupService successfully.

2025-01-07 11:20:58,439 INFO Node <naming_persistent_service_v2/nacos2:7848> shutdown, currTerm=3 state=STATE_CANDIDATE.

2025-01-07 11:20:58,442 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2025-01-07 11:20:58,443 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=3, votedFor=nacos2:7848, cost time=2 ms

2025-01-07 11:20:58,443 INFO Shutting down FSMCaller...

2025-01-07 11:20:58,443 INFO onShutdown.

2025-01-07 11:20:58,444 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=230, target=nacos3:7848}}.

2025-01-07 11:20:58,444 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 11:20:58,444 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:20:58,445 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=238, target=nacos1:7848}}.

2025-01-07 11:20:58,445 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 11:20:58,445 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:20:58,449 WARN Node <naming_persistent_service_v2/nacos2:7848> RequestVote to nacos1:7848 error: Status[ENOENT<1012>: Peer id not found: nacos1:7848, group: naming_persistent_service_v2].

2025-01-07 11:20:58,451 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@566f91ce[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 11:20:58,451 INFO The number of active nodes decrement to 0.

2025-01-07 11:20:58,452 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@45b9b3e0[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 2].

2025-01-07 11:20:58,454 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@64068235[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 967].

2025-01-07 11:20:58,454 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-07 11:20:58,456 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@16e19329[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 11:20:58,456 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-07 11:20:58,456 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@11fa0dd7[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 11:20:58,456 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-07 11:20:58,458 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@4ff33c94[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 2].

2025-01-07 11:20:58,458 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-07 11:20:58,459 INFO Node <naming_persistent_service_v2/nacos2:7848> shutdown, currTerm=3 state=STATE_SHUTTING.

2025-01-07 11:20:58,459 INFO Stop the RaftGroupService successfully.

2025-01-07 11:20:58,461 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2025-01-07 11:20:58,461 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=107, target=nacos3:7848}}.

2025-01-07 11:20:58,462 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 11:20:58,462 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:20:58,462 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=121, target=nacos2:7848}}.

2025-01-07 11:20:58,462 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 11:20:58,462 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:20:58,463 INFO Connection disconnected: /172.19.0.4:46370

2025-01-07 11:20:58,462 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=112, target=nacos1:7848}}.

2025-01-07 11:20:58,463 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 11:20:58,463 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:20:58,478 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@4b7ecf47[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1595].

2025-01-07 11:21:27,773 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2025-01-07 11:21:27,922 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2025-01-07 11:21:28,329 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2025-01-07 11:21:28,335 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2025-01-07 11:21:28,335 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2025-01-07 11:21:28,340 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2025-01-07 11:21:28,346 INFO The number of active nodes increment to 1.

2025-01-07 11:21:28,972 INFO Starts FSMCaller successfully.

2025-01-07 11:21:28,990 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service/snapshot.

2025-01-07 11:21:29,022 INFO Node <naming_persistent_service/nacos2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 11:21:29,029 WARN RPC server is not started in RaftGroupService.

2025-01-07 11:21:29,029 INFO Start the RaftGroupService successfully.

2025-01-07 11:21:29,042 INFO Creating new channel to: nacos3:7848.

2025-01-07 11:21:29,056 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 11:21:29,092 INFO The channel nacos3:7848 is in state: TRANSIENT_FAILURE.

2025-01-07 11:21:29,092 WARN There has been some transient failure on this channel nacos3:7848.

2025-01-07 11:21:29,119 ERROR Fail to connect nacos3:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception.

2025-01-07 11:21:29,120 ERROR Fail to connect peer nacos3:7848 to get leader for group naming_persistent_service.

2025-01-07 11:21:29,120 INFO Creating new channel to: nacos1:7848.

2025-01-07 11:21:29,121 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 11:21:29,139 INFO The channel nacos1:7848 is in state: TRANSIENT_FAILURE.

2025-01-07 11:21:29,140 WARN There has been some transient failure on this channel nacos1:7848.

2025-01-07 11:21:29,143 ERROR Fail to connect nacos1:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception.

2025-01-07 11:21:29,143 ERROR Fail to connect peer nacos1:7848 to get leader for group naming_persistent_service.

2025-01-07 11:21:29,144 INFO Creating new channel to: nacos2:7848.

2025-01-07 11:21:29,144 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 11:21:29,327 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 11:21:29,327 INFO The channel nacos2:7848 has successfully established.

2025-01-07 11:21:29,480 INFO The number of active nodes increment to 2.

2025-01-07 11:21:29,946 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 11:21:29,946 INFO The channel nacos3:7848 has successfully established.

2025-01-07 11:21:30,000 INFO Starts FSMCaller successfully.

2025-01-07 11:21:30,001 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2025-01-07 11:21:30,018 INFO Node <naming_persistent_service_v2/nacos2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 11:21:30,059 WARN RPC server is not started in RaftGroupService.

2025-01-07 11:21:30,059 INFO Start the RaftGroupService successfully.

2025-01-07 11:21:30,175 INFO The number of active nodes increment to 3.

2025-01-07 11:21:30,306 WARN Channel[nacos1:7848] in [INACTIVE] state 2 times, it has been removed from the pool.

2025-01-07 11:21:30,328 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 11:21:30,328 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:21:30,339 INFO Starts FSMCaller successfully.

2025-01-07 11:21:30,345 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2025-01-07 11:21:30,379 INFO Node <naming_instance_metadata/nacos2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 11:21:30,395 WARN RPC server is not started in RaftGroupService.

2025-01-07 11:21:30,395 INFO Start the RaftGroupService successfully.

2025-01-07 11:21:30,413 INFO The number of active nodes increment to 4.

2025-01-07 11:21:30,437 INFO Creating new channel to: nacos1:7848.

2025-01-07 11:21:30,437 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 11:21:30,452 INFO The channel nacos1:7848 is in state: TRANSIENT_FAILURE.

2025-01-07 11:21:30,452 WARN There has been some transient failure on this channel nacos1:7848.

2025-01-07 11:21:30,454 ERROR Fail to connect nacos1:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception.

2025-01-07 11:21:30,463 ERROR Fail to connect peer nacos1:7848 to get leader for group naming_instance_metadata.

2025-01-07 11:21:30,558 INFO Starts FSMCaller successfully.

2025-01-07 11:21:30,558 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2025-01-07 11:21:30,571 INFO Node <naming_service_metadata/nacos2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 11:21:30,591 WARN RPC server is not started in RaftGroupService.

2025-01-07 11:21:30,591 INFO Start the RaftGroupService successfully.

2025-01-07 11:21:30,620 WARN Channel[nacos1:7848] in [INACTIVE] state 2 times, it has been removed from the pool.

2025-01-07 11:21:30,620 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 11:21:30,620 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:21:31,155 INFO Creating new channel to: nacos1:7848.

2025-01-07 11:21:31,156 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 11:21:31,208 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 11:21:31,208 INFO The channel nacos1:7848 has successfully established.

2025-01-07 11:21:35,096 INFO Node <naming_persistent_service/nacos2:7848> term 0 start preVote.

2025-01-07 11:21:35,097 INFO Creating new channel to: nacos3:7848.

2025-01-07 11:21:35,098 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 11:21:35,162 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 11:21:35,162 INFO The channel nacos3:7848 has successfully established.

2025-01-07 11:21:35,190 INFO Peer nacos3:7848 is connected.

2025-01-07 11:21:35,228 INFO Creating new channel to: nacos1:7848.

2025-01-07 11:21:35,228 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 11:21:35,254 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 11:21:35,254 INFO The channel nacos1:7848 has successfully established.

2025-01-07 11:21:35,275 INFO Peer nacos1:7848 is connected.

2025-01-07 11:21:35,325 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteResponse from nacos3:7848, term=0, granted=true.

2025-01-07 11:21:35,325 INFO Node <naming_persistent_service/nacos2:7848> start vote and grant vote self, term=0.

2025-01-07 11:21:35,371 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=nacos2:7848, cost time=34 ms

2025-01-07 11:21:35,411 INFO Node <naming_persistent_service/nacos2:7848> become leader of group, term=1, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 11:21:35,460 INFO Node <naming_persistent_service_v2/nacos2:7848> term 0 start preVote.

2025-01-07 11:21:35,461 INFO Creating new channel to: nacos3:7848.

2025-01-07 11:21:35,461 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 11:21:35,465 INFO Replicator [group: naming_persistent_service, peer: nacos3:7848, type: Follower] is started

2025-01-07 11:21:35,480 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 11:21:35,480 INFO The channel nacos3:7848 has successfully established.

2025-01-07 11:21:35,494 INFO Peer nacos3:7848 is connected.

2025-01-07 11:21:35,528 INFO Replicator [group: naming_persistent_service, peer: nacos1:7848, type: Follower] is started

2025-01-07 11:21:35,547 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2025-01-07 11:21:35,549 INFO Creating new channel to: nacos1:7848.

2025-01-07 11:21:35,549 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 11:21:35,569 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 11:21:35,569 INFO The channel nacos1:7848 has successfully established.

2025-01-07 11:21:35,588 WARN Node <naming_persistent_service/nacos2:7848> received invalid PreVoteResponse from nacos1:7848, state not in STATE_FOLLOWER but STATE_LEADER.

2025-01-07 11:21:35,590 INFO Peer nacos1:7848 is connected.

2025-01-07 11:21:35,591 WARN Node <naming_persistent_service/nacos2:7848> received invalid RequestVoteResponse from nacos1:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 11:21:35,603 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteResponse from nacos3:7848, term=0, granted=true.

2025-01-07 11:21:35,603 INFO Node <naming_persistent_service_v2/nacos2:7848> start vote and grant vote self, term=0.

2025-01-07 11:21:35,645 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=nacos2:7848, cost time=41 ms

2025-01-07 11:21:35,649 WARN Node <naming_persistent_service_v2/nacos2:7848> received invalid PreVoteResponse from nacos1:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 11:21:35,696 INFO Node <naming_persistent_service_v2/nacos2:7848> become leader of group, term=1, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 11:21:35,697 INFO Replicator [group: naming_persistent_service_v2, peer: nacos3:7848, type: Follower] is started

2025-01-07 11:21:35,698 INFO Replicator [group: naming_persistent_service_v2, peer: nacos1:7848, type: Follower] is started

2025-01-07 11:21:35,734 WARN Node <naming_persistent_service_v2/nacos2:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 11:21:35,809 INFO onLeaderStart: term=1.

2025-01-07 11:21:35,839 INFO onLeaderStart: term=1.

2025-01-07 11:21:35,904 INFO Node <naming_instance_metadata/nacos2:7848> term 0 start preVote.

2025-01-07 11:21:35,905 INFO Creating new channel to: nacos3:7848.

2025-01-07 11:21:35,905 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 11:21:35,910 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 11:21:35,910 INFO The channel nacos3:7848 has successfully established.

2025-01-07 11:21:35,910 INFO Peer nacos3:7848 is connected.

2025-01-07 11:21:35,922 INFO Creating new channel to: nacos1:7848.

2025-01-07 11:21:35,922 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 11:21:35,956 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 11:21:35,956 INFO The channel nacos1:7848 has successfully established.

2025-01-07 11:21:35,957 INFO Peer nacos1:7848 is connected.

2025-01-07 11:21:35,989 INFO Node <naming_instance_metadata/nacos2:7848> received PreVoteResponse from nacos3:7848, term=0, granted=true.

2025-01-07 11:21:35,989 INFO Node <naming_instance_metadata/nacos2:7848> start vote and grant vote self, term=0.

2025-01-07 11:21:36,006 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=nacos2:7848, cost time=16 ms

2025-01-07 11:21:36,055 WARN Node <naming_instance_metadata/nacos2:7848> received invalid PreVoteResponse from nacos1:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 11:21:36,061 INFO Node <naming_instance_metadata/nacos2:7848> become leader of group, term=1, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 11:21:36,061 INFO Replicator [group: naming_instance_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-07 11:21:36,209 INFO Replicator [group: naming_instance_metadata, peer: nacos1:7848, type: Follower] is started

2025-01-07 11:21:36,276 WARN Node <naming_instance_metadata/nacos2:7848> received invalid RequestVoteResponse from nacos1:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 11:21:36,411 INFO onLeaderStart: term=1.

2025-01-07 11:21:36,424 INFO Node <naming_service_metadata/nacos2:7848> term 0 start preVote.

2025-01-07 11:21:36,433 INFO Creating new channel to: nacos3:7848.

2025-01-07 11:21:36,433 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 11:21:36,464 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 11:21:36,464 INFO The channel nacos3:7848 has successfully established.

2025-01-07 11:21:36,467 INFO Peer nacos3:7848 is connected.

2025-01-07 11:21:36,528 INFO Creating new channel to: nacos1:7848.

2025-01-07 11:21:36,528 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 11:21:36,544 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 11:21:36,545 INFO The channel nacos1:7848 has successfully established.

2025-01-07 11:21:36,545 INFO Peer nacos1:7848 is connected.

2025-01-07 11:21:36,599 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteResponse from nacos3:7848, term=0, granted=true.

2025-01-07 11:21:36,607 INFO Node <naming_service_metadata/nacos2:7848> start vote and grant vote self, term=0.

2025-01-07 11:21:36,629 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=nacos2:7848, cost time=2 ms

2025-01-07 11:21:36,629 WARN Node <naming_service_metadata/nacos2:7848> received invalid PreVoteResponse from nacos1:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 11:21:36,650 INFO Node <naming_service_metadata/nacos2:7848> become leader of group, term=1, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 11:21:36,650 INFO Replicator [group: naming_service_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-07 11:21:36,668 INFO Replicator [group: naming_service_metadata, peer: nacos1:7848, type: Follower] is started

2025-01-07 11:21:36,689 WARN Node <naming_service_metadata/nacos2:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 11:21:36,743 INFO onLeaderStart: term=1.

2025-01-07 11:38:45,867 INFO Node <naming_service_metadata/nacos2:7848> shutdown, currTerm=1 state=STATE_LEADER.

2025-01-07 11:38:45,896 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_service_metadata, waitId=2, type=Follower] is going to quit

2025-01-07 11:38:45,897 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2025-01-07 11:38:45,921 INFO Connection disconnected: /172.19.0.5:56936

2025-01-07 11:38:45,922 WARN Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_service_metadata, waitId=1, type=Follower] stops sending entries.

2025-01-07 11:38:45,937 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=nacos2:7848, cost time=13 ms

2025-01-07 11:38:45,937 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_service_metadata, waitId=1, type=Follower] is going to quit

2025-01-07 11:38:45,937 INFO Shutting down FSMCaller...

2025-01-07 11:38:45,940 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=223, target=nacos3:7848}}.

2025-01-07 11:38:45,940 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 11:38:45,940 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:38:45,944 INFO onShutdown.

2025-01-07 11:38:45,944 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=228, target=nacos1:7848}}.

2025-01-07 11:38:45,944 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 11:38:45,944 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:38:45,947 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@156493d8[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 5].

2025-01-07 11:38:45,947 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-07 11:38:45,950 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-07 11:38:45,950 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-07 11:38:45,950 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-07 11:38:45,954 INFO Node <naming_service_metadata/nacos2:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 11:38:45,954 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@6bf7b860[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 4093].

2025-01-07 11:38:45,954 INFO Stop the RaftGroupService successfully.

2025-01-07 11:38:45,954 INFO Node <naming_persistent_service/nacos2:7848> shutdown, currTerm=1 state=STATE_LEADER.

2025-01-07 11:38:45,955 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_persistent_service, waitId=1, type=Follower] is going to quit

2025-01-07 11:38:45,955 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2025-01-07 11:38:45,956 WARN Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service, waitId=2, type=Follower] stops sending entries.

2025-01-07 11:38:45,957 INFO The number of active nodes decrement to 3.

2025-01-07 11:38:45,959 INFO Connection disconnected: /172.19.0.4:44882

2025-01-07 11:38:45,971 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=nacos2:7848, cost time=16 ms

2025-01-07 11:38:45,971 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service, waitId=2, type=Follower] is going to quit

2025-01-07 11:38:45,971 INFO Shutting down FSMCaller...

2025-01-07 11:38:45,976 INFO onShutdown.

2025-01-07 11:38:45,980 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[ENOENT<1012>: Peer id not found: nacos3:7848, group: naming_persistent_service_v2], groupId=naming_persistent_service_v2

2025-01-07 11:38:45,982 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=189, target=nacos3:7848}}.

2025-01-07 11:38:45,982 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 11:38:45,982 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:38:45,985 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=193, target=nacos1:7848}}.

2025-01-07 11:38:45,985 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 11:38:45,985 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:38:45,986 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-07 11:38:45,986 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-07 11:38:45,986 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-07 11:38:45,986 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-07 11:38:45,986 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2025-01-07 11:38:46,002 INFO Node <naming_persistent_service/nacos2:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 11:38:46,003 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[ENOENT<1012>: Peer id not found: nacos1:7848, group: naming_instance_metadata], groupId=naming_instance_metadata

2025-01-07 11:38:46,009 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[ENOENT<1012>: Peer id not found: nacos1:7848, group: naming_persistent_service_v2], groupId=naming_persistent_service_v2

2025-01-07 11:38:46,020 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@12e36b7f[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 4098].

2025-01-07 11:38:46,020 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@564f401b[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 5].

2025-01-07 11:38:46,021 INFO The number of active nodes decrement to 2.

2025-01-07 11:38:46,021 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[ENOENT<1012>: Peer id not found: nacos3:7848, group: naming_instance_metadata], groupId=naming_instance_metadata

2025-01-07 11:38:46,021 INFO Stop the RaftGroupService successfully.

2025-01-07 11:38:46,033 INFO Node <naming_instance_metadata/nacos2:7848> shutdown, currTerm=1 state=STATE_LEADER.

2025-01-07 11:38:46,036 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_instance_metadata, waitId=1, type=Follower] is going to quit

2025-01-07 11:38:46,036 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2025-01-07 11:38:46,037 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service/log.

2025-01-07 11:38:46,037 WARN Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_instance_metadata, waitId=2, type=Follower] stops sending entries.

2025-01-07 11:38:46,039 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=nacos2:7848, cost time=2 ms

2025-01-07 11:38:46,039 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_instance_metadata, waitId=2, type=Follower] is going to quit

2025-01-07 11:38:46,039 INFO Shutting down FSMCaller...

2025-01-07 11:38:46,044 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=211, target=nacos3:7848}}.

2025-01-07 11:38:46,044 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 11:38:46,044 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:38:46,045 INFO onShutdown.

2025-01-07 11:38:46,059 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=215, target=nacos1:7848}}.

2025-01-07 11:38:46,059 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 11:38:46,059 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:38:46,076 INFO The number of active nodes decrement to 1.

2025-01-07 11:38:46,077 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@5862decc[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 5].

2025-01-07 11:38:46,078 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@49188b6d[Shutting down, pool size = 12, active threads = 0, queued tasks = 0, completed tasks = 4097].

2025-01-07 11:38:46,078 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-07 11:38:46,078 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-07 11:38:46,078 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-07 11:38:46,078 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-07 11:38:46,080 INFO Node <naming_instance_metadata/nacos2:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 11:38:46,080 INFO Stop the RaftGroupService successfully.

2025-01-07 11:38:46,080 INFO Node <naming_persistent_service_v2/nacos2:7848> shutdown, currTerm=1 state=STATE_LEADER.

2025-01-07 11:38:46,084 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_persistent_service_v2, waitId=1, type=Follower] is going to quit

2025-01-07 11:38:46,084 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2025-01-07 11:38:46,085 WARN Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service_v2, waitId=2, type=Follower] stops sending entries.

2025-01-07 11:38:46,088 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=nacos2:7848, cost time=2 ms

2025-01-07 11:38:46,088 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service_v2, waitId=2, type=Follower] is going to quit

2025-01-07 11:38:46,088 INFO Shutting down FSMCaller...

2025-01-07 11:38:46,089 INFO onShutdown.

2025-01-07 11:38:46,089 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2025-01-07 11:38:46,091 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=198, target=nacos3:7848}}.

2025-01-07 11:38:46,091 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 11:38:46,091 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:38:46,092 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=202, target=nacos1:7848}}.

2025-01-07 11:38:46,092 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 11:38:46,092 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:38:46,095 INFO The number of active nodes decrement to 0.

2025-01-07 11:38:46,096 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@2604b411[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 4098].

2025-01-07 11:38:46,096 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@f779e0d[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 5].

2025-01-07 11:38:46,098 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@56a999e3[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 8].

2025-01-07 11:38:46,098 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-07 11:38:46,098 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@639ccc43[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 4].

2025-01-07 11:38:46,098 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-07 11:38:46,099 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@66253707[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 1646].

2025-01-07 11:38:46,099 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-07 11:38:46,099 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@191020f2[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 11:38:46,099 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-07 11:38:46,100 INFO Node <naming_persistent_service_v2/nacos2:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 11:38:46,100 INFO Stop the RaftGroupService successfully.

2025-01-07 11:38:46,101 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=108, target=nacos3:7848}}.

2025-01-07 11:38:46,102 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 11:38:46,102 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:38:46,103 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=118, target=nacos2:7848}}.

2025-01-07 11:38:46,103 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 11:38:46,103 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:38:46,105 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2025-01-07 11:38:46,108 INFO Connection disconnected: /172.19.0.3:47130

2025-01-07 11:38:46,108 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=151, target=nacos1:7848}}.

2025-01-07 11:38:46,108 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 11:38:46,108 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:38:46,111 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@65aad84a[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 1229].

2025-01-07 11:39:18,059 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2025-01-07 11:39:18,221 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2025-01-07 11:39:18,794 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2025-01-07 11:39:18,798 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2025-01-07 11:39:18,798 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2025-01-07 11:39:18,811 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2025-01-07 11:39:18,833 INFO The number of active nodes increment to 1.

2025-01-07 11:39:19,956 INFO Starts FSMCaller successfully.

2025-01-07 11:39:19,974 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service/snapshot.

2025-01-07 11:39:19,991 INFO Node <naming_persistent_service/nacos2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 11:39:19,996 WARN RPC server is not started in RaftGroupService.

2025-01-07 11:39:19,997 INFO Start the RaftGroupService successfully.

2025-01-07 11:39:20,083 INFO Creating new channel to: nacos3:7848.

2025-01-07 11:39:20,112 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 11:39:20,184 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 11:39:20,184 INFO The channel nacos3:7848 has successfully established.

2025-01-07 11:39:20,480 INFO Creating new channel to: nacos1:7848.

2025-01-07 11:39:20,480 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 11:39:20,540 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 11:39:20,540 INFO The channel nacos1:7848 has successfully established.

2025-01-07 11:39:20,617 INFO Creating new channel to: nacos2:7848.

2025-01-07 11:39:20,617 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 11:39:20,643 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 11:39:20,643 INFO The channel nacos2:7848 has successfully established.

2025-01-07 11:39:20,729 INFO The number of active nodes increment to 2.

2025-01-07 11:39:20,907 INFO Starts FSMCaller successfully.

2025-01-07 11:39:20,907 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2025-01-07 11:39:20,929 INFO Node <naming_persistent_service_v2/nacos2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 11:39:20,930 WARN RPC server is not started in RaftGroupService.

2025-01-07 11:39:20,930 INFO Start the RaftGroupService successfully.

2025-01-07 11:39:20,979 INFO The number of active nodes increment to 3.

2025-01-07 11:39:21,159 INFO Starts FSMCaller successfully.

2025-01-07 11:39:21,159 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2025-01-07 11:39:21,164 INFO Node <naming_instance_metadata/nacos2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 11:39:21,167 WARN RPC server is not started in RaftGroupService.

2025-01-07 11:39:21,167 INFO Start the RaftGroupService successfully.

2025-01-07 11:39:21,179 INFO The number of active nodes increment to 4.

2025-01-07 11:39:21,491 INFO Starts FSMCaller successfully.

2025-01-07 11:39:21,492 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2025-01-07 11:39:21,507 INFO Node <naming_service_metadata/nacos2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 11:39:21,511 WARN RPC server is not started in RaftGroupService.

2025-01-07 11:39:21,519 INFO Start the RaftGroupService successfully.

2025-01-07 11:39:24,264 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteRequest from nacos1:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 11:39:24,343 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteRequest from nacos1:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 11:39:24,483 INFO Node <naming_persistent_service/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=1, currTerm=0.

2025-01-07 11:39:24,503 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=0.0.0.0:0, cost time=19 ms

2025-01-07 11:39:24,507 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=nacos1:7848, cost time=3 ms

2025-01-07 11:39:24,579 INFO Node <naming_persistent_service_v2/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=1, currTerm=0.

2025-01-07 11:39:24,587 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=0.0.0.0:0, cost time=9 ms

2025-01-07 11:39:24,597 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=nacos1:7848, cost time=9 ms

2025-01-07 11:39:24,865 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2025-01-07 11:39:25,026 INFO Node <naming_instance_metadata/nacos2:7848> received PreVoteRequest from nacos1:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 11:39:25,090 INFO Node <naming_instance_metadata/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=1, currTerm=0.

2025-01-07 11:39:25,093 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=0.0.0.0:0, cost time=3 ms

2025-01-07 11:39:25,095 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=nacos1:7848, cost time=1 ms

2025-01-07 11:39:25,467 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteRequest from nacos1:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 11:39:25,503 INFO Node <naming_service_metadata/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=1, currTerm=0.

2025-01-07 11:39:25,506 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=0.0.0.0:0, cost time=2 ms

2025-01-07 11:39:25,508 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=nacos1:7848, cost time=2 ms

2025-01-07 11:58:12,930 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_1.

2025-01-07 11:58:12,930 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_1.

2025-01-07 12:03:13,532 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_1.

2025-01-07 12:03:13,532 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_1.

2025-01-07 12:07:05,200 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_1.

2025-01-07 12:07:05,201 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_1.

2025-01-07 12:09:09,554 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_1.

2025-01-07 12:09:09,554 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_1.

2025-01-07 12:09:25,030 INFO The channel nacos2:7848 is in state: IDLE.

2025-01-07 12:09:30,032 INFO Connection disconnected: /172.19.0.3:47194

2025-01-07 12:09:30,055 INFO Connection disconnected: /172.19.0.5:55138

2025-01-07 12:09:30,445 INFO Connection disconnected: /172.19.0.4:46420

2025-01-07 12:28:12,872 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 1 to 2, cost 1 ms.

2025-01-07 12:33:13,538 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 1 to 2, cost 0 ms.

2025-01-07 12:37:05,176 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 1 to 2, cost 0 ms.

2025-01-07 12:39:09,547 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 1 to 2, cost 1 ms.

2025-01-07 12:51:55,018 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteRequest from nacos3:7848, term=2, currTerm=1, granted=true, requestLastLogId=LogId [index=1, term=1], lastLogId=LogId [index=1, term=1].

2025-01-07 12:51:55,033 INFO Node <naming_persistent_service/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=2, currTerm=1.

2025-01-07 12:51:55,034 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=1, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 12:51:55,036 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=2, votedFor=0.0.0.0:0, cost time=3 ms

2025-01-07 12:51:55,038 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=2, votedFor=nacos3:7848, cost time=1 ms

2025-01-07 12:51:55,997 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteRequest from nacos3:7848, term=2, currTerm=1, granted=true, requestLastLogId=LogId [index=1, term=1], lastLogId=LogId [index=1, term=1].

2025-01-07 12:51:56,012 INFO Node <naming_persistent_service_v2/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=2, currTerm=1.

2025-01-07 12:51:56,012 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=1, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 12:51:56,073 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=2, votedFor=0.0.0.0:0, cost time=61 ms

2025-01-07 12:51:56,076 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=2, votedFor=nacos3:7848, cost time=3 ms

2025-01-07 12:51:56,437 INFO Node <naming_instance_metadata/nacos2:7848> received PreVoteRequest from nacos3:7848, term=2, currTerm=1, granted=true, requestLastLogId=LogId [index=1, term=1], lastLogId=LogId [index=1, term=1].

2025-01-07 12:51:56,449 INFO Node <naming_instance_metadata/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=2, currTerm=1.

2025-01-07 12:51:56,450 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=1, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 12:51:56,453 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=2, votedFor=0.0.0.0:0, cost time=3 ms

2025-01-07 12:51:56,455 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=2, votedFor=nacos3:7848, cost time=2 ms

2025-01-07 12:51:56,721 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteRequest from nacos3:7848, term=2, currTerm=1, granted=true, requestLastLogId=LogId [index=1, term=1], lastLogId=LogId [index=1, term=1].

2025-01-07 12:51:56,739 INFO Node <naming_service_metadata/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=2, currTerm=1.

2025-01-07 12:51:56,739 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=1, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 12:51:56,741 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=2, votedFor=0.0.0.0:0, cost time=3 ms

2025-01-07 12:51:56,744 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=2, votedFor=nacos3:7848, cost time=2 ms

2025-01-07 12:58:12,863 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_2.

2025-01-07 12:58:12,863 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_2.

2025-01-07 12:58:12,864 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_1.

2025-01-07 12:58:12,879 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 2 to 2, cost 0 ms.

2025-01-07 13:03:13,535 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_2.

2025-01-07 13:03:13,536 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_2.

2025-01-07 13:03:13,537 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_1.

2025-01-07 13:03:13,540 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 2 to 2, cost 0 ms.

2025-01-07 13:07:05,183 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_2.

2025-01-07 13:07:05,183 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_2.

2025-01-07 13:07:05,184 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_1.

2025-01-07 13:07:05,187 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 2 to 2, cost 0 ms.

2025-01-07 13:09:09,552 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_2.

2025-01-07 13:09:09,552 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_2.

2025-01-07 13:09:09,553 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_1.

2025-01-07 13:09:09,557 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 2 to 2, cost 0 ms.

2025-01-07 13:13:35,812 INFO Node <naming_persistent_service_v2/nacos2:7848> term 2 start preVote.

2025-01-07 13:13:35,814 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=2, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos3:7848.]].

2025-01-07 13:13:35,816 INFO Creating new channel to: nacos3:7848.

2025-01-07 13:13:35,817 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 13:13:35,829 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 13:13:35,829 INFO The channel nacos3:7848 has successfully established.

2025-01-07 13:13:35,835 INFO Peer nacos3:7848 is connected.

2025-01-07 13:13:35,844 INFO Creating new channel to: nacos1:7848.

2025-01-07 13:13:35,844 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 13:13:35,849 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 13:13:35,849 INFO The channel nacos1:7848 has successfully established.

2025-01-07 13:13:35,850 INFO Peer nacos1:7848 is connected.

2025-01-07 13:13:35,853 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteResponse from nacos3:7848, term=2, granted=true.

2025-01-07 13:13:35,853 INFO Node <naming_persistent_service_v2/nacos2:7848> start vote and grant vote self, term=2.

2025-01-07 13:13:35,858 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=3, votedFor=nacos2:7848, cost time=3 ms

2025-01-07 13:13:35,864 WARN Node <naming_persistent_service_v2/nacos2:7848> received invalid PreVoteResponse from nacos1:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 13:13:35,864 INFO Node <naming_persistent_service_v2/nacos2:7848> become leader of group, term=3, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 13:13:35,879 INFO Replicator [group: naming_persistent_service_v2, peer: nacos3:7848, type: Follower] is started

2025-01-07 13:13:35,886 INFO Replicator [group: naming_persistent_service_v2, peer: nacos1:7848, type: Follower] is started

2025-01-07 13:13:35,888 WARN Node <naming_persistent_service_v2/nacos2:7848> received invalid RequestVoteResponse from nacos1:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 13:13:35,912 INFO onLeaderStart: term=3.

2025-01-07 13:13:36,854 INFO Node <naming_persistent_service/nacos2:7848> term 2 start preVote.

2025-01-07 13:13:36,854 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=2, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos3:7848.]].

2025-01-07 13:13:36,857 INFO Creating new channel to: nacos3:7848.

2025-01-07 13:13:36,857 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 13:13:36,863 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 13:13:36,863 INFO The channel nacos3:7848 has successfully established.

2025-01-07 13:13:36,863 INFO Peer nacos3:7848 is connected.

2025-01-07 13:13:36,869 INFO Creating new channel to: nacos1:7848.

2025-01-07 13:13:36,869 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 13:13:36,876 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 13:13:36,876 INFO The channel nacos1:7848 has successfully established.

2025-01-07 13:13:36,876 INFO Peer nacos1:7848 is connected.

2025-01-07 13:13:36,880 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteResponse from nacos3:7848, term=2, granted=true.

2025-01-07 13:13:36,880 INFO Node <naming_persistent_service/nacos2:7848> start vote and grant vote self, term=2.

2025-01-07 13:13:36,944 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=3, votedFor=nacos2:7848, cost time=63 ms

2025-01-07 13:13:36,945 WARN Node <naming_persistent_service/nacos2:7848> received invalid PreVoteResponse from nacos1:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 13:13:36,951 INFO Node <naming_persistent_service/nacos2:7848> become leader of group, term=3, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 13:13:36,952 INFO Replicator [group: naming_persistent_service, peer: nacos3:7848, type: Follower] is started

2025-01-07 13:13:36,953 INFO Replicator [group: naming_persistent_service, peer: nacos1:7848, type: Follower] is started

2025-01-07 13:13:36,955 WARN Node <naming_persistent_service/nacos2:7848> received invalid RequestVoteResponse from nacos1:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 13:13:36,964 INFO onLeaderStart: term=3.

2025-01-07 13:13:39,860 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 13:13:39,868 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 13:13:39,868 INFO The channel nacos2:7848 has successfully established.

2025-01-07 13:13:40,751 INFO Node <naming_instance_metadata/nacos2:7848> received PreVoteRequest from nacos3:7848, term=3, currTerm=2, granted=true, requestLastLogId=LogId [index=2, term=2], lastLogId=LogId [index=2, term=2].

2025-01-07 13:13:40,756 INFO Node <naming_instance_metadata/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=3, currTerm=2.

2025-01-07 13:13:40,757 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=2, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 13:13:40,760 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=3, votedFor=0.0.0.0:0, cost time=4 ms

2025-01-07 13:13:40,762 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=3, votedFor=nacos3:7848, cost time=3 ms

2025-01-07 13:13:40,775 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteRequest from nacos3:7848, term=3, currTerm=2, granted=true, requestLastLogId=LogId [index=2, term=2], lastLogId=LogId [index=2, term=2].

2025-01-07 13:13:40,780 INFO Node <naming_service_metadata/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=3, currTerm=2.

2025-01-07 13:13:40,781 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=2, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 13:13:40,782 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=3, votedFor=0.0.0.0:0, cost time=2 ms

2025-01-07 13:13:40,784 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=3, votedFor=nacos3:7848, cost time=1 ms

2025-01-07 13:21:59,954 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 13:21:59,957 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 13:21:59,959 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 13:21:59,959 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 13:28:12,865 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_3.

2025-01-07 13:28:12,865 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_3.

2025-01-07 13:28:12,866 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_2.

2025-01-07 13:28:12,924 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 2 to 3, cost 0 ms.

2025-01-07 13:33:13,532 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_3.

2025-01-07 13:33:13,532 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_3.

2025-01-07 13:33:13,533 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_2.

2025-01-07 13:33:13,553 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 2 to 3, cost 1 ms.

2025-01-07 13:37:05,181 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_3.

2025-01-07 13:37:05,182 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_3.

2025-01-07 13:37:05,182 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_2.

2025-01-07 13:37:05,186 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 2 to 3, cost 0 ms.

2025-01-07 13:39:09,553 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_3.

2025-01-07 13:39:09,553 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_3.

2025-01-07 13:39:09,554 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_2.

2025-01-07 13:39:09,610 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 2 to 3, cost 0 ms.

2025-01-07 13:43:35,634 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 13:43:35,635 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 13:43:35,635 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 13:43:35,636 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 13:43:38,523 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-07 13:43:40,699 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 13:43:40,699 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 13:58:12,860 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 3 to 4, cost 0 ms.

2025-01-07 14:03:14,085 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 3 to 4, cost 0 ms.

2025-01-07 14:07:05,189 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 3 to 4, cost 0 ms.

2025-01-07 14:09:09,555 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 3 to 4, cost 0 ms.

2025-01-07 14:18:25,698 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499988885s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_persistent_service

2025-01-07 14:18:26,188 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499997558s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_persistent_service_v2

2025-01-07 14:18:26,689 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499990182s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_persistent_service_v2

2025-01-07 14:18:27,191 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499989850s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_persistent_service

2025-01-07 14:18:28,360 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteRequest from nacos1:7848, term=4, currTerm=3, granted=true, requestLastLogId=LogId [index=3, term=3], lastLogId=LogId [index=3, term=3].

2025-01-07 14:18:28,376 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 14:18:28,388 INFO Node <naming_persistent_service/nacos2:7848> ignore PreVoteRequest from nacos3:7848, term=4, currTerm=3, because the leader nacos2:7848's lease is still valid.

2025-01-07 14:18:28,389 INFO Node <naming_service_metadata/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=4, currTerm=3.

2025-01-07 14:18:28,390 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=3, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 14:18:28,392 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 14:18:28,392 INFO The channel nacos1:7848 has successfully established.

2025-01-07 14:18:28,398 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteRequest from nacos3:7848, term=4, currTerm=3, granted=true, requestLastLogId=LogId [index=3, term=3], lastLogId=LogId [index=3, term=3].

2025-01-07 14:18:28,418 INFO Node <naming_persistent_service_v2/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=4, currTerm=3.

2025-01-07 14:18:28,419 INFO onLeaderStop: status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.].

2025-01-07 14:18:28,437 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=4, votedFor=0.0.0.0:0, cost time=47 ms

2025-01-07 14:18:28,441 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=4, votedFor=0.0.0.0:0, cost time=22 ms

2025-01-07 14:18:28,441 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=3, lastLogIncluded=0, lastLogIndex=3, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service_v2, waitId=1, type=Follower] is going to quit

2025-01-07 14:18:28,442 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=4, votedFor=nacos1:7848, cost time=4 ms

2025-01-07 14:18:28,443 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=3, lastLogIncluded=0, lastLogIndex=3, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_persistent_service_v2, waitId=2, type=Follower] is going to quit

2025-01-07 14:18:28,457 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=4, votedFor=nacos3:7848, cost time=15 ms

2025-01-07 14:18:31,354 INFO Node <naming_instance_metadata/nacos2:7848> term 3 start preVote.

2025-01-07 14:18:31,354 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=3, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos3:7848.]].

2025-01-07 14:18:31,356 INFO Creating new channel to: nacos3:7848.

2025-01-07 14:18:31,356 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 14:18:31,364 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 14:18:31,364 INFO The channel nacos3:7848 has successfully established.

2025-01-07 14:18:31,364 INFO Peer nacos3:7848 is connected.

2025-01-07 14:18:31,370 INFO Creating new channel to: nacos1:7848.

2025-01-07 14:18:31,370 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 14:18:31,373 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 14:18:31,373 INFO The channel nacos1:7848 has successfully established.

2025-01-07 14:18:31,373 INFO Peer nacos1:7848 is connected.

2025-01-07 14:18:31,377 INFO Node <naming_instance_metadata/nacos2:7848> received PreVoteResponse from nacos3:7848, term=3, granted=true.

2025-01-07 14:18:31,377 INFO Node <naming_instance_metadata/nacos2:7848> start vote and grant vote self, term=3.

2025-01-07 14:18:31,381 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=4, votedFor=nacos2:7848, cost time=3 ms

2025-01-07 14:18:31,381 WARN Node <naming_instance_metadata/nacos2:7848> received invalid PreVoteResponse from nacos1:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 14:18:31,385 INFO Node <naming_instance_metadata/nacos2:7848> become leader of group, term=4, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 14:18:31,385 INFO Replicator [group: naming_instance_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-07 14:18:31,387 INFO Replicator [group: naming_instance_metadata, peer: nacos1:7848, type: Follower] is started

2025-01-07 14:18:31,388 WARN Node <naming_instance_metadata/nacos2:7848> received invalid RequestVoteResponse from nacos1:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 14:18:31,397 INFO onLeaderStart: term=4.

2025-01-07 14:28:12,866 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_4.

2025-01-07 14:28:12,867 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_4.

2025-01-07 14:28:12,867 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_3.

2025-01-07 14:28:12,870 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 4 to 4, cost 0 ms.

2025-01-07 14:33:13,533 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_4.

2025-01-07 14:33:13,533 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_4.

2025-01-07 14:33:13,534 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_3.

2025-01-07 14:33:13,592 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 4 to 4, cost 0 ms.

2025-01-07 14:37:05,176 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 4 to 4, cost 0 ms.

2025-01-07 14:39:09,553 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_4.

2025-01-07 14:39:09,553 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_4.

2025-01-07 14:39:09,554 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_3.

2025-01-07 14:39:09,577 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 4 to 4, cost 0 ms.

2025-01-07 14:40:13,075 INFO Node <naming_instance_metadata/nacos2:7848> ignore PreVoteRequest from nacos3:7848, term=5, currTerm=4, because the leader nacos2:7848's lease is still valid.

2025-01-07 14:40:13,088 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499990170s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_persistent_service

2025-01-07 14:40:13,093 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499992731s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_instance_metadata

2025-01-07 14:48:28,342 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-07 14:48:28,381 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-07 14:48:33,378 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 14:48:33,378 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 14:48:33,379 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 14:48:33,402 INFO Connection disconnected: /172.19.0.5:53916

2025-01-07 14:58:12,862 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 4 to 5, cost 0 ms.

2025-01-07 15:03:13,545 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 4 to 5, cost 0 ms.

2025-01-07 15:07:05,192 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 4 to 4, cost 0 ms.

2025-01-07 15:09:09,565 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 4 to 5, cost 0 ms.

2025-01-07 15:10:18,083 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 15:28:12,865 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 5 to 5, cost 0 ms.

2025-01-07 15:33:13,549 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 5 to 5, cost 1 ms.

2025-01-07 15:37:05,200 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 4 to 4, cost 0 ms.

2025-01-07 15:39:09,571 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 5 to 5, cost 0 ms.

2025-01-07 15:45:01,677 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499989127s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_instance_metadata

2025-01-07 15:45:02,178 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499989915s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_persistent_service

2025-01-07 15:45:04,558 WARN Node <naming_instance_metadata/nacos2:7848> steps down when alive nodes don't satisfy quorum, term=4, deadNodes=nacos3:7848,nacos1:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 15:45:06,185 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=4, lastLogIncluded=0, lastLogIndex=4, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_instance_metadata, waitId=1, type=Follower] is going to quit

2025-01-07 15:45:06,185 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=4, lastLogIncluded=0, lastLogIndex=4, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_instance_metadata, waitId=2, type=Follower] is going to quit

2025-01-07 15:45:06,185 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499989768s. Name resolution delay 0.000000000 seconds. [closed=[CANCELLED], committed=[remote_addr=nacos3/172.19.0.5:7848]]], groupId=naming_persistent_service

2025-01-07 15:45:06,189 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 15:45:05,338 WARN Node <naming_persistent_service/nacos2:7848> steps down when alive nodes don't satisfy quorum, term=3, deadNodes=nacos3:7848,nacos1:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 15:45:06,203 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=3, lastLogIncluded=0, lastLogIndex=3, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service, waitId=1, type=Follower] is going to quit

2025-01-07 15:45:06,203 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=3, lastLogIncluded=0, lastLogIndex=3, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_persistent_service, waitId=2, type=Follower] is going to quit

2025-01-07 15:45:06,203 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 15:45:06,194 ERROR handleRequest group_id: "naming_instance_metadata"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 15:45:06,218 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 15:45:06,227 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteRequest from nacos1:7848, term=4, currTerm=3, granted=true, requestLastLogId=LogId [index=3, term=3], lastLogId=LogId [index=3, term=3].

2025-01-07 15:45:06,227 INFO Node <naming_instance_metadata/nacos2:7848> received PreVoteRequest from nacos3:7848, term=5, currTerm=4, granted=true, requestLastLogId=LogId [index=4, term=4], lastLogId=LogId [index=4, term=4].

2025-01-07 15:45:06,227 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 15:45:06,228 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteRequest from nacos1:7848, term=5, currTerm=4, granted=true, requestLastLogId=LogId [index=4, term=4], lastLogId=LogId [index=4, term=4].

2025-01-07 15:45:06,236 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 15:45:06,238 ERROR handleRequest group_id: "naming_instance_metadata"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 15:45:06,239 INFO Node <naming_instance_metadata/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=5, currTerm=4.

2025-01-07 15:45:06,243 INFO Node <naming_persistent_service_v2/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=5, currTerm=4.

2025-01-07 15:45:06,243 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=4, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 15:45:06,244 INFO Node <naming_persistent_service/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=4, currTerm=3.

2025-01-07 15:45:06,271 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=4, votedFor=0.0.0.0:0, cost time=27 ms

2025-01-07 15:45:06,271 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=5, votedFor=0.0.0.0:0, cost time=29 ms

2025-01-07 15:45:06,272 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=5, votedFor=0.0.0.0:0, cost time=32 ms

2025-01-07 15:45:06,273 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=5, votedFor=nacos1:7848, cost time=2 ms

2025-01-07 15:45:06,274 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=4, votedFor=nacos1:7848, cost time=2 ms

2025-01-07 15:45:06,276 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=5, votedFor=nacos3:7848, cost time=3 ms

2025-01-07 15:45:06,276 INFO Node <naming_instance_metadata/nacos2:7848> received PreVoteRequest from nacos1:7848, term=5, currTerm=5, granted=true, requestLastLogId=LogId [index=4, term=4], lastLogId=LogId [index=4, term=4].

2025-01-07 15:45:06,277 ERROR handleRequest group_id: "naming_instance_metadata"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 15:45:07,199 INFO Node <naming_service_metadata/nacos2:7848> term 4 start preVote.

2025-01-07 15:45:07,200 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=4, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos1:7848.]].

2025-01-07 15:45:07,202 INFO Creating new channel to: nacos3:7848.

2025-01-07 15:45:07,202 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 15:45:07,212 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 15:45:07,213 INFO The channel nacos3:7848 has successfully established.

2025-01-07 15:45:07,213 INFO Peer nacos3:7848 is connected.

2025-01-07 15:45:07,218 INFO Creating new channel to: nacos1:7848.

2025-01-07 15:45:07,218 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 15:45:07,223 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 15:45:07,223 INFO The channel nacos1:7848 has successfully established.

2025-01-07 15:45:07,223 INFO Peer nacos1:7848 is connected.

2025-01-07 15:45:07,227 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteResponse from nacos3:7848, term=4, granted=false.

2025-01-07 15:45:07,228 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteResponse from nacos1:7848, term=4, granted=true.

2025-01-07 15:45:07,228 INFO Node <naming_service_metadata/nacos2:7848> start vote and grant vote self, term=4.

2025-01-07 15:45:07,294 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=5, votedFor=nacos2:7848, cost time=65 ms

2025-01-07 15:45:07,294 INFO Node <naming_service_metadata/nacos2:7848> become leader of group, term=5, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 15:45:07,295 INFO Replicator [group: naming_service_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-07 15:45:07,297 INFO Replicator [group: naming_service_metadata, peer: nacos1:7848, type: Follower] is started

2025-01-07 15:45:07,303 WARN Node <naming_service_metadata/nacos2:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 15:45:07,319 INFO onLeaderStart: term=5.

2025-01-07 15:58:12,871 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_5.

2025-01-07 15:58:12,871 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_5.

2025-01-07 15:58:12,872 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_4.

2025-01-07 15:58:12,876 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 5 to 5, cost 0 ms.

2025-01-07 16:03:13,534 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_5.

2025-01-07 16:03:13,534 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_5.

2025-01-07 16:03:13,535 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_4.

2025-01-07 16:03:13,548 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 5 to 5, cost 1 ms.

2025-01-07 16:06:43,461 INFO Node <naming_instance_metadata/nacos2:7848> term 5 start preVote.

2025-01-07 16:06:43,461 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=5, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos3:7848.]].

2025-01-07 16:06:44,091 INFO Node <naming_persistent_service_v2/nacos2:7848> term 5 start preVote.

2025-01-07 16:06:44,092 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=5, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos1:7848.]].

2025-01-07 16:06:45,787 INFO Node <naming_persistent_service/nacos2:7848> term 4 start preVote.

2025-01-07 16:06:45,788 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=4, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos1:7848.]].

2025-01-07 16:06:46,979 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499993382s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_service_metadata

2025-01-07 16:06:47,034 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 16:06:47,043 INFO Node <naming_instance_metadata/nacos2:7848> received PreVoteResponse from nacos3:7848, term=5, granted=true.

2025-01-07 16:06:47,043 INFO Node <naming_instance_metadata/nacos2:7848> start vote and grant vote self, term=5.

2025-01-07 16:06:47,043 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 16:06:47,059 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 16:06:47,059 INFO The channel nacos1:7848 has successfully established.

2025-01-07 16:06:47,060 INFO Peer nacos1:7848 is connected.

2025-01-07 16:06:47,061 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteResponse from nacos3:7848, term=4, granted=false.

2025-01-07 16:06:47,063 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 16:06:47,079 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=6, votedFor=nacos2:7848, cost time=26 ms

2025-01-07 16:06:47,079 INFO The channel nacos3:7848 has successfully established.

2025-01-07 16:06:47,080 INFO Node <naming_instance_metadata/nacos2:7848> received PreVoteRequest from nacos1:7848, term=6, currTerm=6, granted=true, requestLastLogId=LogId [index=5, term=5], lastLogId=LogId [index=5, term=5].

2025-01-07 16:06:47,080 INFO Node <naming_instance_metadata/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=6, currTerm=6.

2025-01-07 16:06:47,080 INFO Peer nacos3:7848 is connected.

2025-01-07 16:06:47,081 WARN Node <naming_instance_metadata/nacos2:7848> received invalid PreVoteResponse from nacos1:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 16:06:47,083 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteResponse from nacos1:7848, term=4, granted=true.

2025-01-07 16:06:47,084 INFO Node <naming_persistent_service/nacos2:7848> start vote and grant vote self, term=4.

2025-01-07 16:06:47,084 WARN Node <naming_instance_metadata/nacos2:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_FOLLOWER.

2025-01-07 16:06:47,084 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=4, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-07 16:06:47,085 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteResponse from nacos1:7848, term=5, granted=true.

2025-01-07 16:06:47,085 INFO Node <naming_persistent_service_v2/nacos2:7848> start vote and grant vote self, term=5.

2025-01-07 16:06:47,086 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=5, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-07 16:06:47,086 WARN Node <naming_instance_metadata/nacos2:7848> received invalid RequestVoteResponse from nacos1:7848, state not in STATE_CANDIDATE but STATE_FOLLOWER.

2025-01-07 16:06:47,162 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=6, votedFor=nacos2:7848, cost time=75 ms

2025-01-07 16:06:47,163 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=5, votedFor=nacos2:7848, cost time=78 ms

2025-01-07 16:06:47,169 WARN Node <naming_persistent_service_v2/nacos2:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 16:06:47,172 INFO Node <naming_persistent_service/nacos2:7848> become leader of group, term=5, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 16:06:47,173 INFO Replicator [group: naming_persistent_service, peer: nacos3:7848, type: Follower] is started

2025-01-07 16:06:47,173 INFO Replicator [group: naming_persistent_service, peer: nacos1:7848, type: Follower] is started

2025-01-07 16:06:47,174 WARN Node <naming_persistent_service/nacos2:7848> received invalid RequestVoteResponse from nacos1:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 16:06:47,174 INFO Node <naming_persistent_service_v2/nacos2:7848> become leader of group, term=6, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 16:06:47,175 INFO Replicator [group: naming_persistent_service_v2, peer: nacos3:7848, type: Follower] is started

2025-01-07 16:06:47,176 INFO Replicator [group: naming_persistent_service_v2, peer: nacos1:7848, type: Follower] is started

2025-01-07 16:06:47,177 WARN Node <naming_persistent_service_v2/nacos2:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 16:06:47,184 INFO onLeaderStart: term=5.

2025-01-07 16:06:47,192 INFO onLeaderStart: term=6.

2025-01-07 16:07:05,194 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_5.

2025-01-07 16:07:05,194 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_5.

2025-01-07 16:07:05,195 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_3.

2025-01-07 16:07:05,207 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 4 to 4, cost 1 ms.

2025-01-07 16:09:09,570 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_6.

2025-01-07 16:09:09,570 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_6.

2025-01-07 16:09:09,571 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_4.

2025-01-07 16:09:09,628 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 5 to 5, cost 0 ms.

2025-01-07 16:15:11,178 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 16:15:11,179 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 16:15:11,183 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 16:15:11,184 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 16:15:11,185 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 16:15:11,185 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 16:28:12,867 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_6.

2025-01-07 16:28:12,868 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_6.

2025-01-07 16:28:12,868 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_5.

2025-01-07 16:28:12,881 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 5 to 6, cost 0 ms.

2025-01-07 16:28:20,933 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499988840s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_service_metadata

2025-01-07 16:28:21,435 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499991030s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_persistent_service

2025-01-07 16:28:21,436 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499991014s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_persistent_service_v2

2025-01-07 16:28:28,253 INFO Node <naming_instance_metadata/nacos2:7848> ignore PreVoteRequest from nacos3:7848, term=7, currTerm=6, because the leader nacos1:7848's lease is still valid.

2025-01-07 16:28:28,279 INFO Node <naming_persistent_service/nacos2:7848> ignore PreVoteRequest from nacos3:7848, term=6, currTerm=5, because the leader nacos2:7848's lease is still valid.

2025-01-07 16:28:28,279 INFO Node <naming_persistent_service_v2/nacos2:7848> ignore PreVoteRequest from nacos3:7848, term=7, currTerm=6, because the leader nacos2:7848's lease is still valid.

2025-01-07 16:28:28,280 INFO Node <naming_service_metadata/nacos2:7848> ignore PreVoteRequest from nacos3:7848, term=6, currTerm=5, because the leader nacos2:7848's lease is still valid.

2025-01-07 16:33:13,549 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 5 to 6, cost 0 ms.

2025-01-07 16:36:46,903 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 16:36:47,059 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-07 16:36:47,082 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-07 16:36:52,058 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 16:37:06,781 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 4 to 6, cost 0 ms.

2025-01-07 16:39:09,649 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 5 to 7, cost 0 ms.

2025-01-07 16:58:12,863 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 6 to 7, cost 1 ms.

2025-01-07 16:58:33,308 INFO Connection disconnected: /172.19.0.5:58098

2025-01-07 16:58:33,308 INFO Connection disconnected: /172.19.0.5:58092

2025-01-07 16:58:33,310 INFO Connection disconnected: /172.19.0.5:58080

2025-01-07 17:03:13,545 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 6 to 6, cost 1 ms.

2025-01-07 17:07:05,196 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 6 to 6, cost 0 ms.

2025-01-07 17:09:09,573 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 7 to 7, cost 0 ms.

2025-01-07 17:28:12,876 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 7 to 7, cost 0 ms.

2025-01-07 17:33:18,631 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499996519s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_persistent_service_v2

2025-01-07 17:33:18,632 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499988612s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_service_metadata

2025-01-07 17:33:18,633 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499997951s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_persistent_service

2025-01-07 17:33:18,776 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 6 to 6, cost 0 ms.

2025-01-07 17:37:05,195 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 6 to 6, cost 0 ms.

2025-01-07 17:39:09,566 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 7 to 7, cost 0 ms.

2025-01-07 17:54:54,088 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499987715s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_service_metadata

2025-01-07 17:54:54,089 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499989384s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_persistent_service

2025-01-07 17:54:54,089 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499995231s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_persistent_service_v2

2025-01-07 17:58:12,866 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 7 to 7, cost 1 ms.

2025-01-07 18:03:13,789 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 6 to 6, cost 0 ms.

2025-01-07 18:07:05,193 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 6 to 6, cost 0 ms.

2025-01-07 18:09:09,558 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 7 to 7, cost 0 ms.

2025-01-07 18:28:12,878 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 7 to 7, cost 0 ms.

2025-01-07 18:33:13,551 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 6 to 6, cost 0 ms.

2025-01-07 18:37:05,208 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 6 to 6, cost 0 ms.

2025-01-07 18:39:09,582 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 7 to 7, cost 0 ms.

2025-01-07 18:58:12,865 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 7 to 7, cost 0 ms.

2025-01-07 19:03:13,556 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 6 to 6, cost 0 ms.

2025-01-07 19:07:05,188 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 6 to 6, cost 1 ms.

2025-01-07 19:09:09,561 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 7 to 7, cost 0 ms.

2025-01-07 19:28:12,866 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 7 to 7, cost 0 ms.

2025-01-07 19:33:13,545 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 6 to 6, cost 0 ms.

2025-01-07 19:37:05,202 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 6 to 6, cost 0 ms.

2025-01-07 19:39:09,570 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 7 to 7, cost 0 ms.

2025-01-07 19:43:00,612 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499995352s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_persistent_service_v2

2025-01-07 19:43:00,612 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499988509s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_persistent_service

2025-01-07 19:43:00,612 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499992587s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_service_metadata

2025-01-07 19:43:05,571 INFO Node <naming_instance_metadata/nacos2:7848> term 6 start preVote.

2025-01-07 19:43:05,572 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=6, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos1:7848.]].

2025-01-07 19:43:07,939 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 19:43:07,941 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 19:43:07,959 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 19:43:07,959 INFO The channel nacos3:7848 has successfully established.

2025-01-07 19:43:07,959 INFO Peer nacos3:7848 is connected.

2025-01-07 19:43:07,967 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 19:43:07,967 INFO The channel nacos1:7848 has successfully established.

2025-01-07 19:43:07,967 INFO Peer nacos1:7848 is connected.

2025-01-07 19:43:07,969 INFO Node <naming_instance_metadata/nacos2:7848> received PreVoteResponse from nacos1:7848, term=6, granted=true.

2025-01-07 19:43:07,969 INFO Node <naming_instance_metadata/nacos2:7848> start vote and grant vote self, term=6.

2025-01-07 19:43:07,979 INFO Node <naming_persistent_service_v2/nacos2:7848> ignore PreVoteRequest from nacos1:7848, term=7, currTerm=6, because the leader nacos2:7848's lease is still valid.

2025-01-07 19:43:07,979 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=7, votedFor=nacos2:7848, cost time=10 ms

2025-01-07 19:43:07,980 WARN Node <naming_instance_metadata/nacos2:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 19:43:07,983 INFO Node <naming_instance_metadata/nacos2:7848> become leader of group, term=7, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 19:43:07,984 INFO Replicator [group: naming_instance_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-07 19:43:07,984 INFO Replicator [group: naming_instance_metadata, peer: nacos1:7848, type: Follower] is started

2025-01-07 19:43:07,986 INFO Node <naming_service_metadata/nacos2:7848> ignore PreVoteRequest from nacos1:7848, term=6, currTerm=5, because the leader nacos2:7848's lease is still valid.

2025-01-07 19:43:07,989 WARN Node <naming_instance_metadata/nacos2:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 19:43:07,995 INFO onLeaderStart: term=7.

2025-01-07 19:58:12,872 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_7.

2025-01-07 19:58:12,873 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_7.

2025-01-07 19:58:12,873 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_6.

2025-01-07 19:58:12,930 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 7 to 7, cost 1 ms.

2025-01-07 20:03:13,544 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 6 to 6, cost 0 ms.

2025-01-07 20:04:41,255 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499988152s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_service_metadata

2025-01-07 20:04:41,256 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499994479s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_persistent_service_v2

2025-01-07 20:04:41,256 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499995378s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_instance_metadata

2025-01-07 20:04:41,256 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499997328s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_persistent_service

2025-01-07 20:04:43,103 WARN Node <naming_instance_metadata/nacos2:7848> steps down when alive nodes don't satisfy quorum, term=7, deadNodes=nacos3:7848,nacos1:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 20:04:44,086 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=7, lastLogIncluded=0, lastLogIndex=7, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_instance_metadata, waitId=3, type=Follower] is going to quit

2025-01-07 20:04:44,087 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=7, lastLogIncluded=0, lastLogIndex=7, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_instance_metadata, waitId=4, type=Follower] is going to quit

2025-01-07 20:04:43,771 WARN Node <naming_service_metadata/nacos2:7848> steps down when alive nodes don't satisfy quorum, term=5, deadNodes=nacos3:7848,nacos1:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 20:04:44,087 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=5, lastLogIncluded=0, lastLogIndex=5, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_service_metadata, waitId=1, type=Follower] is going to quit

2025-01-07 20:04:44,088 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 20:04:44,089 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 20:04:44,081 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499995740s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_service_metadata

2025-01-07 20:04:44,092 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=5, lastLogIncluded=0, lastLogIndex=5, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_service_metadata, waitId=2, type=Follower] is going to quit

2025-01-07 20:04:44,098 ERROR handleRequest group_id: "naming_instance_metadata"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 20:04:44,099 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteRequest from nacos1:7848, term=6, currTerm=5, granted=true, requestLastLogId=LogId [index=5, term=5], lastLogId=LogId [index=5, term=5].

2025-01-07 20:04:44,099 ERROR handleRequest group_id: "naming_service_metadata"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 20:04:44,100 ERROR handleRequest group_id: "naming_instance_metadata"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 20:04:44,101 INFO Node <naming_instance_metadata/nacos2:7848> received PreVoteRequest from nacos1:7848, term=8, currTerm=7, granted=true, requestLastLogId=LogId [index=7, term=7], lastLogId=LogId [index=7, term=7].

2025-01-07 20:04:44,103 INFO Node <naming_persistent_service/nacos2:7848> ignore PreVoteRequest from nacos1:7848, term=6, currTerm=5, because the leader nacos2:7848's lease is still valid.

2025-01-07 20:04:44,103 ERROR handleRequest group_id: "naming_instance_metadata"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 20:04:44,104 ERROR handleRequest group_id: "naming_service_metadata"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 20:04:44,105 INFO Node <naming_instance_metadata/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=8, currTerm=7.

2025-01-07 20:04:44,105 ERROR handleRequest group_id: "naming_service_metadata"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 20:04:44,109 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=8, votedFor=0.0.0.0:0, cost time=3 ms

2025-01-07 20:04:44,110 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=8, votedFor=nacos1:7848, cost time=2 ms

2025-01-07 20:04:44,131 INFO Node <naming_service_metadata/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=6, currTerm=5.

2025-01-07 20:04:44,133 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=6, votedFor=0.0.0.0:0, cost time=2 ms

2025-01-07 20:04:44,136 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=6, votedFor=nacos1:7848, cost time=3 ms

2025-01-07 20:07:05,205 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 6 to 6, cost 0 ms.

2025-01-07 20:09:09,568 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 7 to 7, cost 0 ms.

2025-01-07 20:13:12,985 INFO Connection disconnected: /172.19.0.4:41224

2025-01-07 20:26:18,891 WARN Node <naming_persistent_service_v2/nacos2:7848> steps down when alive nodes don't satisfy quorum, term=6, deadNodes=nacos3:7848,nacos1:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 20:26:21,426 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=6, lastLogIncluded=0, lastLogIndex=6, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service_v2, waitId=3, type=Follower] is going to quit

2025-01-07 20:26:18,891 WARN Node <naming_persistent_service/nacos2:7848> steps down when alive nodes don't satisfy quorum, term=5, deadNodes=nacos3:7848,nacos1:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 20:26:21,426 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 20:26:21,462 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=5, lastLogIncluded=0, lastLogIndex=5, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service, waitId=3, type=Follower] is going to quit

2025-01-07 20:26:21,462 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=5, lastLogIncluded=0, lastLogIndex=5, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_persistent_service, waitId=4, type=Follower] is going to quit

2025-01-07 20:26:21,426 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=6, lastLogIncluded=0, lastLogIndex=6, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_persistent_service_v2, waitId=4, type=Follower] is going to quit

2025-01-07 20:26:21,463 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 20:26:21,471 ERROR handleRequest group_id: "naming_persistent_service_v2"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 20:26:21,471 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 20:26:21,472 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 20:26:21,472 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteRequest from nacos3:7848, term=7, currTerm=6, granted=true, requestLastLogId=LogId [index=6, term=6], lastLogId=LogId [index=6, term=6].

2025-01-07 20:26:21,472 ERROR handleRequest group_id: "naming_persistent_service_v2"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 20:26:21,472 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 20:26:21,481 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteRequest from nacos1:7848, term=6, currTerm=5, granted=true, requestLastLogId=LogId [index=5, term=5], lastLogId=LogId [index=5, term=5].

2025-01-07 20:26:21,481 INFO Node <naming_persistent_service/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=6, currTerm=5.

2025-01-07 20:26:21,487 INFO Node <naming_persistent_service_v2/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=7, currTerm=6.

2025-01-07 20:26:21,488 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=6, votedFor=0.0.0.0:0, cost time=6 ms

2025-01-07 20:26:21,498 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=7, votedFor=0.0.0.0:0, cost time=11 ms

2025-01-07 20:26:21,501 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=6, votedFor=nacos1:7848, cost time=13 ms

2025-01-07 20:26:21,501 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=7, votedFor=nacos3:7848, cost time=2 ms

2025-01-07 20:26:21,503 INFO Node <naming_instance_metadata/nacos2:7848> ignore PreVoteRequest from nacos3:7848, term=9, currTerm=8, because the leader nacos1:7848's lease is still valid.

2025-01-07 20:26:21,504 INFO Node <naming_instance_metadata/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=9, currTerm=8.

2025-01-07 20:26:21,504 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=8, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 20:26:21,506 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=9, votedFor=0.0.0.0:0, cost time=2 ms

2025-01-07 20:26:21,515 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=9, votedFor=nacos3:7848, cost time=10 ms

2025-01-07 20:26:21,617 INFO Node <naming_service_metadata/nacos2:7848> ignore PreVoteRequest from nacos3:7848, term=7, currTerm=6, because the leader nacos1:7848's lease is still valid.

2025-01-07 20:26:21,622 INFO Node <naming_service_metadata/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=7, currTerm=6.

2025-01-07 20:26:21,623 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=6, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 20:26:21,625 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=7, votedFor=0.0.0.0:0, cost time=2 ms

2025-01-07 20:26:21,627 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=7, votedFor=nacos3:7848, cost time=2 ms

2025-01-07 20:28:12,871 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_9.

2025-01-07 20:28:12,871 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_9.

2025-01-07 20:28:12,872 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_7.

2025-01-07 20:28:12,928 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 7 to 8, cost 1 ms.

2025-01-07 20:33:13,537 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_7.

2025-01-07 20:33:13,538 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_7.

2025-01-07 20:33:13,538 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_5.

2025-01-07 20:33:13,595 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 6 to 6, cost 1 ms.

2025-01-07 20:34:41,257 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-07 20:34:44,081 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-07 20:34:44,082 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-07 20:34:44,090 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-07 20:37:05,188 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_6.

2025-01-07 20:37:05,189 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_6.

2025-01-07 20:37:05,189 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_5.

2025-01-07 20:37:05,210 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 6 to 6, cost 0 ms.

2025-01-07 20:39:09,559 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_7.

2025-01-07 20:39:09,560 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_7.

2025-01-07 20:39:09,560 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_6.

2025-01-07 20:39:09,579 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 7 to 7, cost 0 ms.

2025-01-07 20:47:57,806 INFO Node <naming_service_metadata/nacos2:7848> term 7 start preVote.

2025-01-07 20:47:58,144 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 20:47:57,806 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=7, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos3:7848.]].

2025-01-07 20:47:58,166 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 20:47:58,167 INFO Node <naming_instance_metadata/nacos2:7848> ignore PreVoteRequest from nacos1:7848, term=10, currTerm=9, because the leader nacos3:7848's lease is still valid.

2025-01-07 20:47:58,184 INFO Node <naming_instance_metadata/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=10, currTerm=9.

2025-01-07 20:47:58,184 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 20:47:58,184 INFO The channel nacos1:7848 has successfully established.

2025-01-07 20:47:58,184 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=9, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 20:47:58,184 INFO Peer nacos1:7848 is connected.

2025-01-07 20:47:58,186 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 20:47:58,186 INFO The channel nacos3:7848 has successfully established.

2025-01-07 20:47:58,188 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=10, votedFor=0.0.0.0:0, cost time=5 ms

2025-01-07 20:47:58,190 INFO Peer nacos3:7848 is connected.

2025-01-07 20:47:58,191 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteResponse from nacos1:7848, term=7, granted=false.

2025-01-07 20:47:58,191 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteResponse from nacos3:7848, term=7, granted=true.

2025-01-07 20:47:58,191 INFO Node <naming_service_metadata/nacos2:7848> start vote and grant vote self, term=7.

2025-01-07 20:47:58,191 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=10, votedFor=nacos1:7848, cost time=2 ms

2025-01-07 20:47:58,191 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=7, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-07 20:47:58,195 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=8, votedFor=nacos2:7848, cost time=3 ms

2025-01-07 20:47:58,198 INFO Node <naming_service_metadata/nacos2:7848> become leader of group, term=8, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 20:47:58,198 INFO Replicator [group: naming_service_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-07 20:47:58,198 INFO Replicator [group: naming_service_metadata, peer: nacos1:7848, type: Follower] is started

2025-01-07 20:47:58,200 WARN Node <naming_service_metadata/nacos2:7848> received invalid RequestVoteResponse from nacos1:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 20:47:58,210 INFO onLeaderStart: term=8.

2025-01-07 20:48:01,297 INFO Node <naming_persistent_service/nacos2:7848> ignore PreVoteRequest from nacos3:7848, term=7, currTerm=6, because the leader nacos1:7848's lease is still valid.

2025-01-07 20:48:01,300 INFO Node <naming_persistent_service/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=7, currTerm=6.

2025-01-07 20:48:01,300 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=6, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 20:48:01,304 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=7, votedFor=0.0.0.0:0, cost time=3 ms

2025-01-07 20:48:01,365 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=7, votedFor=nacos3:7848, cost time=61 ms

2025-01-07 20:56:21,442 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-07 20:56:21,464 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-07 20:56:21,465 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-07 20:56:21,465 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-07 20:56:26,454 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 20:56:26,455 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 20:56:26,455 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 20:58:12,871 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_10.

2025-01-07 20:58:12,871 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_10.

2025-01-07 20:58:12,872 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_9.

2025-01-07 20:58:12,875 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 8 to 10, cost 0 ms.

2025-01-07 21:03:13,540 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_8.

2025-01-07 21:03:13,540 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_8.

2025-01-07 21:03:13,541 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_7.

2025-01-07 21:03:13,554 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 6 to 8, cost 1 ms.

2025-01-07 21:07:05,191 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_7.

2025-01-07 21:07:05,191 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_7.

2025-01-07 21:07:05,192 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_6.

2025-01-07 21:07:05,195 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 6 to 7, cost 1 ms.

2025-01-07 21:09:09,571 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 7 to 8, cost 0 ms.

2025-01-07 21:18:03,148 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 21:18:03,172 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 21:18:03,173 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 21:18:03,174 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 21:18:03,174 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 21:28:12,868 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 10 to 11, cost 0 ms.

2025-01-07 21:31:11,382 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499987816s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_service_metadata

2025-01-07 21:31:13,406 WARN Node <naming_service_metadata/nacos2:7848> steps down when alive nodes don't satisfy quorum, term=8, deadNodes=nacos3:7848,nacos1:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 21:31:17,916 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=8, lastLogIncluded=0, lastLogIndex=8, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_service_metadata, waitId=3, type=Follower] is going to quit

2025-01-07 21:31:14,292 INFO Node <naming_persistent_service/nacos2:7848> term 7 start preVote.

2025-01-07 21:31:14,292 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=7, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos3:7848.]].

2025-01-07 21:31:17,917 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=8, lastLogIncluded=0, lastLogIndex=8, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_service_metadata, waitId=4, type=Follower] is going to quit

2025-01-07 21:31:16,741 INFO Node <naming_persistent_service_v2/nacos2:7848> term 7 start preVote.

2025-01-07 21:31:17,917 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 21:31:16,742 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=7, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos3:7848.]].

2025-01-07 21:31:17,917 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 21:31:17,923 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 21:31:17,933 ERROR handleRequest group_id: "naming_service_metadata"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 21:31:17,958 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteRequest from nacos1:7848, term=9, currTerm=8, granted=true, requestLastLogId=LogId [index=8, term=8], lastLogId=LogId [index=8, term=8].

2025-01-07 21:31:17,958 INFO Node <naming_instance_metadata/nacos2:7848> ignore PreVoteRequest from nacos3:7848, term=11, currTerm=10, because the leader nacos1:7848's lease is still valid.

2025-01-07 21:31:17,959 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 21:31:17,963 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 21:31:17,963 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteRequest from nacos1:7848, term=8, currTerm=7, granted=true, requestLastLogId=LogId [index=7, term=7], lastLogId=LogId [index=7, term=7].

2025-01-07 21:31:17,970 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 21:31:17,970 INFO The channel nacos3:7848 has successfully established.

2025-01-07 21:31:17,971 INFO Peer nacos3:7848 is connected.

2025-01-07 21:31:17,973 INFO Node <naming_persistent_service_v2/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=8, currTerm=7.

2025-01-07 21:31:17,974 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 21:31:17,974 INFO The channel nacos1:7848 has successfully established.

2025-01-07 21:31:17,975 INFO Node <naming_service_metadata/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=9, currTerm=8.

2025-01-07 21:31:17,976 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=8, votedFor=0.0.0.0:0, cost time=2 ms

2025-01-07 21:31:17,984 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 21:31:17,985 INFO The channel nacos1:7848 has successfully established.

2025-01-07 21:31:17,985 INFO Peer nacos1:7848 is connected.

2025-01-07 21:31:17,993 INFO Peer nacos1:7848 is connected.

2025-01-07 21:31:17,995 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=8, votedFor=nacos1:7848, cost time=18 ms

2025-01-07 21:31:17,995 WARN Node <naming_persistent_service_v2/nacos2:7848> received invalid PreVoteResponse from nacos3:7848, term=7, currTerm=8.

2025-01-07 21:31:17,998 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=9, votedFor=0.0.0.0:0, cost time=22 ms

2025-01-07 21:31:18,000 WARN Node <naming_persistent_service_v2/nacos2:7848> received invalid PreVoteResponse from nacos1:7848, term=7, currTerm=8.

2025-01-07 21:31:18,003 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteResponse from nacos1:7848, term=7, granted=true.

2025-01-07 21:31:18,003 INFO Node <naming_persistent_service/nacos2:7848> start vote and grant vote self, term=7.

2025-01-07 21:31:18,007 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=7, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-07 21:31:18,011 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=9, votedFor=nacos1:7848, cost time=12 ms

2025-01-07 21:31:18,012 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteRequest from nacos3:7848, term=9, currTerm=9, granted=true, requestLastLogId=LogId [index=8, term=8], lastLogId=LogId [index=8, term=8].

2025-01-07 21:31:18,014 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=8, votedFor=nacos2:7848, cost time=10 ms

2025-01-07 21:31:18,015 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 21:31:18,015 INFO The channel nacos3:7848 has successfully established.

2025-01-07 21:31:18,015 INFO Peer nacos3:7848 is connected.

2025-01-07 21:31:18,018 ERROR handleRequest group_id: "naming_service_metadata"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 21:31:18,029 ERROR handleRequest group_id: "naming_service_metadata"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 21:31:18,037 INFO Node <naming_persistent_service/nacos2:7848> become leader of group, term=8, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 21:31:18,037 INFO Replicator [group: naming_persistent_service, peer: nacos3:7848, type: Follower] is started

2025-01-07 21:31:18,037 INFO Replicator [group: naming_persistent_service, peer: nacos1:7848, type: Follower] is started

2025-01-07 21:31:18,038 WARN Node <naming_persistent_service/nacos2:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_LEADER.

2025-01-07 21:31:18,039 WARN Node <naming_persistent_service/nacos2:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 21:31:18,045 INFO onLeaderStart: term=8.

2025-01-07 21:33:13,537 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_9.

2025-01-07 21:33:13,537 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_9.

2025-01-07 21:33:13,538 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_8.

2025-01-07 21:33:13,541 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 8 to 9, cost 0 ms.

2025-01-07 21:37:05,190 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_8.

2025-01-07 21:37:05,190 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_8.

2025-01-07 21:37:05,191 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_7.

2025-01-07 21:37:05,194 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 7 to 8, cost 0 ms.

2025-01-07 21:39:09,558 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_8.

2025-01-07 21:39:09,559 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_8.

2025-01-07 21:39:09,559 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_7.

2025-01-07 21:39:09,562 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 8 to 8, cost 1 ms.

2025-01-07 21:58:12,867 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 11 to 11, cost 0 ms.

2025-01-07 22:01:17,912 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-07 22:01:17,958 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-07 22:01:17,984 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-07 22:01:17,985 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-07 22:01:22,921 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 22:01:22,922 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 22:01:22,974 INFO Connection disconnected: /172.19.0.5:35542

2025-01-07 22:01:23,027 INFO Connection disconnected: /172.19.0.5:35548

2025-01-07 22:03:13,548 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 9 to 10, cost 0 ms.

2025-01-07 22:07:05,185 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 8 to 9, cost 0 ms.

2025-01-07 22:09:09,569 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 8 to 9, cost 0 ms.

2025-01-07 22:14:31,621 INFO Node <naming_service_metadata/nacos2:7848> term 9 start preVote.

2025-01-07 22:14:31,621 INFO Node <naming_instance_metadata/nacos2:7848> term 10 start preVote.

2025-01-07 22:14:31,621 INFO Node <naming_persistent_service_v2/nacos2:7848> term 8 start preVote.

2025-01-07 22:14:31,622 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 22:14:31,622 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 22:14:31,622 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=8, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos1:7848.]].

2025-01-07 22:14:31,622 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 22:14:31,622 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=10, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos1:7848.]].

2025-01-07 22:14:31,626 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 22:14:31,637 WARN Node <naming_persistent_service/nacos2:7848> steps down when alive nodes don't satisfy quorum, term=8, deadNodes=nacos3:7848,nacos1:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 22:14:31,637 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=8, lastLogIncluded=0, lastLogIndex=8, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service, waitId=6, type=Follower] is going to quit

2025-01-07 22:14:31,637 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=8, lastLogIncluded=0, lastLogIndex=8, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_persistent_service, waitId=5, type=Follower] is going to quit

2025-01-07 22:14:31,638 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 22:14:31,643 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 22:14:31,643 INFO The channel nacos1:7848 has successfully established.

2025-01-07 22:14:31,643 INFO Peer nacos1:7848 is connected.

2025-01-07 22:14:31,646 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 22:14:31,652 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteRequest from nacos3:7848, term=9, currTerm=8, granted=true, requestLastLogId=LogId [index=8, term=8], lastLogId=LogId [index=8, term=8].

2025-01-07 22:14:31,652 INFO Node <naming_persistent_service/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=9, currTerm=8.

2025-01-07 22:14:31,654 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteResponse from nacos1:7848, term=9, granted=true.

2025-01-07 22:14:31,654 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=9, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos1:7848.]].

2025-01-07 22:14:31,654 INFO Node <naming_service_metadata/nacos2:7848> start vote and grant vote self, term=9.

2025-01-07 22:14:31,655 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 22:14:31,661 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 22:14:31,665 INFO Node <naming_instance_metadata/nacos2:7848> ignore PreVoteRequest from nacos3:7848, term=11, currTerm=10, because the leader nacos1:7848's lease is still valid.

2025-01-07 22:14:31,668 INFO Node <naming_instance_metadata/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=11, currTerm=10.

2025-01-07 22:14:31,675 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=10, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 22:14:31,678 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=11, votedFor=0.0.0.0:0, cost time=4 ms

2025-01-07 22:14:31,679 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=10, votedFor=nacos2:7848, cost time=7 ms

2025-01-07 22:14:31,681 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteRequest from nacos3:7848, term=10, currTerm=10, granted=true, requestLastLogId=LogId [index=9, term=9], lastLogId=LogId [index=9, term=9].

2025-01-07 22:14:31,681 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteRequest from nacos3:7848, term=9, currTerm=8, granted=true, requestLastLogId=LogId [index=8, term=8], lastLogId=LogId [index=8, term=8].

2025-01-07 22:14:31,681 INFO Node <naming_service_metadata/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=10, currTerm=10.

2025-01-07 22:14:31,681 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=9, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-07 22:14:31,683 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=9, votedFor=0.0.0.0:0, cost time=31 ms

2025-01-07 22:14:31,685 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 22:14:31,686 INFO The channel nacos3:7848 has successfully established.

2025-01-07 22:14:31,689 INFO Peer nacos3:7848 is connected.

2025-01-07 22:14:31,690 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=9, votedFor=nacos3:7848, cost time=7 ms

2025-01-07 22:14:31,688 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 22:14:31,690 INFO The channel nacos1:7848 has successfully established.

2025-01-07 22:14:31,688 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 22:14:31,690 INFO The channel nacos1:7848 has successfully established.

2025-01-07 22:14:31,694 INFO Peer nacos1:7848 is connected.

2025-01-07 22:14:31,695 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 22:14:31,695 INFO The channel nacos3:7848 has successfully established.

2025-01-07 22:14:31,695 INFO Peer nacos3:7848 is connected.

2025-01-07 22:14:31,699 INFO Node <naming_persistent_service_v2/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=9, currTerm=8.

2025-01-07 22:14:31,688 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=11, votedFor=nacos3:7848, cost time=10 ms

2025-01-07 22:14:31,700 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=8, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 22:14:31,701 WARN Node <naming_service_metadata/nacos2:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 22:14:31,702 INFO Node <naming_service_metadata/nacos2:7848> become leader of group, term=10, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 22:14:31,702 INFO Peer nacos1:7848 is connected.

2025-01-07 22:14:31,702 INFO Replicator [group: naming_service_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-07 22:14:31,702 INFO Replicator [group: naming_service_metadata, peer: nacos1:7848, type: Follower] is started

2025-01-07 22:14:31,704 WARN Node <naming_service_metadata/nacos2:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 22:14:31,705 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=9, votedFor=0.0.0.0:0, cost time=6 ms

2025-01-07 22:14:31,710 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=9, votedFor=nacos3:7848, cost time=5 ms

2025-01-07 22:14:31,712 WARN Node <naming_persistent_service_v2/nacos2:7848> received invalid PreVoteResponse from nacos3:7848, term=8, currTerm=9.

2025-01-07 22:14:31,712 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 22:14:31,712 INFO The channel nacos3:7848 has successfully established.

2025-01-07 22:14:31,712 INFO Peer nacos3:7848 is connected.

2025-01-07 22:14:31,716 WARN Node <naming_persistent_service_v2/nacos2:7848> received invalid PreVoteResponse from nacos1:7848, term=8, currTerm=9.

2025-01-07 22:14:31,724 WARN Node <naming_instance_metadata/nacos2:7848> received invalid PreVoteResponse from nacos3:7848, term=10, currTerm=11.

2025-01-07 22:14:31,725 INFO onLeaderStart: term=10.

2025-01-07 22:14:31,725 WARN Node <naming_instance_metadata/nacos2:7848> received invalid PreVoteResponse from nacos1:7848, term=10, currTerm=11.

2025-01-07 22:28:12,874 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_11.

2025-01-07 22:28:12,874 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_11.

2025-01-07 22:28:12,875 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_10.

2025-01-07 22:28:12,881 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 11 to 11, cost 0 ms.

2025-01-07 22:33:13,540 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_10.

2025-01-07 22:33:13,540 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_10.

2025-01-07 22:33:13,541 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_9.

2025-01-07 22:33:13,545 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 10 to 10, cost 0 ms.

2025-01-07 22:37:05,192 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_9.

2025-01-07 22:37:05,193 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_9.

2025-01-07 22:37:05,193 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_8.

2025-01-07 22:37:05,196 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 9 to 9, cost 0 ms.

2025-01-07 22:39:09,560 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_9.

2025-01-07 22:39:09,560 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_9.

2025-01-07 22:39:09,561 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_8.

2025-01-07 22:39:09,584 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 9 to 9, cost 0 ms.

2025-01-07 22:44:25,057 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-07 22:44:25,058 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-07 22:44:31,695 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-07 22:44:31,703 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-07 22:44:31,714 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-07 22:44:31,724 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-07 22:44:31,725 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-07 22:44:36,654 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 22:44:36,655 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 22:44:36,656 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-07 22:44:36,695 INFO Connection disconnected: /172.19.0.5:51078

2025-01-07 22:57:41,989 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499992707s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_service_metadata

2025-01-07 22:57:41,990 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499997250s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_service_metadata

2025-01-07 22:57:44,555 INFO Node <naming_instance_metadata/nacos2:7848> received PreVoteRequest from nacos1:7848, term=12, currTerm=11, granted=true, requestLastLogId=LogId [index=11, term=11], lastLogId=LogId [index=11, term=11].

2025-01-07 22:57:44,557 INFO Node <naming_instance_metadata/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=12, currTerm=11.

2025-01-07 22:57:44,558 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=11, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 22:57:44,559 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=12, votedFor=0.0.0.0:0, cost time=3 ms

2025-01-07 22:57:44,562 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=12, votedFor=nacos1:7848, cost time=2 ms

2025-01-07 22:57:45,788 INFO Node <naming_persistent_service/nacos2:7848> term 9 start preVote.

2025-01-07 22:57:45,788 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=9, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos3:7848.]].

2025-01-07 22:57:45,789 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 22:57:45,792 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 22:57:45,802 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 22:57:45,803 INFO The channel nacos1:7848 has successfully established.

2025-01-07 22:57:45,804 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 22:57:45,804 INFO The channel nacos3:7848 has successfully established.

2025-01-07 22:57:45,804 INFO Peer nacos3:7848 is connected.

2025-01-07 22:57:45,805 INFO Peer nacos1:7848 is connected.

2025-01-07 22:57:45,806 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteResponse from nacos1:7848, term=9, granted=false.

2025-01-07 22:57:45,806 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteResponse from nacos3:7848, term=9, granted=true.

2025-01-07 22:57:45,806 INFO Node <naming_persistent_service/nacos2:7848> start vote and grant vote self, term=9.

2025-01-07 22:57:45,811 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=10, votedFor=nacos2:7848, cost time=4 ms

2025-01-07 22:57:45,813 INFO Node <naming_persistent_service/nacos2:7848> become leader of group, term=10, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 22:57:45,814 INFO Replicator [group: naming_persistent_service, peer: nacos3:7848, type: Follower] is started

2025-01-07 22:57:45,814 INFO Replicator [group: naming_persistent_service, peer: nacos1:7848, type: Follower] is started

2025-01-07 22:57:45,814 WARN Node <naming_persistent_service/nacos2:7848> received invalid RequestVoteResponse from nacos1:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 22:57:45,824 INFO onLeaderStart: term=10.

2025-01-07 22:57:46,237 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteRequest from nacos1:7848, term=10, currTerm=9, granted=true, requestLastLogId=LogId [index=9, term=9], lastLogId=LogId [index=9, term=9].

2025-01-07 22:57:46,239 INFO Node <naming_persistent_service_v2/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=10, currTerm=9.

2025-01-07 22:57:46,239 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=9, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 22:57:46,242 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=10, votedFor=0.0.0.0:0, cost time=3 ms

2025-01-07 22:57:46,246 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=10, votedFor=nacos1:7848, cost time=4 ms

2025-01-07 22:57:49,700 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 22:57:49,704 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 22:57:49,704 INFO The channel nacos1:7848 has successfully established.

2025-01-07 22:58:12,873 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_12.

2025-01-07 22:58:12,874 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_12.

2025-01-07 22:58:12,874 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_11.

2025-01-07 22:58:12,931 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 11 to 12, cost 0 ms.

2025-01-07 23:03:13,548 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 10 to 11, cost 0 ms.

2025-01-07 23:07:05,251 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_10.

2025-01-07 23:07:05,251 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_10.

2025-01-07 23:07:05,252 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_9.

2025-01-07 23:07:05,255 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 9 to 10, cost 0 ms.

2025-01-07 23:09:09,560 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_10.

2025-01-07 23:09:09,561 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_10.

2025-01-07 23:09:09,562 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_9.

2025-01-07 23:09:09,565 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 9 to 10, cost 0 ms.

2025-01-07 23:27:49,254 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 23:27:49,255 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 23:27:49,256 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-07 23:28:12,869 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 12 to 13, cost 0 ms.

2025-01-07 23:33:13,558 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 11 to 11, cost 0 ms.

2025-01-07 23:37:05,186 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 10 to 11, cost 1 ms.

2025-01-07 23:39:09,556 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 10 to 11, cost 1 ms.

2025-01-07 23:58:12,869 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 13 to 13, cost 1 ms.

