2025-01-08 00:02:33,206 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499997525s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_service_metadata

2025-01-08 00:02:34,210 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499988464s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_service_metadata

2025-01-08 00:02:33,211 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499998117s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_persistent_service

2025-01-08 00:02:36,152 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteRequest from nacos3:7848, term=11, currTerm=10, granted=true, requestLastLogId=LogId [index=10, term=10], lastLogId=LogId [index=10, term=10].

2025-01-08 00:02:36,159 INFO Node <naming_service_metadata/nacos2:7848> ignore PreVoteRequest from nacos1:7848, term=11, currTerm=10, because the leader nacos2:7848's lease is still valid.

2025-01-08 00:02:36,167 INFO Node <naming_persistent_service/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=11, currTerm=10.

2025-01-08 00:02:36,168 INFO onLeaderStop: status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.].

2025-01-08 00:02:36,178 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=11, votedFor=0.0.0.0:0, cost time=10 ms

2025-01-08 00:02:36,178 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=10, lastLogIncluded=0, lastLogIndex=10, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service, waitId=8, type=Follower] is going to quit

2025-01-08 00:02:36,178 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=10, lastLogIncluded=0, lastLogIndex=10, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_persistent_service, waitId=7, type=Follower] is going to quit

2025-01-08 00:02:36,181 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=11, votedFor=nacos3:7848, cost time=2 ms

2025-01-08 00:02:36,456 INFO Node <naming_persistent_service_v2/nacos2:7848> term 10 start preVote.

2025-01-08 00:02:36,457 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-08 00:02:36,457 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=10, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos1:7848.]].

2025-01-08 00:02:36,457 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-08 00:02:36,464 INFO The channel nacos3:7848 is in state: READY.

2025-01-08 00:02:36,464 INFO The channel nacos1:7848 is in state: READY.

2025-01-08 00:02:36,464 INFO The channel nacos3:7848 has successfully established.

2025-01-08 00:02:36,464 INFO The channel nacos1:7848 has successfully established.

2025-01-08 00:02:36,465 INFO Peer nacos1:7848 is connected.

2025-01-08 00:02:36,466 INFO Peer nacos3:7848 is connected.

2025-01-08 00:02:36,466 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteResponse from nacos1:7848, term=10, granted=true.

2025-01-08 00:02:36,466 INFO Node <naming_persistent_service_v2/nacos2:7848> start vote and grant vote self, term=10.

2025-01-08 00:02:36,473 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=11, votedFor=nacos2:7848, cost time=6 ms

2025-01-08 00:02:36,473 WARN Node <naming_persistent_service_v2/nacos2:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-08 00:02:36,475 INFO Node <naming_persistent_service_v2/nacos2:7848> become leader of group, term=11, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-08 00:02:36,476 INFO Replicator [group: naming_persistent_service_v2, peer: nacos3:7848, type: Follower] is started

2025-01-08 00:02:36,476 INFO Replicator [group: naming_persistent_service_v2, peer: nacos1:7848, type: Follower] is started

2025-01-08 00:02:36,476 WARN Node <naming_persistent_service_v2/nacos2:7848> received invalid RequestVoteResponse from nacos1:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-08 00:02:36,482 INFO onLeaderStart: term=11.

2025-01-08 00:03:13,552 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 11 to 11, cost 0 ms.

2025-01-08 00:07:05,193 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_11.

2025-01-08 00:07:05,193 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_11.

2025-01-08 00:07:05,194 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_10.

2025-01-08 00:07:05,197 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 11 to 11, cost 0 ms.

2025-01-08 00:09:09,562 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_11.

2025-01-08 00:09:09,562 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_11.

2025-01-08 00:09:09,563 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_10.

2025-01-08 00:09:09,566 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 11 to 11, cost 0 ms.

2025-01-08 00:28:12,870 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 13 to 13, cost 0 ms.

2025-01-08 00:32:36,145 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-08 00:32:36,162 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-08 00:32:41,147 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-08 00:32:41,148 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-08 00:32:41,163 INFO Connection disconnected: /172.19.0.4:42254

2025-01-08 00:33:13,550 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 11 to 11, cost 0 ms.

2025-01-08 00:37:05,187 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 11 to 12, cost 0 ms.

2025-01-08 00:39:09,558 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 11 to 12, cost 1 ms.

2025-01-08 00:58:12,871 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 13 to 13, cost 0 ms.

2025-01-08 01:03:13,559 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 11 to 11, cost 1 ms.

2025-01-08 01:07:05,187 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 12 to 12, cost 0 ms.

2025-01-08 01:09:09,558 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 12 to 12, cost 0 ms.

2025-01-08 01:28:12,871 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 13 to 13, cost 0 ms.

2025-01-08 01:33:13,560 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 11 to 11, cost 0 ms.

2025-01-08 01:37:05,188 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 12 to 12, cost 0 ms.

2025-01-08 01:39:09,559 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 12 to 12, cost 0 ms.

2025-01-08 01:58:12,871 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 13 to 13, cost 1 ms.

2025-01-08 02:03:13,561 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 11 to 11, cost 0 ms.

2025-01-08 02:07:05,187 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 12 to 12, cost 0 ms.

2025-01-08 02:09:09,559 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 12 to 12, cost 1 ms.

2025-01-08 02:28:12,872 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 13 to 13, cost 0 ms.

2025-01-08 02:33:13,540 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 11 to 11, cost 0 ms.

2025-01-08 02:33:55,545 INFO Node <naming_instance_metadata/nacos2:7848> term 12 start preVote.

2025-01-08 02:33:55,545 INFO Node <naming_persistent_service/nacos2:7848> term 11 start preVote.

2025-01-08 02:33:55,545 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=12, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos1:7848.]].

2025-01-08 02:33:55,545 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-08 02:33:55,545 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-08 02:33:55,546 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=11, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos3:7848.]].

2025-01-08 02:33:55,546 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-08 02:33:55,547 WARN Node <naming_persistent_service_v2/nacos2:7848> steps down when alive nodes don't satisfy quorum, term=11, deadNodes=nacos3:7848,nacos1:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-08 02:33:55,547 WARN Node <naming_service_metadata/nacos2:7848> steps down when alive nodes don't satisfy quorum, term=10, deadNodes=nacos3:7848,nacos1:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-08 02:33:55,548 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=11, lastLogIncluded=0, lastLogIndex=11, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service_v2, waitId=6, type=Follower] is going to quit

2025-01-08 02:33:55,548 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=10, lastLogIncluded=0, lastLogIndex=10, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_service_metadata, waitId=5, type=Follower] is going to quit

2025-01-08 02:33:55,548 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=11, lastLogIncluded=0, lastLogIndex=11, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_persistent_service_v2, waitId=5, type=Follower] is going to quit

2025-01-08 02:33:55,548 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-08 02:33:55,548 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-08 02:33:55,558 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=10, lastLogIncluded=0, lastLogIndex=10, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_service_metadata, waitId=6, type=Follower] is going to quit

2025-01-08 02:33:55,559 ERROR handleRequest group_id: "naming_service_metadata"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-08 02:33:55,564 ERROR handleRequest group_id: "naming_persistent_service_v2"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-08 02:33:55,565 ERROR handleRequest group_id: "naming_service_metadata"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-08 02:33:55,565 ERROR handleRequest group_id: "naming_persistent_service_v2"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-08 02:33:55,566 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-08 02:33:55,572 INFO The channel nacos3:7848 is in state: READY.

2025-01-08 02:33:55,572 INFO The channel nacos3:7848 has successfully established.

2025-01-08 02:33:55,572 INFO The channel nacos3:7848 is in state: READY.

2025-01-08 02:33:55,572 INFO Peer nacos3:7848 is connected.

2025-01-08 02:33:55,572 INFO The channel nacos3:7848 has successfully established.

2025-01-08 02:33:55,572 INFO Peer nacos3:7848 is connected.

2025-01-08 02:33:55,579 INFO The channel nacos1:7848 is in state: READY.

2025-01-08 02:33:55,579 INFO The channel nacos1:7848 has successfully established.

2025-01-08 02:33:55,581 INFO Peer nacos1:7848 is connected.

2025-01-08 02:33:55,582 INFO The channel nacos1:7848 is in state: READY.

2025-01-08 02:33:55,582 INFO The channel nacos1:7848 has successfully established.

2025-01-08 02:33:55,583 INFO Node <naming_instance_metadata/nacos2:7848> received PreVoteResponse from nacos3:7848, term=12, granted=true.

2025-01-08 02:33:55,583 INFO Node <naming_instance_metadata/nacos2:7848> start vote and grant vote self, term=12.

2025-01-08 02:33:55,583 INFO Peer nacos1:7848 is connected.

2025-01-08 02:33:55,584 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=12, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-08 02:33:55,586 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteResponse from nacos1:7848, term=11, granted=true.

2025-01-08 02:33:55,599 INFO Node <naming_persistent_service/nacos2:7848> start vote and grant vote self, term=11.

2025-01-08 02:33:55,599 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=11, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-08 02:33:55,600 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=13, votedFor=nacos2:7848, cost time=17 ms

2025-01-08 02:33:55,601 WARN Node <naming_instance_metadata/nacos2:7848> received invalid PreVoteResponse from nacos1:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-08 02:33:55,603 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=12, votedFor=nacos2:7848, cost time=3 ms

2025-01-08 02:33:55,604 WARN Node <naming_persistent_service/nacos2:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-08 02:33:55,607 INFO Node <naming_instance_metadata/nacos2:7848> become leader of group, term=13, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-08 02:33:55,607 INFO Replicator [group: naming_instance_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-08 02:33:55,608 INFO Replicator [group: naming_instance_metadata, peer: nacos1:7848, type: Follower] is started

2025-01-08 02:33:55,608 INFO Node <naming_persistent_service/nacos2:7848> become leader of group, term=12, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-08 02:33:55,608 INFO Replicator [group: naming_persistent_service, peer: nacos3:7848, type: Follower] is started

2025-01-08 02:33:55,608 INFO Replicator [group: naming_persistent_service, peer: nacos1:7848, type: Follower] is started

2025-01-08 02:33:55,612 WARN Node <naming_instance_metadata/nacos2:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-08 02:33:55,616 WARN Node <naming_persistent_service/nacos2:7848> received invalid RequestVoteResponse from nacos1:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-08 02:33:55,619 INFO onLeaderStart: term=13.

2025-01-08 02:33:55,624 INFO onLeaderStart: term=12.

2025-01-08 02:33:57,557 INFO Node <naming_persistent_service_v2/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=12, currTerm=11.

2025-01-08 02:33:57,622 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=12, votedFor=0.0.0.0:0, cost time=64 ms

2025-01-08 02:33:57,625 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=12, votedFor=nacos1:7848, cost time=4 ms

2025-01-08 02:33:57,626 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteRequest from nacos1:7848, term=12, currTerm=12, granted=true, requestLastLogId=LogId [index=11, term=11], lastLogId=LogId [index=11, term=11].

2025-01-08 02:33:57,697 ERROR handleRequest group_id: "naming_service_metadata"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-08 02:33:57,890 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteRequest from nacos3:7848, term=11, currTerm=10, granted=true, requestLastLogId=LogId [index=10, term=10], lastLogId=LogId [index=10, term=10].

2025-01-08 02:33:57,893 INFO Node <naming_service_metadata/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=11, currTerm=10.

2025-01-08 02:33:57,896 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=11, votedFor=0.0.0.0:0, cost time=2 ms

2025-01-08 02:33:57,899 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=11, votedFor=nacos3:7848, cost time=2 ms

2025-01-08 02:37:05,194 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_12.

2025-01-08 02:37:05,195 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_12.

2025-01-08 02:37:05,196 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_11.

2025-01-08 02:37:05,199 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 12 to 12, cost 0 ms.

2025-01-08 02:39:09,564 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_12.

2025-01-08 02:39:09,564 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_12.

2025-01-08 02:39:09,565 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_11.

2025-01-08 02:39:09,569 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 12 to 12, cost 0 ms.

2025-01-08 02:58:12,877 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_13.

2025-01-08 02:58:12,877 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_13.

2025-01-08 02:58:12,878 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_12.

2025-01-08 02:58:12,934 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 13 to 13, cost 0 ms.

2025-01-08 03:03:13,545 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_11.

2025-01-08 03:03:13,546 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_11.

2025-01-08 03:03:13,546 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_10.

2025-01-08 03:03:13,566 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 11 to 11, cost 0 ms.

2025-01-08 03:03:50,402 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-08 03:03:50,402 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-08 03:03:50,403 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-08 03:03:50,403 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-08 03:04:00,544 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-08 03:04:00,544 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-08 03:04:00,554 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-08 03:04:00,554 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-08 03:07:05,188 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 12 to 13, cost 0 ms.

2025-01-08 03:09:09,559 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 12 to 13, cost 1 ms.

2025-01-08 03:17:09,871 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499991644s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_persistent_service

2025-01-08 03:28:12,872 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 13 to 14, cost 0 ms.

2025-01-08 03:33:13,565 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 11 to 12, cost 0 ms.

2025-01-08 03:37:05,189 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 13 to 13, cost 1 ms.

2025-01-08 03:38:44,601 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499992137s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_persistent_service

2025-01-08 03:38:46,756 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499988866s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_instance_metadata

2025-01-08 03:38:46,777 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteRequest from nacos3:7848, term=13, currTerm=12, granted=true, requestLastLogId=LogId [index=12, term=12], lastLogId=LogId [index=12, term=12].

2025-01-08 03:38:46,787 INFO Node <naming_persistent_service_v2/nacos2:7848> ignore PreVoteRequest from nacos3:7848, term=13, currTerm=12, because the leader nacos1:7848's lease is still valid.

2025-01-08 03:38:46,787 INFO Node <naming_persistent_service/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=13, currTerm=12.

2025-01-08 03:38:46,788 INFO onLeaderStop: status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.].

2025-01-08 03:38:46,790 INFO Node <naming_persistent_service_v2/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=13, currTerm=12.

2025-01-08 03:38:46,790 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=12, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-08 03:38:46,791 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=13, votedFor=0.0.0.0:0, cost time=3 ms

2025-01-08 03:38:46,791 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=12, lastLogIncluded=0, lastLogIndex=12, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service, waitId=10, type=Follower] is going to quit

2025-01-08 03:38:46,792 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=12, lastLogIncluded=0, lastLogIndex=12, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_persistent_service, waitId=9, type=Follower] is going to quit

2025-01-08 03:38:46,792 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=13, votedFor=0.0.0.0:0, cost time=3 ms

2025-01-08 03:38:46,795 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=13, votedFor=nacos3:7848, cost time=3 ms

2025-01-08 03:38:46,796 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=13, votedFor=nacos3:7848, cost time=3 ms

2025-01-08 03:38:46,796 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-08 03:38:49,622 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteRequest from nacos1:7848, term=12, currTerm=11, granted=true, requestLastLogId=LogId [index=11, term=11], lastLogId=LogId [index=11, term=11].

2025-01-08 03:38:49,626 INFO Node <naming_service_metadata/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=12, currTerm=11.

2025-01-08 03:38:49,627 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=11, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-08 03:38:49,692 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=12, votedFor=0.0.0.0:0, cost time=65 ms

2025-01-08 03:38:49,696 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=12, votedFor=nacos1:7848, cost time=5 ms

2025-01-08 03:39:09,565 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_13.

2025-01-08 03:39:09,565 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_13.

2025-01-08 03:39:09,566 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_12.

2025-01-08 03:39:09,623 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 13 to 13, cost 1 ms.

2025-01-08 03:58:12,873 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 14 to 14, cost 0 ms.

2025-01-08 04:03:13,547 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_12.

2025-01-08 04:03:13,547 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_12.

2025-01-08 04:03:13,548 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_11.

2025-01-08 04:03:13,565 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 12 to 12, cost 1 ms.

2025-01-08 04:07:05,253 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_13.

2025-01-08 04:07:05,253 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_13.

2025-01-08 04:07:05,254 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_12.

2025-01-08 04:07:05,259 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 13 to 13, cost 1 ms.

2025-01-08 04:08:46,601 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-08 04:08:46,602 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-08 04:08:46,603 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-08 04:08:46,616 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-08 04:08:46,788 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-08 04:08:51,617 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-08 04:08:51,618 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-08 04:09:09,561 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 13 to 14, cost 1 ms.

2025-01-08 04:22:04,028 INFO Node <naming_persistent_service/nacos2:7848> term 13 start preVote.

2025-01-08 04:22:04,029 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=13, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos3:7848.]].

2025-01-08 04:22:04,029 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-08 04:22:04,030 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-08 04:22:04,038 INFO The channel nacos3:7848 is in state: READY.

2025-01-08 04:22:04,038 INFO The channel nacos3:7848 has successfully established.

2025-01-08 04:22:04,038 INFO Peer nacos3:7848 is connected.

2025-01-08 04:22:04,039 INFO The channel nacos1:7848 is in state: READY.

2025-01-08 04:22:04,039 INFO The channel nacos1:7848 has successfully established.

2025-01-08 04:22:04,039 INFO Peer nacos1:7848 is connected.

2025-01-08 04:22:04,042 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteResponse from nacos3:7848, term=13, granted=true.

2025-01-08 04:22:04,042 INFO Node <naming_persistent_service/nacos2:7848> start vote and grant vote self, term=13.

2025-01-08 04:22:04,046 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=14, votedFor=nacos2:7848, cost time=4 ms

2025-01-08 04:22:04,046 WARN Node <naming_persistent_service/nacos2:7848> received invalid PreVoteResponse from nacos1:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-08 04:22:04,051 INFO Node <naming_persistent_service/nacos2:7848> become leader of group, term=14, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-08 04:22:04,051 INFO Replicator [group: naming_persistent_service, peer: nacos3:7848, type: Follower] is started

2025-01-08 04:22:04,051 INFO Replicator [group: naming_persistent_service, peer: nacos1:7848, type: Follower] is started

2025-01-08 04:22:04,052 WARN Node <naming_persistent_service/nacos2:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-08 04:22:04,059 INFO onLeaderStart: term=14.

2025-01-08 04:28:12,873 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 14 to 14, cost 0 ms.

2025-01-08 04:33:13,563 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 12 to 13, cost 0 ms.

2025-01-08 04:37:05,196 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_14.

2025-01-08 04:37:05,196 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_14.

2025-01-08 04:37:05,197 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_13.

2025-01-08 04:37:05,200 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 13 to 14, cost 0 ms.

2025-01-08 04:39:09,561 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 14 to 14, cost 0 ms.

2025-01-08 04:52:07,878 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-08 04:52:07,879 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-08 04:58:12,873 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 14 to 14, cost 0 ms.

2025-01-08 05:03:13,556 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 13 to 13, cost 0 ms.

2025-01-08 05:07:05,190 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 14 to 15, cost 1 ms.

2025-01-08 05:09:09,562 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 14 to 14, cost 0 ms.

2025-01-08 05:26:51,599 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499996453s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_instance_metadata

2025-01-08 05:28:12,875 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 14 to 14, cost 0 ms.

2025-01-08 05:33:13,560 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 13 to 13, cost 0 ms.

2025-01-08 05:37:05,190 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 15 to 15, cost 0 ms.

2025-01-08 05:39:09,562 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 14 to 14, cost 0 ms.

2025-01-08 05:58:12,874 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 14 to 14, cost 0 ms.

2025-01-08 06:03:13,545 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 13 to 13, cost 0 ms.

2025-01-08 06:07:05,191 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 15 to 15, cost 0 ms.

2025-01-08 06:09:09,563 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 14 to 14, cost 0 ms.

2025-01-08 06:28:12,875 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 14 to 14, cost 0 ms.

2025-01-08 06:33:13,561 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 13 to 13, cost 1 ms.

2025-01-08 06:37:05,192 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 15 to 15, cost 1 ms.

2025-01-08 06:39:09,563 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 14 to 14, cost 1 ms.

2025-01-08 06:58:12,876 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 14 to 14, cost 0 ms.

2025-01-08 07:03:13,563 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 13 to 13, cost 0 ms.

2025-01-08 07:07:05,192 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 15 to 15, cost 1 ms.

2025-01-08 07:09:09,564 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 14 to 14, cost 0 ms.

2025-01-08 07:28:12,877 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 14 to 14, cost 0 ms.

2025-01-08 07:33:13,560 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 13 to 13, cost 0 ms.

2025-01-08 07:36:35,372 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499996136s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_instance_metadata

2025-01-08 07:37:05,193 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 15 to 15, cost 0 ms.

2025-01-08 07:39:09,564 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 14 to 14, cost 0 ms.

2025-01-08 07:58:12,185 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499995511s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_instance_metadata

2025-01-08 07:58:12,185 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499993324s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_persistent_service

2025-01-08 07:58:14,757 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 14 to 14, cost 1 ms.

2025-01-08 07:58:14,696 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499995305s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_instance_metadata

2025-01-08 07:58:14,696 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499988935s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_persistent_service

2025-01-08 07:58:14,771 INFO Node <naming_persistent_service_v2/nacos2:7848> ignore PreVoteRequest from nacos1:7848, term=14, currTerm=13, because the leader nacos3:7848's lease is still valid.

2025-01-08 07:58:14,773 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteRequest from nacos3:7848, term=15, currTerm=14, granted=true, requestLastLogId=LogId [index=14, term=14], lastLogId=LogId [index=14, term=14].

2025-01-08 07:58:14,777 INFO Node <naming_instance_metadata/nacos2:7848> received PreVoteRequest from nacos3:7848, term=14, currTerm=13, granted=true, requestLastLogId=LogId [index=13, term=13], lastLogId=LogId [index=13, term=13].

2025-01-08 07:58:14,779 INFO Node <naming_instance_metadata/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=14, currTerm=13.

2025-01-08 07:58:14,780 INFO onLeaderStop: status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.].

2025-01-08 07:58:14,782 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=14, votedFor=0.0.0.0:0, cost time=2 ms

2025-01-08 07:58:14,782 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=13, lastLogIncluded=0, lastLogIndex=13, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_instance_metadata, waitId=5, type=Follower] is going to quit

2025-01-08 07:58:14,782 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=13, lastLogIncluded=0, lastLogIndex=13, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_instance_metadata, waitId=6, type=Follower] is going to quit

2025-01-08 07:58:14,783 INFO Node <naming_persistent_service_v2/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=14, currTerm=13.

2025-01-08 07:58:14,784 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=13, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-08 07:58:14,785 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=14, votedFor=0.0.0.0:0, cost time=1 ms

2025-01-08 07:58:14,786 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=14, votedFor=nacos3:7848, cost time=3 ms

2025-01-08 07:58:14,787 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=14, votedFor=nacos1:7848, cost time=1 ms

2025-01-08 07:58:14,798 INFO Node <naming_service_metadata/nacos2:7848> ignore PreVoteRequest from nacos3:7848, term=13, currTerm=12, because the leader nacos1:7848's lease is still valid.

2025-01-08 07:58:14,811 INFO Node <naming_persistent_service/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=15, currTerm=14.

2025-01-08 07:58:14,811 INFO onLeaderStop: status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.].

2025-01-08 07:58:14,817 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=15, votedFor=0.0.0.0:0, cost time=6 ms

2025-01-08 07:58:14,817 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=14, lastLogIncluded=0, lastLogIndex=14, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service, waitId=12, type=Follower] is going to quit

2025-01-08 07:58:14,817 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=14, lastLogIncluded=0, lastLogIndex=14, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_persistent_service, waitId=11, type=Follower] is going to quit

2025-01-08 07:58:14,821 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=15, votedFor=nacos3:7848, cost time=5 ms

2025-01-08 08:03:13,563 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 13 to 13, cost 0 ms.

2025-01-08 08:07:05,257 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_15.

2025-01-08 08:07:05,257 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_15.

2025-01-08 08:07:05,258 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_14.

2025-01-08 08:07:05,262 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 15 to 15, cost 0 ms.

2025-01-08 08:09:09,571 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_14.

2025-01-08 08:09:09,572 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_14.

2025-01-08 08:09:09,572 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_13.

2025-01-08 08:09:09,575 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 14 to 14, cost 0 ms.

2025-01-08 08:28:09,576 INFO The channel nacos2:7848 is in state: IDLE.

2025-01-08 08:28:11,679 INFO Connection disconnected: /172.19.0.5:41846

2025-01-08 08:28:12,882 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_14.

2025-01-08 08:28:12,882 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_14.

2025-01-08 08:28:12,883 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_13.

2025-01-08 08:28:12,885 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 14 to 14, cost 0 ms.

2025-01-08 08:28:14,189 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-08 08:28:14,577 INFO Connection disconnected: /172.19.0.3:34428

2025-01-08 08:28:14,696 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-08 08:28:14,765 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-08 08:28:14,796 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-08 08:28:19,721 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-08 08:28:19,722 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-08 08:28:19,723 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-08 08:28:19,772 INFO Connection disconnected: /172.19.0.4:60324

2025-01-08 08:28:19,808 INFO Connection disconnected: /172.19.0.5:54516

2025-01-08 08:33:13,568 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 13 to 13, cost 0 ms.

2025-01-08 08:37:05,194 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 15 to 16, cost 0 ms.

2025-01-08 08:39:09,566 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 14 to 15, cost 1 ms.

2025-01-08 08:58:12,878 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 14 to 15, cost 1 ms.

2025-01-08 09:03:13,552 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 13 to 13, cost 0 ms.

2025-01-08 09:07:05,194 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 16 to 16, cost 0 ms.

2025-01-08 09:09:09,567 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 15 to 15, cost 0 ms.

2025-01-08 09:24:46,828 INFO Node <naming_service_metadata/nacos2:7848> ignore PreVoteRequest from nacos3:7848, term=13, currTerm=12, because the leader nacos1:7848's lease is still valid.

2025-01-08 09:24:46,831 INFO Node <naming_service_metadata/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=13, currTerm=12.

2025-01-08 09:24:46,831 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=12, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-08 09:24:46,895 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=13, votedFor=0.0.0.0:0, cost time=64 ms

2025-01-08 09:24:46,898 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=13, votedFor=nacos3:7848, cost time=2 ms

2025-01-08 09:24:50,523 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteRequest from nacos3:7848, term=16, currTerm=15, granted=true, requestLastLogId=LogId [index=15, term=15], lastLogId=LogId [index=15, term=15].

2025-01-08 09:24:50,527 INFO Node <naming_persistent_service/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=16, currTerm=15.

2025-01-08 09:24:50,527 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=15, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-08 09:24:50,531 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=16, votedFor=0.0.0.0:0, cost time=3 ms

2025-01-08 09:24:50,533 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=16, votedFor=nacos3:7848, cost time=3 ms

2025-01-08 09:28:12,878 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 15 to 15, cost 1 ms.

2025-01-08 09:33:13,555 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_13.

2025-01-08 09:33:13,555 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_13.

2025-01-08 09:33:13,556 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_12.

2025-01-08 09:33:13,559 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 13 to 13, cost 0 ms.

2025-01-08 09:37:05,202 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_16.

2025-01-08 09:37:05,202 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_16.

2025-01-08 09:37:05,203 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_15.

2025-01-08 09:37:05,206 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 16 to 16, cost 0 ms.

2025-01-08 09:39:09,567 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 15 to 15, cost 0 ms.

2025-01-08 09:54:49,917 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-08 09:54:49,917 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-08 09:58:12,879 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 15 to 15, cost 0 ms.

2025-01-08 10:03:13,563 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 13 to 14, cost 1 ms.

2025-01-08 10:07:05,194 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 16 to 17, cost 1 ms.

2025-01-08 10:08:02,154 INFO Node <naming_persistent_service/nacos2:7848> ignore PreVoteRequest from nacos1:7848, term=17, currTerm=16, because the leader nacos3:7848's lease is still valid.

2025-01-08 10:08:02,398 INFO Node <naming_persistent_service_v2/nacos2:7848> term 14 start preVote.

2025-01-08 10:08:02,399 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-08 10:08:02,399 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=14, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos1:7848.]].

2025-01-08 10:08:02,399 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-08 10:08:02,409 INFO The channel nacos3:7848 is in state: READY.

2025-01-08 10:08:02,410 INFO The channel nacos3:7848 has successfully established.

2025-01-08 10:08:02,410 INFO Peer nacos3:7848 is connected.

2025-01-08 10:08:02,413 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteResponse from nacos3:7848, term=14, granted=true.

2025-01-08 10:08:02,413 INFO Node <naming_persistent_service_v2/nacos2:7848> start vote and grant vote self, term=14.

2025-01-08 10:08:02,413 INFO The channel nacos1:7848 is in state: READY.

2025-01-08 10:08:02,413 INFO The channel nacos1:7848 has successfully established.

2025-01-08 10:08:02,413 INFO Peer nacos1:7848 is connected.

2025-01-08 10:08:02,417 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=15, votedFor=nacos2:7848, cost time=4 ms

2025-01-08 10:08:02,417 WARN Node <naming_persistent_service_v2/nacos2:7848> received invalid PreVoteResponse from nacos1:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-08 10:08:02,422 INFO Node <naming_persistent_service_v2/nacos2:7848> become leader of group, term=15, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-08 10:08:02,422 INFO Replicator [group: naming_persistent_service_v2, peer: nacos3:7848, type: Follower] is started

2025-01-08 10:08:02,422 INFO Replicator [group: naming_persistent_service_v2, peer: nacos1:7848, type: Follower] is started

2025-01-08 10:08:02,423 WARN Node <naming_persistent_service_v2/nacos2:7848> received invalid RequestVoteResponse from nacos1:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-08 10:08:02,434 INFO onLeaderStart: term=15.

2025-01-08 10:08:08,628 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-08 10:08:08,633 INFO The channel nacos2:7848 is in state: READY.

2025-01-08 10:08:08,633 INFO The channel nacos2:7848 has successfully established.

2025-01-08 10:09:09,573 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_15.

2025-01-08 10:09:09,573 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_15.

2025-01-08 10:09:09,574 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_14.

2025-01-08 10:09:09,631 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 15 to 15, cost 0 ms.

2025-01-08 10:28:12,900 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 15 to 15, cost 0 ms.

2025-01-08 10:33:13,560 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 14 to 14, cost 0 ms.

2025-01-08 10:37:05,210 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 17 to 17, cost 0 ms.

2025-01-08 10:38:02,122 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-08 10:38:07,121 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-08 10:38:07,156 INFO Connection disconnected: /172.19.0.4:44224

2025-01-08 10:39:09,591 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 15 to 16, cost 0 ms.

2025-01-08 10:51:17,633 WARN Node <naming_persistent_service_v2/nacos2:7848> steps down when alive nodes don't satisfy quorum, term=15, deadNodes=nacos3:7848,nacos1:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-08 10:51:19,298 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=15, lastLogIncluded=0, lastLogIndex=15, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service_v2, waitId=7, type=Follower] is going to quit

2025-01-08 10:51:19,298 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=15, lastLogIncluded=0, lastLogIndex=15, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_persistent_service_v2, waitId=8, type=Follower] is going to quit

2025-01-08 10:51:18,344 INFO Node <naming_service_metadata/nacos2:7848> term 13 start preVote.

2025-01-08 10:51:19,298 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-08 10:51:19,298 ERROR handleRequest group_id: "naming_persistent_service_v2"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-08 10:51:18,344 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=13, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos3:7848.]].

2025-01-08 10:51:19,301 ERROR handleRequest group_id: "naming_persistent_service_v2"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-08 10:51:19,303 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-08 10:51:19,315 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-08 10:51:19,329 INFO The channel nacos3:7848 is in state: READY.

2025-01-08 10:51:19,330 INFO The channel nacos1:7848 is in state: READY.

2025-01-08 10:51:19,330 INFO The channel nacos1:7848 has successfully established.

2025-01-08 10:51:19,331 INFO Peer nacos1:7848 is connected.

2025-01-08 10:51:19,329 INFO The channel nacos3:7848 has successfully established.

2025-01-08 10:51:19,331 INFO Peer nacos3:7848 is connected.

2025-01-08 10:51:19,333 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteResponse from nacos1:7848, term=13, granted=false.

2025-01-08 10:51:19,333 INFO Node <naming_service_metadata/nacos2:7848> received PreVoteResponse from nacos3:7848, term=13, granted=false.

2025-01-08 10:51:20,515 ERROR handleRequest group_id: "naming_persistent_service_v2"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-08 10:51:22,323 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteRequest from nacos1:7848, term=16, currTerm=15, granted=true, requestLastLogId=LogId [index=15, term=15], lastLogId=LogId [index=15, term=15].

2025-01-08 10:51:22,327 INFO Node <naming_persistent_service_v2/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=16, currTerm=15.

2025-01-08 10:51:22,388 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=16, votedFor=0.0.0.0:0, cost time=55 ms

2025-01-08 10:51:22,391 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=16, votedFor=nacos1:7848, cost time=3 ms

2025-01-08 10:51:24,360 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-08 10:51:24,364 INFO The channel nacos1:7848 is in state: READY.

2025-01-08 10:51:24,364 INFO The channel nacos1:7848 has successfully established.

2025-01-08 10:58:12,898 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 15 to 15, cost 1 ms.

2025-01-08 11:03:13,558 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 14 to 14, cost 0 ms.

2025-01-08 11:07:05,207 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 17 to 17, cost 0 ms.

2025-01-08 11:09:09,573 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_16.

2025-01-08 11:09:09,574 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_16.

2025-01-08 11:09:09,574 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_15.

2025-01-08 11:09:09,594 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 16 to 16, cost 0 ms.

2025-01-08 11:21:19,296 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-08 11:21:19,301 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-08 11:21:19,304 INFO The channel nacos2:7848 is in state: IDLE.

2025-01-08 11:21:19,333 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-08 11:21:19,333 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-08 11:21:24,305 INFO Connection disconnected: /172.19.0.3:43384

2025-01-08 11:21:24,306 INFO Connection disconnected: /172.19.0.4:44228

2025-01-08 11:21:25,518 INFO Connection disconnected: /172.19.0.5:56382

2025-01-08 11:28:12,905 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 15 to 15, cost 1 ms.

2025-01-08 11:33:13,570 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 14 to 14, cost 0 ms.

2025-01-08 11:34:30,192 INFO Node <naming_persistent_service/nacos2:7848> term 16 start preVote.

2025-01-08 11:34:30,192 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-08 11:34:30,193 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=16, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos3:7848.]].

2025-01-08 11:34:30,388 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-08 11:34:30,399 INFO The channel nacos3:7848 is in state: READY.

2025-01-08 11:34:30,399 INFO The channel nacos3:7848 has successfully established.

2025-01-08 11:34:30,404 INFO Peer nacos3:7848 is connected.

2025-01-08 11:34:30,404 INFO The channel nacos1:7848 is in state: READY.

2025-01-08 11:34:30,404 INFO The channel nacos1:7848 has successfully established.

2025-01-08 11:34:30,405 INFO Peer nacos1:7848 is connected.

2025-01-08 11:34:30,408 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteResponse from nacos3:7848, term=16, granted=true.

2025-01-08 11:34:30,408 INFO Node <naming_persistent_service/nacos2:7848> start vote and grant vote self, term=16.

2025-01-08 11:34:30,408 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=16, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-08 11:34:30,414 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=17, votedFor=nacos2:7848, cost time=5 ms

2025-01-08 11:34:30,414 WARN Node <naming_persistent_service/nacos2:7848> received invalid PreVoteResponse from nacos1:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-08 11:34:30,416 INFO Node <naming_persistent_service/nacos2:7848> become leader of group, term=17, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-08 11:34:30,416 INFO Replicator [group: naming_persistent_service, peer: nacos3:7848, type: Follower] is started

2025-01-08 11:34:30,416 INFO Replicator [group: naming_persistent_service, peer: nacos1:7848, type: Follower] is started

2025-01-08 11:34:30,424 WARN Node <naming_persistent_service/nacos2:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-08 11:34:30,428 INFO onLeaderStart: term=17.

2025-01-08 11:34:31,709 INFO Node <naming_service_metadata/nacos2:7848> ignore PreVoteRequest from nacos1:7848, term=14, currTerm=13, because the leader nacos3:7848's lease is still valid.

2025-01-08 11:34:31,712 INFO Node <naming_service_metadata/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=14, currTerm=13.

2025-01-08 11:34:31,713 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=13, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-08 11:34:31,716 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=14, votedFor=0.0.0.0:0, cost time=3 ms

2025-01-08 11:34:31,720 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=14, votedFor=nacos1:7848, cost time=2 ms

2025-01-08 11:34:34,910 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-08 11:34:34,914 INFO The channel nacos2:7848 is in state: READY.

2025-01-08 11:34:34,914 INFO The channel nacos2:7848 has successfully established.

2025-01-08 11:37:05,202 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_17.

2025-01-08 11:37:05,202 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_17.

2025-01-08 11:37:05,203 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_16.

2025-01-08 11:37:05,206 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 17 to 17, cost 0 ms.

2025-01-08 11:39:09,569 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 16 to 17, cost 1 ms.

2025-01-08 11:56:10,104 INFO Node <naming_persistent_service_v2/nacos2:7848> term 16 start preVote.

2025-01-08 11:56:10,104 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-08 11:56:10,105 INFO Node <naming_instance_metadata/nacos2:7848> term 14 start preVote.

2025-01-08 11:56:10,105 INFO Node <naming_service_metadata/nacos2:7848> term 14 start preVote.

2025-01-08 11:56:10,105 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-08 11:56:10,105 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=16, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos1:7848.]].

2025-01-08 11:56:10,105 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=14, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos3:7848.]].

2025-01-08 11:56:10,105 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=14, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos1:7848.]].

2025-01-08 11:56:10,106 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-08 11:56:10,106 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-08 11:56:10,107 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-08 11:56:10,116 WARN Node <naming_persistent_service/nacos2:7848> steps down when alive nodes don't satisfy quorum, term=17, deadNodes=nacos3:7848,nacos1:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-08 11:56:10,116 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=17, lastLogIncluded=0, lastLogIndex=17, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service, waitId=13, type=Follower] is going to quit

2025-01-08 11:56:10,116 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-08 11:56:10,116 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=17, lastLogIncluded=0, lastLogIndex=17, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_persistent_service, waitId=14, type=Follower] is going to quit

2025-01-08 11:56:10,128 INFO The channel nacos3:7848 is in state: READY.

2025-01-08 11:56:10,128 INFO The channel nacos3:7848 has successfully established.

2025-01-08 11:56:10,128 INFO Peer nacos3:7848 is connected.

2025-01-08 11:56:10,133 INFO The channel nacos1:7848 is in state: READY.

2025-01-08 11:56:10,141 INFO The channel nacos1:7848 has successfully established.

2025-01-08 11:56:10,142 INFO Peer nacos1:7848 is connected.

2025-01-08 11:56:10,141 INFO Node <naming_service_metadata/nacos2:7848> ignore PreVoteRequest from nacos3:7848, term=15, currTerm=14, because the leader nacos1:7848's lease is still valid.

2025-01-08 11:56:10,143 INFO Node <naming_service_metadata/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=15, currTerm=14.

2025-01-08 11:56:10,143 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=14, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-08 11:56:10,143 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteRequest from nacos3:7848, term=18, currTerm=17, granted=true, requestLastLogId=LogId [index=17, term=17], lastLogId=LogId [index=17, term=17].

2025-01-08 11:56:10,147 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-08 11:56:10,150 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=15, votedFor=0.0.0.0:0, cost time=7 ms

2025-01-08 11:56:10,152 INFO The channel nacos3:7848 is in state: READY.

2025-01-08 11:56:10,152 INFO The channel nacos3:7848 has successfully established.

2025-01-08 11:56:10,153 INFO Peer nacos3:7848 is connected.

2025-01-08 11:56:10,158 INFO Node <naming_persistent_service/nacos2:7848> received PreVoteRequest from nacos1:7848, term=18, currTerm=17, granted=true, requestLastLogId=LogId [index=17, term=17], lastLogId=LogId [index=17, term=17].

2025-01-08 11:56:10,159 INFO The channel nacos1:7848 is in state: READY.

2025-01-08 11:56:10,165 INFO The channel nacos1:7848 has successfully established.

2025-01-08 11:56:10,166 INFO The channel nacos3:7848 is in state: READY.

2025-01-08 11:56:10,166 INFO The channel nacos3:7848 has successfully established.

2025-01-08 11:56:10,166 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=15, votedFor=nacos3:7848, cost time=11 ms

2025-01-08 11:56:10,164 INFO Node <naming_persistent_service/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=18, currTerm=17.

2025-01-08 11:56:10,166 INFO Peer nacos1:7848 is connected.

2025-01-08 11:56:10,165 INFO Node <naming_instance_metadata/nacos2:7848> received PreVoteResponse from nacos3:7848, term=14, granted=true.

2025-01-08 11:56:10,166 INFO Node <naming_instance_metadata/nacos2:7848> start vote and grant vote self, term=14.

2025-01-08 11:56:10,166 INFO Peer nacos3:7848 is connected.

2025-01-08 11:56:10,167 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=14, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-08 11:56:10,168 WARN Node <naming_service_metadata/nacos2:7848> received invalid PreVoteResponse from nacos1:7848, term=14, currTerm=15.

2025-01-08 11:56:10,169 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteResponse from nacos3:7848, term=16, granted=false.

2025-01-08 11:56:10,172 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteResponse from nacos1:7848, term=16, granted=true.

2025-01-08 11:56:10,172 INFO Node <naming_persistent_service_v2/nacos2:7848> start vote and grant vote self, term=16.

2025-01-08 11:56:10,174 WARN Node <naming_service_metadata/nacos2:7848> received invalid PreVoteResponse from nacos3:7848, term=14, currTerm=15.

2025-01-08 11:56:10,175 INFO The channel nacos1:7848 is in state: READY.

2025-01-08 11:56:10,175 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=16, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-08 11:56:10,178 INFO The channel nacos1:7848 has successfully established.

2025-01-08 11:56:10,179 INFO Peer nacos1:7848 is connected.

2025-01-08 11:56:10,180 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=18, votedFor=0.0.0.0:0, cost time=14 ms

2025-01-08 11:56:10,185 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=18, votedFor=nacos3:7848, cost time=4 ms

2025-01-08 11:56:10,185 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=17, votedFor=nacos2:7848, cost time=9 ms

2025-01-08 11:56:10,185 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-08 11:56:10,185 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-08 11:56:10,186 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-08 11:56:10,186 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=15, votedFor=nacos2:7848, cost time=11 ms

2025-01-08 11:56:10,188 WARN Node <naming_instance_metadata/nacos2:7848> received invalid PreVoteResponse from nacos1:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-08 11:56:10,189 INFO Node <naming_instance_metadata/nacos2:7848> become leader of group, term=15, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-08 11:56:10,189 INFO Replicator [group: naming_instance_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-08 11:56:10,190 INFO Replicator [group: naming_instance_metadata, peer: nacos1:7848, type: Follower] is started

2025-01-08 11:56:10,190 INFO Node <naming_persistent_service_v2/nacos2:7848> become leader of group, term=17, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-08 11:56:10,190 INFO Replicator [group: naming_persistent_service_v2, peer: nacos3:7848, type: Follower] is started

2025-01-08 11:56:10,190 INFO Replicator [group: naming_persistent_service_v2, peer: nacos1:7848, type: Follower] is started

2025-01-08 11:56:10,191 WARN Node <naming_persistent_service_v2/nacos2:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-08 11:56:10,191 WARN Node <naming_instance_metadata/nacos2:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-08 11:56:10,209 INFO onLeaderStart: term=17.

2025-01-08 11:56:10,209 INFO onLeaderStart: term=15.

2025-01-08 11:58:12,887 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_15.

2025-01-08 11:58:12,887 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_15.

2025-01-08 11:58:12,888 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_14.

2025-01-08 11:58:12,893 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 15 to 15, cost 0 ms.

2025-01-08 12:03:13,555 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_15.

2025-01-08 12:03:13,555 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_15.

2025-01-08 12:03:13,557 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_13.

2025-01-08 12:03:13,560 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 14 to 14, cost 1 ms.

2025-01-08 12:07:05,261 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_18.

2025-01-08 12:07:05,262 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_18.

2025-01-08 12:07:05,262 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_17.

2025-01-08 12:07:05,265 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 17 to 18, cost 0 ms.

2025-01-08 12:09:09,575 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_17.

2025-01-08 12:09:09,575 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_17.

2025-01-08 12:09:09,576 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_16.

2025-01-08 12:09:09,580 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 17 to 17, cost 1 ms.

2025-01-08 12:17:44,904 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499991350s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_persistent_service_v2

2025-01-08 12:17:44,907 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499996803s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_instance_metadata

2025-01-08 12:17:44,907 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499996618s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_persistent_service_v2

2025-01-08 12:17:44,908 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499989221s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_instance_metadata

2025-01-08 12:26:02,397 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-08 12:26:02,397 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-08 12:26:10,145 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-08 12:26:10,160 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-08 12:26:10,161 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-08 12:26:15,110 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-08 12:26:15,112 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-08 12:26:15,112 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-08 12:26:15,131 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-08 12:26:15,132 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-08 12:26:15,170 INFO Connection disconnected: /172.19.0.4:54998

2025-01-08 12:28:12,882 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 15 to 16, cost 0 ms.

2025-01-08 12:33:13,552 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 14 to 16, cost 0 ms.

2025-01-08 12:37:05,196 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 18 to 19, cost 0 ms.

2025-01-08 12:39:09,570 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 17 to 18, cost 1 ms.

2025-01-08 12:58:12,899 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 16 to 16, cost 0 ms.

2025-01-08 13:00:59,329 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499997445s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_persistent_service_v2

2025-01-08 13:03:13,567 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 16 to 16, cost 0 ms.

2025-01-08 13:07:05,197 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 19 to 19, cost 0 ms.

2025-01-08 13:09:09,569 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 18 to 18, cost 1 ms.

2025-01-08 13:22:37,113 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499992556s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_persistent_service_v2

2025-01-08 13:28:12,881 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 16 to 16, cost 0 ms.

2025-01-08 13:33:13,569 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 16 to 16, cost 1 ms.

2025-01-08 13:37:05,197 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 19 to 19, cost 0 ms.

2025-01-08 13:39:09,570 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 18 to 18, cost 1 ms.

2025-01-08 13:44:11,365 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499997306s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_persistent_service_v2

2025-01-08 13:44:13,874 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499997230s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_instance_metadata

2025-01-08 13:58:12,892 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 16 to 16, cost 0 ms.

2025-01-08 14:03:13,827 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 16 to 16, cost 0 ms.

2025-01-08 14:05:52,384 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499988248s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_instance_metadata

2025-01-08 14:05:52,471 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499989683s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_persistent_service_v2

2025-01-08 14:07:05,198 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 19 to 19, cost 0 ms.

2025-01-08 14:09:09,572 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 18 to 18, cost 0 ms.

2025-01-08 14:27:26,701 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499987261s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_instance_metadata

2025-01-08 14:27:26,702 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499994718s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_persistent_service_v2

2025-01-08 14:27:28,207 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499990791s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_persistent_service_v2

2025-01-08 14:27:28,549 WARN Node <naming_instance_metadata/nacos2:7848> steps down when alive nodes don't satisfy quorum, term=15, deadNodes=nacos3:7848,nacos1:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-08 14:27:30,143 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=15, lastLogIncluded=0, lastLogIndex=15, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_instance_metadata, waitId=8, type=Follower] is going to quit

2025-01-08 14:27:30,143 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=15, lastLogIncluded=0, lastLogIndex=15, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_instance_metadata, waitId=7, type=Follower] is going to quit

2025-01-08 14:27:30,143 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-08 14:27:30,178 INFO Node <naming_service_metadata/nacos2:7848> ignore PreVoteRequest from nacos1:7848, term=16, currTerm=15, because the leader nacos3:7848's lease is still valid.

2025-01-08 14:27:30,186 ERROR handleRequest group_id: "naming_instance_metadata"
leader_id: "nacos2:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-08 14:27:30,196 INFO Node <naming_instance_metadata/nacos2:7848> received PreVoteRequest from nacos3:7848, term=16, currTerm=15, granted=true, requestLastLogId=LogId [index=15, term=15], lastLogId=LogId [index=15, term=15].

2025-01-08 14:27:30,202 INFO Node <naming_instance_metadata/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=16, currTerm=15.

2025-01-08 14:27:30,204 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=16, votedFor=0.0.0.0:0, cost time=2 ms

2025-01-08 14:27:30,205 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=16, votedFor=nacos3:7848, cost time=2 ms

2025-01-08 14:28:12,888 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_16.

2025-01-08 14:28:12,888 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_16.

2025-01-08 14:28:12,889 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_15.

2025-01-08 14:28:12,947 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 16 to 16, cost 0 ms.

2025-01-08 14:33:13,572 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 16 to 16, cost 0 ms.

2025-01-08 14:37:05,199 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 19 to 19, cost 1 ms.

2025-01-08 14:39:09,572 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 18 to 18, cost 0 ms.

2025-01-08 14:49:07,512 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499981028s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_persistent_service_v2

2025-01-08 14:57:30,156 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-08 14:57:30,184 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-08 14:57:35,180 INFO Connection disconnected: /172.19.0.4:58556

2025-01-08 14:58:12,901 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 16 to 17, cost 1 ms.

2025-01-08 15:03:13,574 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 16 to 16, cost 0 ms.

2025-01-08 15:07:05,200 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 19 to 19, cost 0 ms.

2025-01-08 15:09:09,572 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 18 to 18, cost 0 ms.

2025-01-08 15:10:43,429 WARN Fail to issue RPC to nacos1:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499990332s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos1/172.19.0.4:7848]]]], groupId=naming_persistent_service_v2

2025-01-08 15:10:46,108 INFO Node <naming_persistent_service_v2/nacos2:7848> received PreVoteRequest from nacos1:7848, term=18, currTerm=17, granted=true, requestLastLogId=LogId [index=17, term=17], lastLogId=LogId [index=17, term=17].

2025-01-08 15:10:46,110 INFO Node <naming_persistent_service_v2/nacos2:7848> received RequestVoteRequest from nacos1:7848, term=18, currTerm=17.

2025-01-08 15:10:46,111 INFO onLeaderStop: status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.].

2025-01-08 15:10:46,114 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=18, votedFor=0.0.0.0:0, cost time=3 ms

2025-01-08 15:10:46,114 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=17, lastLogIncluded=0, lastLogIndex=17, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service_v2, waitId=9, type=Follower] is going to quit

2025-01-08 15:10:46,114 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=17, lastLogIncluded=0, lastLogIndex=17, lastTermIncluded=0>, peerId=nacos1:7848, groupId=naming_persistent_service_v2, waitId=10, type=Follower] is going to quit

2025-01-08 15:10:46,116 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=18, votedFor=nacos1:7848, cost time=3 ms

2025-01-08 15:10:51,292 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-08 15:10:51,297 INFO The channel nacos1:7848 is in state: READY.

2025-01-08 15:10:51,297 INFO The channel nacos1:7848 has successfully established.

2025-01-08 15:28:12,889 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 17 to 17, cost 1 ms.

2025-01-08 15:33:13,578 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 16 to 16, cost 0 ms.

2025-01-08 15:37:05,214 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 19 to 19, cost 0 ms.

2025-01-08 15:39:09,578 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_18.

2025-01-08 15:39:09,579 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_18.

2025-01-08 15:39:09,580 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_17.

2025-01-08 15:39:09,591 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 18 to 18, cost 0 ms.

2025-01-08 15:40:42,024 INFO Connection disconnected: /172.19.0.4:47134

2025-01-08 15:40:43,836 INFO The channel nacos2:7848 is in state: IDLE.

2025-01-08 15:40:45,946 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-08 15:40:46,099 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-08 15:40:47,542 INFO Connection disconnected: /172.19.0.5:60436

2025-01-08 15:40:48,837 INFO Connection disconnected: /172.19.0.3:34118

2025-01-08 15:58:12,884 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 17 to 17, cost 0 ms.

2025-01-08 16:03:13,575 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 16 to 16, cost 0 ms.

2025-01-08 16:07:05,222 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 19 to 19, cost 0 ms.

2025-01-08 16:09:09,573 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 18 to 19, cost 1 ms.

2025-01-08 16:28:12,884 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 17 to 17, cost 0 ms.

2025-01-08 16:33:13,577 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 16 to 16, cost 1 ms.

2025-01-08 16:37:05,216 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 19 to 19, cost 1 ms.

2025-01-08 16:39:09,583 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 19 to 19, cost 0 ms.

2025-01-08 16:58:12,894 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 17 to 17, cost 0 ms.

2025-01-08 16:58:55,994 INFO Node <naming_persistent_service_v2/nacos2:7848> term 18 start preVote.

2025-01-08 16:58:55,995 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=18, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos1:7848.]].

2025-01-08 16:58:56,804 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-08 16:58:56,805 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-08 16:58:56,832 INFO Node <naming_persistent_service_v2/nacos2:7848> ignore PreVoteRequest from nacos3:7848, term=19, currTerm=18, because the leader nacos1:7848's lease is still valid.

2025-01-08 16:58:56,834 INFO The channel nacos1:7848 is in state: READY.

2025-01-08 16:58:56,834 INFO The channel nacos1:7848 has successfully established.

2025-01-08 16:58:56,841 INFO Peer nacos1:7848 is connected.

2025-01-08 16:58:56,844 INFO Node <naming_persistent_service_v2/nacos2:7848> received RequestVoteRequest from nacos3:7848, term=19, currTerm=18.

2025-01-08 16:58:56,845 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos1:7848, term=18, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-08 16:58:56,853 INFO The channel nacos3:7848 is in state: READY.

2025-01-08 16:58:56,853 INFO The channel nacos3:7848 has successfully established.

2025-01-08 16:58:56,854 INFO Peer nacos3:7848 is connected.

2025-01-08 16:58:56,878 INFO Node <naming_persistent_service/nacos2:7848> ignore PreVoteRequest from nacos1:7848, term=19, currTerm=18, because the leader nacos3:7848's lease is still valid.

2025-01-08 16:58:57,419 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=19, votedFor=0.0.0.0:0, cost time=573 ms

2025-01-08 16:58:57,422 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=19, votedFor=nacos3:7848, cost time=4 ms

2025-01-08 16:58:57,424 WARN Node <naming_persistent_service_v2/nacos2:7848> received invalid PreVoteResponse from nacos1:7848, term=18, currTerm=19.

2025-01-08 16:58:57,424 WARN Node <naming_persistent_service_v2/nacos2:7848> received invalid PreVoteResponse from nacos3:7848, term=18, currTerm=19.

2025-01-08 17:03:13,572 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 16 to 16, cost 0 ms.

2025-01-08 17:07:05,222 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 19 to 19, cost 0 ms.

2025-01-08 17:09:09,579 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_19.

2025-01-08 17:09:09,580 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_19.

2025-01-08 17:09:09,580 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_18.

2025-01-08 17:09:09,601 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 19 to 19, cost 0 ms.

2025-01-08 17:28:12,885 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 17 to 17, cost 0 ms.

2025-01-08 17:28:56,854 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-08 17:28:56,854 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-08 17:28:57,424 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-08 17:29:01,821 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos1:7848]

2025-01-08 17:29:01,880 INFO Connection disconnected: /172.19.0.4:41804

2025-01-08 17:33:13,567 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 16 to 16, cost 0 ms.

2025-01-08 17:37:05,223 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 19 to 19, cost 1 ms.

2025-01-08 17:38:52,231 INFO Node <naming_service_metadata/nacos2:7848> shutdown, currTerm=15 state=STATE_FOLLOWER.

2025-01-08 17:38:52,232 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=15, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-08 17:38:52,250 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=15, votedFor=nacos3:7848, cost time=3 ms

2025-01-08 17:38:52,250 INFO Shutting down FSMCaller...

2025-01-08 17:38:52,254 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-08 17:38:52,255 INFO onShutdown.

2025-01-08 17:38:52,255 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-08 17:38:52,255 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=223, target=nacos3:7848}}.

2025-01-08 17:38:52,255 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-08 17:38:52,255 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos2:7848 -> nacos3:7848]

2025-01-08 17:38:52,256 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-08 17:38:52,256 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-08 17:38:52,256 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=227, target=nacos1:7848}}.

2025-01-08 17:38:52,256 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-08 17:38:52,256 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-08 17:38:52,263 INFO Node <naming_persistent_service/nacos2:7848> start vote and grant vote self, term=18.

2025-01-08 17:38:52,264 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-08 17:38:52,264 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=18, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-08 17:38:52,264 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-08 17:38:52,267 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=19, votedFor=nacos2:7848, cost time=3 ms

2025-01-08 17:38:52,267 INFO Node <naming_persistent_service/nacos2:7848> received TimeoutNowRequest from nacos3:7848, term=18.

2025-01-08 17:38:52,269 INFO The channel nacos3:7848 is in state: READY.

2025-01-08 17:38:52,269 INFO The channel nacos3:7848 has successfully established.

2025-01-08 17:38:52,269 INFO Peer nacos3:7848 is connected.

2025-01-08 17:38:52,271 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@76a687fa[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 16].

2025-01-08 17:38:52,272 WARN Node <naming_persistent_service/nacos2:7848> RequestVote to nacos3:7848 error: Status[ENOENT<1012>: Peer id not found: nacos3:7848, group: naming_persistent_service].

2025-01-08 17:38:52,273 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-08 17:38:52,273 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-08 17:38:52,273 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-08 17:38:52,273 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/nacos2:7848>'}.

2025-01-08 17:38:52,273 INFO The number of active nodes decrement to 3.

2025-01-08 17:38:52,275 INFO Node <naming_service_metadata/nacos2:7848> shutdown, currTerm=15 state=STATE_SHUTTING.

2025-01-08 17:38:52,275 INFO Stop the RaftGroupService successfully.

2025-01-08 17:38:52,275 INFO Node <naming_persistent_service/nacos2:7848> shutdown, currTerm=19 state=STATE_CANDIDATE.

2025-01-08 17:38:52,280 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=19, votedFor=nacos2:7848, cost time=2 ms

2025-01-08 17:38:52,280 INFO Shutting down FSMCaller...

2025-01-08 17:38:52,281 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=194, target=nacos3:7848}}.

2025-01-08 17:38:52,281 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-08 17:38:52,281 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-08 17:38:52,282 INFO onShutdown.

2025-01-08 17:38:52,283 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=198, target=nacos1:7848}}.

2025-01-08 17:38:52,283 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-08 17:38:52,284 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-08 17:38:52,284 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@7c4dd53c[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 134238].

2025-01-08 17:38:52,291 INFO Node <naming_instance_metadata/nacos2:7848> start vote and grant vote self, term=16.

2025-01-08 17:38:52,291 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-08 17:38:52,291 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=16, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-08 17:38:52,292 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-08 17:38:52,294 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=17, votedFor=nacos2:7848, cost time=1 ms

2025-01-08 17:38:52,294 INFO Node <naming_instance_metadata/nacos2:7848> received TimeoutNowRequest from nacos3:7848, term=16.

2025-01-08 17:38:52,297 INFO The channel nacos3:7848 is in state: READY.

2025-01-08 17:38:52,297 INFO The channel nacos3:7848 has successfully established.

2025-01-08 17:38:52,297 INFO Peer nacos3:7848 is connected.

2025-01-08 17:38:52,301 WARN Node <naming_instance_metadata/nacos2:7848> RequestVote to nacos3:7848 error: Status[ENOENT<1012>: Peer id not found: nacos3:7848, group: naming_instance_metadata].

2025-01-08 17:38:52,308 INFO Node <naming_persistent_service_v2/nacos2:7848> start vote and grant vote self, term=19.

2025-01-08 17:38:52,308 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-08 17:38:52,308 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-08 17:38:52,308 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=19, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-08 17:38:52,310 INFO The channel nacos3:7848 is in state: READY.

2025-01-08 17:38:52,311 INFO The channel nacos3:7848 has successfully established.

2025-01-08 17:38:52,311 INFO Peer nacos3:7848 is connected.

2025-01-08 17:38:52,311 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=20, votedFor=nacos2:7848, cost time=2 ms

2025-01-08 17:38:52,311 INFO Node <naming_persistent_service_v2/nacos2:7848> received TimeoutNowRequest from nacos3:7848, term=19.

2025-01-08 17:38:52,313 WARN Node <naming_persistent_service_v2/nacos2:7848> RequestVote to nacos3:7848 error: Status[ENOENT<1012>: Peer id not found: nacos3:7848, group: naming_persistent_service_v2].

2025-01-08 17:38:52,484 WARN Node <naming_persistent_service/nacos2:7848> RequestVote to nacos1:7848 error: Status[EINTERNAL<1004>: RPC exception:UNAVAILABLE: Channel shutdownNow invoked].

2025-01-08 17:38:52,485 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-08 17:38:52,485 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-08 17:38:52,485 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-08 17:38:52,485 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service/nacos2:7848>'}.

2025-01-08 17:38:52,487 INFO Node <naming_persistent_service/nacos2:7848> shutdown, currTerm=19 state=STATE_SHUTTING.

2025-01-08 17:38:52,487 INFO Stop the RaftGroupService successfully.

2025-01-08 17:38:52,487 INFO Node <naming_instance_metadata/nacos2:7848> shutdown, currTerm=17 state=STATE_CANDIDATE.

2025-01-08 17:38:52,490 INFO The number of active nodes decrement to 2.

2025-01-08 17:38:52,501 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@3b046dc4[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 196186].

2025-01-08 17:38:52,503 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@3ac29ad[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 30].

2025-01-08 17:38:52,563 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=17, votedFor=nacos2:7848, cost time=75 ms

2025-01-08 17:38:52,564 INFO Shutting down FSMCaller...

2025-01-08 17:38:52,565 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=211, target=nacos3:7848}}.

2025-01-08 17:38:52,565 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-08 17:38:52,565 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-08 17:38:52,566 INFO onShutdown.

2025-01-08 17:38:52,568 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=215, target=nacos1:7848}}.

2025-01-08 17:38:52,568 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-08 17:38:52,568 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-08 17:38:52,581 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2025-01-08 17:38:52,581 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service/log.

2025-01-08 17:38:52,771 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-08 17:38:52,771 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-08 17:38:52,771 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-08 17:38:52,772 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/nacos2:7848>'}.

2025-01-08 17:38:52,772 WARN Node <naming_instance_metadata/nacos2:7848> RequestVote to nacos1:7848 error: Status[EINTERNAL<1004>: RPC exception:UNAVAILABLE: Channel shutdownNow invoked].

2025-01-08 17:38:52,772 INFO The number of active nodes decrement to 1.

2025-01-08 17:38:52,777 INFO Node <naming_instance_metadata/nacos2:7848> shutdown, currTerm=17 state=STATE_SHUTTING.

2025-01-08 17:38:52,777 INFO Stop the RaftGroupService successfully.

2025-01-08 17:38:52,777 INFO Node <naming_persistent_service_v2/nacos2:7848> shutdown, currTerm=20 state=STATE_CANDIDATE.

2025-01-08 17:38:52,791 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@4cedd3b8[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 139359].

2025-01-08 17:38:52,791 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@aace031[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 24].

2025-01-08 17:38:52,800 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=20, votedFor=nacos2:7848, cost time=17 ms

2025-01-08 17:38:52,800 INFO Shutting down FSMCaller...

2025-01-08 17:38:52,800 INFO onShutdown.

2025-01-08 17:38:52,801 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=186, target=nacos3:7848}}.

2025-01-08 17:38:52,801 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-08 17:38:52,801 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-08 17:38:52,801 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=190, target=nacos1:7848}}.

2025-01-08 17:38:52,802 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-08 17:38:52,802 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-08 17:38:52,807 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2025-01-08 17:38:53,003 WARN Node <naming_persistent_service_v2/nacos2:7848> RequestVote to nacos1:7848 error: Status[EINTERNAL<1004>: RPC exception:UNAVAILABLE: Channel shutdownNow invoked].

2025-01-08 17:38:53,005 INFO The number of active nodes decrement to 0.

2025-01-08 17:38:53,009 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@76a2b894[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 49419].

2025-01-08 17:38:53,009 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-08 17:38:53,011 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@23dced63[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 20].

2025-01-08 17:38:53,012 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-08 17:38:53,012 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@105ca2e3[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 170358].

2025-01-08 17:38:53,014 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@3dbe8407[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 64335].

2025-01-08 17:38:53,015 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-08 17:38:53,016 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@754853be[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 239].

2025-01-08 17:38:53,017 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/nacos2:7848>'}.

2025-01-08 17:38:53,018 INFO Node <naming_persistent_service_v2/nacos2:7848> shutdown, currTerm=20 state=STATE_SHUTTING.

2025-01-08 17:38:53,018 INFO Stop the RaftGroupService successfully.

2025-01-08 17:38:53,020 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=112, target=nacos3:7848}}.

2025-01-08 17:38:53,020 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-08 17:38:53,020 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-08 17:38:53,021 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=126, target=nacos2:7848}}.

2025-01-08 17:38:53,021 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-08 17:38:53,021 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-08 17:38:53,021 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=121, target=nacos1:7848}}.

2025-01-08 17:38:53,021 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-08 17:38:53,021 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-08 17:38:53,022 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@5941b730[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 28].

2025-01-08 17:38:53,027 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@241854f5[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 105168].

2025-01-08 17:38:53,046 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

