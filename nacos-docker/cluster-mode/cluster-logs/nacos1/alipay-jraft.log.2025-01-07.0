2025-01-07 10:30:21,083 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2025-01-07 10:30:21,188 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2025-01-07 10:30:21,813 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2025-01-07 10:30:21,814 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2025-01-07 10:30:21,815 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2025-01-07 10:30:21,825 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2025-01-07 10:30:21,841 INFO The number of active nodes increment to 1.

2025-01-07 10:30:23,004 INFO Starts FSMCaller successfully.

2025-01-07 10:30:23,017 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service/snapshot.

2025-01-07 10:30:23,034 INFO Node <naming_persistent_service/nacos1:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:30:23,043 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:30:23,043 INFO Start the RaftGroupService successfully.

2025-01-07 10:30:23,106 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:30:23,108 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:30:23,120 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:30:23,121 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:30:23,169 INFO Creating new channel to: nacos1:7848.

2025-01-07 10:30:23,170 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 10:30:23,184 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 10:30:23,184 INFO The channel nacos1:7848 has successfully established.

2025-01-07 10:30:23,204 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:30:23,205 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:30:23,227 INFO The channel nacos2:7848 is in state: TRANSIENT_FAILURE.

2025-01-07 10:30:23,227 ERROR Fail to connect nacos2:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception.

2025-01-07 10:30:23,227 WARN There has been some transient failure on this channel nacos2:7848.

2025-01-07 10:30:23,227 ERROR Fail to connect peer nacos2:7848 to get leader for group naming_persistent_service.

2025-01-07 10:30:23,418 INFO The number of active nodes increment to 2.

2025-01-07 10:30:23,618 INFO Starts FSMCaller successfully.

2025-01-07 10:30:23,618 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2025-01-07 10:30:23,626 INFO Node <naming_persistent_service_v2/nacos1:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:30:23,651 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:30:23,651 INFO Start the RaftGroupService successfully.

2025-01-07 10:30:23,746 WARN Channel[nacos2:7848] in [INACTIVE] state 2 times, it has been removed from the pool.

2025-01-07 10:30:23,765 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 10:30:23,765 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:30:23,770 INFO The number of active nodes increment to 3.

2025-01-07 10:30:23,943 INFO Starts FSMCaller successfully.

2025-01-07 10:30:23,944 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2025-01-07 10:30:23,952 INFO Node <naming_instance_metadata/nacos1:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:30:23,953 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:30:23,953 INFO Start the RaftGroupService successfully.

2025-01-07 10:30:23,978 INFO The number of active nodes increment to 4.

2025-01-07 10:30:24,021 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:30:24,021 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:30:24,026 INFO The channel nacos2:7848 is in state: TRANSIENT_FAILURE.

2025-01-07 10:30:24,026 WARN There has been some transient failure on this channel nacos2:7848.

2025-01-07 10:30:24,027 ERROR Fail to connect nacos2:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception.

2025-01-07 10:30:24,027 ERROR Fail to connect peer nacos2:7848 to get leader for group naming_instance_metadata.

2025-01-07 10:30:24,088 INFO Starts FSMCaller successfully.

2025-01-07 10:30:24,089 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2025-01-07 10:30:24,093 INFO Node <naming_service_metadata/nacos1:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:30:24,098 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:30:24,098 INFO Start the RaftGroupService successfully.

2025-01-07 10:30:24,259 WARN Channel[nacos2:7848] in [INACTIVE] state 2 times, it has been removed from the pool.

2025-01-07 10:30:24,259 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 10:30:24,275 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:30:24,324 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:30:24,325 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:30:24,338 INFO The channel nacos2:7848 is in state: TRANSIENT_FAILURE.

2025-01-07 10:30:24,338 WARN There has been some transient failure on this channel nacos2:7848.

2025-01-07 10:30:24,339 ERROR Fail to connect nacos2:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception.

2025-01-07 10:30:24,339 ERROR Fail to connect peer nacos2:7848 to get leader for group naming_persistent_service.

2025-01-07 10:30:24,843 WARN Channel[nacos2:7848] in [INACTIVE] state 2 times, it has been removed from the pool.

2025-01-07 10:30:24,843 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 10:30:24,843 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:30:24,972 INFO Node <naming_persistent_service/nacos1:7848> received PreVoteRequest from nacos3:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:30:25,000 INFO Node <naming_persistent_service/nacos1:7848> received RequestVoteRequest from nacos3:7848, term=1, currTerm=0.

2025-01-07 10:30:25,020 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=0.0.0.0:0, cost time=19 ms

2025-01-07 10:30:25,026 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=nacos3:7848, cost time=5 ms

2025-01-07 10:30:25,088 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:30:25,088 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:30:25,123 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 10:30:25,123 INFO The channel nacos2:7848 has successfully established.

2025-01-07 10:30:25,238 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2025-01-07 10:30:26,539 INFO Node <naming_persistent_service_v2/nacos1:7848> received PreVoteRequest from nacos3:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:30:26,566 INFO Node <naming_persistent_service_v2/nacos1:7848> received RequestVoteRequest from nacos3:7848, term=1, currTerm=0.

2025-01-07 10:30:26,571 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=0.0.0.0:0, cost time=5 ms

2025-01-07 10:30:26,574 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=nacos3:7848, cost time=1 ms

2025-01-07 10:30:26,761 INFO Node <naming_instance_metadata/nacos1:7848> received PreVoteRequest from nacos3:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:30:26,811 INFO Node <naming_instance_metadata/nacos1:7848> received RequestVoteRequest from nacos3:7848, term=1, currTerm=0.

2025-01-07 10:30:26,813 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=0.0.0.0:0, cost time=2 ms

2025-01-07 10:30:26,814 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=nacos3:7848, cost time=1 ms

2025-01-07 10:30:27,178 INFO Node <naming_service_metadata/nacos1:7848> received PreVoteRequest from nacos3:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:30:27,186 INFO Node <naming_service_metadata/nacos1:7848> received RequestVoteRequest from nacos3:7848, term=1, currTerm=0.

2025-01-07 10:30:27,195 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=0.0.0.0:0, cost time=9 ms

2025-01-07 10:30:27,200 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=nacos3:7848, cost time=4 ms

2025-01-07 10:36:52,057 INFO Node <naming_service_metadata/nacos1:7848> shutdown, currTerm=1 state=STATE_FOLLOWER.

2025-01-07 10:36:52,060 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=1, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-07 10:36:52,070 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=nacos3:7848, cost time=3 ms

2025-01-07 10:36:52,072 INFO Shutting down FSMCaller...

2025-01-07 10:36:52,075 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@3049edfe[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:36:52,075 INFO onShutdown.

2025-01-07 10:36:52,077 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@2a01f9de[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:36:52,077 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/nacos1:7848>'}.

2025-01-07 10:36:52,077 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/nacos1:7848>'}.

2025-01-07 10:36:52,077 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/nacos1:7848>'}.

2025-01-07 10:36:52,077 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/nacos1:7848>'}.

2025-01-07 10:36:52,080 INFO Node <naming_service_metadata/nacos1:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 10:36:52,080 INFO Stop the RaftGroupService successfully.

2025-01-07 10:36:52,080 INFO Node <naming_persistent_service/nacos1:7848> shutdown, currTerm=1 state=STATE_FOLLOWER.

2025-01-07 10:36:52,082 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=1, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-07 10:36:52,082 INFO The number of active nodes decrement to 3.

2025-01-07 10:36:52,093 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2025-01-07 10:36:52,122 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=nacos3:7848, cost time=40 ms

2025-01-07 10:36:52,122 INFO Shutting down FSMCaller...

2025-01-07 10:36:52,122 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@5164e2bc[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:36:52,123 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@740e2e47[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:36:52,123 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service/nacos1:7848>'}.

2025-01-07 10:36:52,123 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service/nacos1:7848>'}.

2025-01-07 10:36:52,123 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service/nacos1:7848>'}.

2025-01-07 10:36:52,123 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service/nacos1:7848>'}.

2025-01-07 10:36:52,123 INFO Node <naming_persistent_service/nacos1:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 10:36:52,123 INFO Stop the RaftGroupService successfully.

2025-01-07 10:36:52,123 INFO Node <naming_instance_metadata/nacos1:7848> shutdown, currTerm=1 state=STATE_FOLLOWER.

2025-01-07 10:36:52,123 INFO The number of active nodes decrement to 2.

2025-01-07 10:36:52,124 INFO onShutdown.

2025-01-07 10:36:52,124 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=1, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-07 10:36:52,127 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service/log.

2025-01-07 10:36:52,128 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=nacos3:7848, cost time=3 ms

2025-01-07 10:36:52,128 INFO Shutting down FSMCaller...

2025-01-07 10:36:52,129 INFO onShutdown.

2025-01-07 10:36:52,130 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@67fe6c84[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:36:52,130 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@321cea0b[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:36:52,130 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/nacos1:7848>'}.

2025-01-07 10:36:52,130 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/nacos1:7848>'}.

2025-01-07 10:36:52,130 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/nacos1:7848>'}.

2025-01-07 10:36:52,130 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/nacos1:7848>'}.

2025-01-07 10:36:52,130 INFO The number of active nodes decrement to 1.

2025-01-07 10:36:52,132 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 10:36:52,130 INFO Node <naming_instance_metadata/nacos1:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 10:36:52,132 INFO Stop the RaftGroupService successfully.

2025-01-07 10:36:52,132 INFO Node <naming_persistent_service_v2/nacos1:7848> shutdown, currTerm=1 state=STATE_FOLLOWER.

2025-01-07 10:36:52,135 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 10:36:52,136 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=1, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-07 10:36:52,138 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2025-01-07 10:36:52,139 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 10:36:52,139 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=nacos3:7848, cost time=4 ms

2025-01-07 10:36:52,139 INFO Shutting down FSMCaller...

2025-01-07 10:36:52,140 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@441b8ff6[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:36:52,140 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@41e2fd24[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:36:52,141 INFO The number of active nodes decrement to 0.

2025-01-07 10:36:52,144 INFO onShutdown.

2025-01-07 10:36:52,144 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@6ebccb7a[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 291].

2025-01-07 10:36:52,144 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/nacos1:7848>'}.

2025-01-07 10:36:52,144 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@55ec23d0[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:36:52,144 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/nacos1:7848>'}.

2025-01-07 10:36:52,144 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@f5c7d4[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:36:52,144 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/nacos1:7848>'}.

2025-01-07 10:36:52,145 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 10:36:52,164 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@3a7e5bc5[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:36:52,164 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/nacos1:7848>'}.

2025-01-07 10:36:52,165 INFO Node <naming_persistent_service_v2/nacos1:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 10:36:52,165 INFO Stop the RaftGroupService successfully.

2025-01-07 10:36:52,172 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=124, target=nacos3:7848}}.

2025-01-07 10:36:52,172 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:36:52,172 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:36:52,173 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=161, target=nacos2:7848}}.

2025-01-07 10:36:52,174 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 10:36:52,174 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:36:52,176 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=132, target=nacos1:7848}}.

2025-01-07 10:36:52,176 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 10:36:52,176 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:36:52,177 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2025-01-07 10:36:52,178 INFO Connection disconnected: /172.19.0.3:54926

2025-01-07 10:36:52,192 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@40ac43a3[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 484].

2025-01-07 10:37:22,933 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2025-01-07 10:37:23,041 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2025-01-07 10:37:23,508 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2025-01-07 10:37:23,509 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2025-01-07 10:37:23,510 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2025-01-07 10:37:23,526 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2025-01-07 10:37:23,540 INFO The number of active nodes increment to 1.

2025-01-07 10:37:24,402 INFO Starts FSMCaller successfully.

2025-01-07 10:37:24,448 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service/snapshot.

2025-01-07 10:37:24,518 INFO Node <naming_persistent_service/nacos1:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:37:24,521 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:37:24,522 INFO Start the RaftGroupService successfully.

2025-01-07 10:37:24,554 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:37:24,601 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:37:24,631 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:37:24,631 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:37:25,098 INFO Creating new channel to: nacos1:7848.

2025-01-07 10:37:25,099 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 10:37:25,100 INFO The number of active nodes increment to 2.

2025-01-07 10:37:25,120 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 10:37:25,120 INFO The channel nacos1:7848 has successfully established.

2025-01-07 10:37:25,265 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:37:25,265 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:37:25,279 INFO Starts FSMCaller successfully.

2025-01-07 10:37:25,280 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2025-01-07 10:37:25,285 INFO Node <naming_persistent_service_v2/nacos1:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:37:25,292 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 10:37:25,292 INFO The channel nacos2:7848 has successfully established.

2025-01-07 10:37:25,296 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:37:25,296 INFO Start the RaftGroupService successfully.

2025-01-07 10:37:25,317 INFO The number of active nodes increment to 3.

2025-01-07 10:37:25,465 INFO Starts FSMCaller successfully.

2025-01-07 10:37:25,467 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2025-01-07 10:37:25,480 INFO Node <naming_instance_metadata/nacos1:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:37:25,484 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:37:25,484 INFO Start the RaftGroupService successfully.

2025-01-07 10:37:25,512 INFO The number of active nodes increment to 4.

2025-01-07 10:37:25,680 INFO Starts FSMCaller successfully.

2025-01-07 10:37:25,681 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2025-01-07 10:37:25,685 INFO Node <naming_service_metadata/nacos1:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:37:25,713 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:37:25,713 INFO Start the RaftGroupService successfully.

2025-01-07 10:37:29,697 INFO Node <naming_persistent_service/nacos1:7848> term 0 start preVote.

2025-01-07 10:37:29,728 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:37:29,728 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:37:29,760 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 10:37:29,760 INFO The channel nacos2:7848 has successfully established.

2025-01-07 10:37:29,847 INFO Peer nacos2:7848 is connected.

2025-01-07 10:37:29,869 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:37:29,869 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:37:29,883 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:37:29,883 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:37:29,895 INFO Peer nacos3:7848 is connected.

2025-01-07 10:37:29,963 INFO Node <naming_persistent_service/nacos1:7848> received PreVoteResponse from nacos2:7848, term=0, granted=true.

2025-01-07 10:37:29,963 INFO Node <naming_persistent_service/nacos1:7848> start vote and grant vote self, term=0.

2025-01-07 10:37:30,014 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=nacos1:7848, cost time=31 ms

2025-01-07 10:37:30,020 WARN Node <naming_persistent_service/nacos1:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 10:37:30,084 INFO Node <naming_persistent_service/nacos1:7848> become leader of group, term=1, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:37:30,133 INFO Replicator [group: naming_persistent_service, peer: nacos2:7848, type: Follower] is started

2025-01-07 10:37:30,160 INFO Replicator [group: naming_persistent_service, peer: nacos3:7848, type: Follower] is started

2025-01-07 10:37:30,181 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2025-01-07 10:37:30,209 WARN Node <naming_persistent_service/nacos1:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 10:37:30,502 INFO Node <naming_persistent_service_v2/nacos1:7848> term 0 start preVote.

2025-01-07 10:37:30,504 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:37:30,525 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:37:30,505 INFO onLeaderStart: term=1.

2025-01-07 10:37:30,536 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 10:37:30,536 INFO The channel nacos2:7848 has successfully established.

2025-01-07 10:37:30,551 INFO Node <naming_instance_metadata/nacos1:7848> term 0 start preVote.

2025-01-07 10:37:30,552 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:37:30,563 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:37:30,571 INFO Peer nacos2:7848 is connected.

2025-01-07 10:37:30,574 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 10:37:30,574 INFO The channel nacos2:7848 has successfully established.

2025-01-07 10:37:30,576 INFO Peer nacos2:7848 is connected.

2025-01-07 10:37:30,664 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:37:30,665 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:37:30,675 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:37:30,675 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:37:30,693 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:37:30,693 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:37:30,693 INFO Peer nacos3:7848 is connected.

2025-01-07 10:37:30,713 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:37:30,713 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:37:30,718 INFO Peer nacos3:7848 is connected.

2025-01-07 10:37:30,818 INFO Node <naming_instance_metadata/nacos1:7848> received PreVoteResponse from nacos3:7848, term=0, granted=true.

2025-01-07 10:37:30,818 INFO Node <naming_instance_metadata/nacos1:7848> start vote and grant vote self, term=0.

2025-01-07 10:37:30,844 INFO Node <naming_persistent_service_v2/nacos1:7848> received PreVoteResponse from nacos3:7848, term=0, granted=true.

2025-01-07 10:37:30,844 INFO Node <naming_persistent_service_v2/nacos1:7848> start vote and grant vote self, term=0.

2025-01-07 10:37:30,871 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=nacos1:7848, cost time=3 ms

2025-01-07 10:37:30,925 WARN Node <naming_instance_metadata/nacos1:7848> received invalid PreVoteResponse from nacos2:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 10:37:30,932 INFO Node <naming_instance_metadata/nacos1:7848> become leader of group, term=1, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:37:30,932 INFO Replicator [group: naming_instance_metadata, peer: nacos2:7848, type: Follower] is started

2025-01-07 10:37:30,936 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=nacos1:7848, cost time=12 ms

2025-01-07 10:37:30,940 INFO Replicator [group: naming_instance_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-07 10:37:30,999 WARN Node <naming_instance_metadata/nacos1:7848> received invalid RequestVoteResponse from nacos2:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 10:37:31,047 WARN Node <naming_persistent_service_v2/nacos1:7848> received invalid PreVoteResponse from nacos2:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 10:37:31,060 INFO Node <naming_persistent_service_v2/nacos1:7848> become leader of group, term=1, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:37:31,060 INFO Replicator [group: naming_persistent_service_v2, peer: nacos2:7848, type: Follower] is started

2025-01-07 10:37:31,088 INFO Replicator [group: naming_persistent_service_v2, peer: nacos3:7848, type: Follower] is started

2025-01-07 10:37:31,137 INFO onLeaderStart: term=1.

2025-01-07 10:37:31,200 WARN Node <naming_persistent_service_v2/nacos1:7848> received invalid RequestVoteResponse from nacos2:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 10:37:31,248 INFO onLeaderStart: term=1.

2025-01-07 10:37:31,348 INFO Node <naming_service_metadata/nacos1:7848> term 0 start preVote.

2025-01-07 10:37:31,363 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:37:31,364 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:37:31,376 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 10:37:31,376 INFO The channel nacos2:7848 has successfully established.

2025-01-07 10:37:31,376 INFO Peer nacos2:7848 is connected.

2025-01-07 10:37:31,400 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:37:31,400 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:37:31,446 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:37:31,447 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:37:31,447 INFO Peer nacos3:7848 is connected.

2025-01-07 10:37:31,487 INFO Node <naming_service_metadata/nacos1:7848> received PreVoteResponse from nacos2:7848, term=0, granted=true.

2025-01-07 10:37:31,487 INFO Node <naming_service_metadata/nacos1:7848> start vote and grant vote self, term=0.

2025-01-07 10:37:31,513 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=nacos1:7848, cost time=5 ms

2025-01-07 10:37:31,531 INFO Node <naming_service_metadata/nacos1:7848> received PreVoteRequest from nacos3:7848, term=1, currTerm=1, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:37:31,556 INFO Node <naming_service_metadata/nacos1:7848> become leader of group, term=1, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:37:31,556 INFO Replicator [group: naming_service_metadata, peer: nacos2:7848, type: Follower] is started

2025-01-07 10:37:31,564 INFO Replicator [group: naming_service_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-07 10:37:31,602 WARN Node <naming_service_metadata/nacos1:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 10:37:31,620 WARN Node <naming_service_metadata/nacos1:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_LEADER.

2025-01-07 10:37:31,706 INFO onLeaderStart: term=1.

2025-01-07 10:39:29,885 INFO Node <naming_service_metadata/nacos1:7848> shutdown, currTerm=1 state=STATE_LEADER.

2025-01-07 10:39:29,889 INFO Connection disconnected: /172.19.0.4:59076

2025-01-07 10:39:29,894 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_service_metadata, waitId=1, type=Follower] is going to quit

2025-01-07 10:39:29,894 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2025-01-07 10:39:29,911 WARN Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_service_metadata, waitId=2, type=Follower] stops sending entries.

2025-01-07 10:39:29,920 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=nacos1:7848, cost time=3 ms

2025-01-07 10:39:29,920 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_service_metadata, waitId=2, type=Follower] is going to quit

2025-01-07 10:39:29,920 INFO Shutting down FSMCaller...

2025-01-07 10:39:29,928 INFO onShutdown.

2025-01-07 10:39:29,929 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=205, target=nacos3:7848}}.

2025-01-07 10:39:29,930 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:39:29,930 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:39:29,932 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=201, target=nacos2:7848}}.

2025-01-07 10:39:29,932 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 10:39:29,932 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:39:29,963 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[ENOENT<1012>: Peer id not found: nacos3:7848, group: naming_persistent_service], groupId=naming_persistent_service

2025-01-07 10:39:29,978 WARN Fail to issue RPC to nacos2:7848, consecutiveErrorTimes=1, error=Status[ENOENT<1012>: Peer id not found: nacos2:7848, group: naming_persistent_service], groupId=naming_persistent_service

2025-01-07 10:39:29,979 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/nacos1:7848>'}.

2025-01-07 10:39:29,980 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/nacos1:7848>'}.

2025-01-07 10:39:29,980 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/nacos1:7848>'}.

2025-01-07 10:39:29,980 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/nacos1:7848>'}.

2025-01-07 10:39:29,988 INFO Node <naming_service_metadata/nacos1:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 10:39:29,988 INFO Stop the RaftGroupService successfully.

2025-01-07 10:39:29,988 INFO Node <naming_persistent_service/nacos1:7848> shutdown, currTerm=1 state=STATE_LEADER.

2025-01-07 10:39:29,989 INFO Connection disconnected: /172.19.0.4:49600

2025-01-07 10:39:29,992 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service, waitId=1, type=Follower] is going to quit

2025-01-07 10:39:29,993 WARN Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_persistent_service, waitId=2, type=Follower] stops sending entries.

2025-01-07 10:39:29,993 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2025-01-07 10:39:29,994 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@517ab99c[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 468].

2025-01-07 10:39:30,011 INFO The number of active nodes decrement to 3.

2025-01-07 10:39:30,010 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@14b4aa8f[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 5].

2025-01-07 10:39:30,011 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_persistent_service, waitId=2, type=Follower] is going to quit

2025-01-07 10:39:30,026 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=nacos1:7848, cost time=33 ms

2025-01-07 10:39:30,026 WARN ThreadId: Replicator [state=Destroyed, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_persistent_service, waitId=2, type=Follower] already destroyed, ignore error code: 1001

2025-01-07 10:39:30,026 INFO Shutting down FSMCaller...

2025-01-07 10:39:30,026 INFO Connection disconnected: /172.19.0.3:37468

2025-01-07 10:39:30,037 INFO onShutdown.

2025-01-07 10:39:30,026 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2025-01-07 10:39:30,029 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=170, target=nacos3:7848}}.

2025-01-07 10:39:30,038 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:39:30,053 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:39:30,062 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=166, target=nacos2:7848}}.

2025-01-07 10:39:30,062 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 10:39:30,062 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:39:30,065 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service/nacos1:7848>'}.

2025-01-07 10:39:30,065 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service/nacos1:7848>'}.

2025-01-07 10:39:30,065 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service/nacos1:7848>'}.

2025-01-07 10:39:30,065 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service/nacos1:7848>'}.

2025-01-07 10:39:30,073 INFO Node <naming_persistent_service/nacos1:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 10:39:30,073 INFO Stop the RaftGroupService successfully.

2025-01-07 10:39:30,073 INFO Node <naming_instance_metadata/nacos1:7848> shutdown, currTerm=1 state=STATE_LEADER.

2025-01-07 10:39:30,075 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_instance_metadata, waitId=2, type=Follower] is going to quit

2025-01-07 10:39:30,075 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2025-01-07 10:39:30,076 WARN Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_instance_metadata, waitId=1, type=Follower] stops sending entries.

2025-01-07 10:39:30,078 INFO The number of active nodes decrement to 2.

2025-01-07 10:39:30,080 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@4a9f8dae[Shutting down, pool size = 7, active threads = 0, queued tasks = 0, completed tasks = 474].

2025-01-07 10:39:30,081 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=nacos1:7848, cost time=6 ms

2025-01-07 10:39:30,081 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_instance_metadata, waitId=1, type=Follower] is going to quit

2025-01-07 10:39:30,081 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service/log.

2025-01-07 10:39:30,081 INFO Shutting down FSMCaller...

2025-01-07 10:39:30,082 INFO onShutdown.

2025-01-07 10:39:30,100 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=187, target=nacos3:7848}}.

2025-01-07 10:39:30,100 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:39:30,100 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:39:30,101 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=183, target=nacos2:7848}}.

2025-01-07 10:39:30,101 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 10:39:30,101 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:39:30,102 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@59749fea[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 5].

2025-01-07 10:39:30,111 INFO The number of active nodes decrement to 1.

2025-01-07 10:39:30,112 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@4662fe5a[Shutting down, pool size = 12, active threads = 0, queued tasks = 0, completed tasks = 471].

2025-01-07 10:39:30,112 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/nacos1:7848>'}.

2025-01-07 10:39:30,112 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/nacos1:7848>'}.

2025-01-07 10:39:30,112 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/nacos1:7848>'}.

2025-01-07 10:39:30,112 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/nacos1:7848>'}.

2025-01-07 10:39:30,112 INFO Node <naming_instance_metadata/nacos1:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 10:39:30,113 INFO Stop the RaftGroupService successfully.

2025-01-07 10:39:30,113 INFO Node <naming_persistent_service_v2/nacos1:7848> shutdown, currTerm=1 state=STATE_LEADER.

2025-01-07 10:39:30,115 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service_v2, waitId=2, type=Follower] is going to quit

2025-01-07 10:39:30,115 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2025-01-07 10:39:30,115 WARN Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_persistent_service_v2, waitId=1, type=Follower] stops sending entries.

2025-01-07 10:39:30,116 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@28d803f2[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 5].

2025-01-07 10:39:30,118 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2025-01-07 10:39:30,124 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=nacos1:7848, cost time=9 ms

2025-01-07 10:39:30,124 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_persistent_service_v2, waitId=1, type=Follower] is going to quit

2025-01-07 10:39:30,124 INFO Shutting down FSMCaller...

2025-01-07 10:39:30,126 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=191, target=nacos3:7848}}.

2025-01-07 10:39:30,126 INFO onShutdown.

2025-01-07 10:39:30,126 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:39:30,126 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:39:30,127 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=175, target=nacos2:7848}}.

2025-01-07 10:39:30,127 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 10:39:30,127 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:39:30,145 INFO The number of active nodes decrement to 0.

2025-01-07 10:39:30,146 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@27ccdc39[Shutting down, pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 5].

2025-01-07 10:39:30,147 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@6bc5b3da[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 470].

2025-01-07 10:39:30,150 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@6ee66673[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 8].

2025-01-07 10:39:30,150 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/nacos1:7848>'}.

2025-01-07 10:39:30,150 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@31007e50[Shutting down, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 4].

2025-01-07 10:39:30,150 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/nacos1:7848>'}.

2025-01-07 10:39:30,151 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@36eec3e0[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 188].

2025-01-07 10:39:30,151 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/nacos1:7848>'}.

2025-01-07 10:39:30,155 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@1c1d1d2b[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:39:30,156 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/nacos1:7848>'}.

2025-01-07 10:39:30,157 INFO Node <naming_persistent_service_v2/nacos1:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 10:39:30,157 INFO Stop the RaftGroupService successfully.

2025-01-07 10:39:30,160 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=101, target=nacos3:7848}}.

2025-01-07 10:39:30,160 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:39:30,160 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:39:30,161 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=120, target=nacos2:7848}}.

2025-01-07 10:39:30,161 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 10:39:30,161 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:39:30,162 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=115, target=nacos1:7848}}.

2025-01-07 10:39:30,162 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 10:39:30,162 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:39:30,166 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@329cd772[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 210].

2025-01-07 10:39:30,167 INFO Connection disconnected: /172.19.0.5:41164

2025-01-07 10:39:30,167 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2025-01-07 10:41:07,246 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2025-01-07 10:41:07,421 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2025-01-07 10:41:07,831 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2025-01-07 10:41:07,832 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2025-01-07 10:41:07,832 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2025-01-07 10:41:07,835 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2025-01-07 10:41:07,842 INFO The number of active nodes increment to 1.

2025-01-07 10:41:08,247 INFO Starts FSMCaller successfully.

2025-01-07 10:41:08,262 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service/snapshot.

2025-01-07 10:41:08,292 INFO Node <naming_persistent_service/nacos1:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:41:08,309 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:41:08,309 INFO Start the RaftGroupService successfully.

2025-01-07 10:41:08,345 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:41:08,347 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:41:08,356 INFO The channel nacos3:7848 is in state: TRANSIENT_FAILURE.

2025-01-07 10:41:08,357 WARN There has been some transient failure on this channel nacos3:7848.

2025-01-07 10:41:08,361 ERROR Fail to connect nacos3:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception.

2025-01-07 10:41:08,361 ERROR Fail to connect peer nacos3:7848 to get leader for group naming_persistent_service.

2025-01-07 10:41:08,362 INFO Creating new channel to: nacos1:7848.

2025-01-07 10:41:08,362 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 10:41:08,381 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 10:41:08,391 INFO The channel nacos1:7848 has successfully established.

2025-01-07 10:41:08,541 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:41:08,541 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:41:08,743 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 10:41:08,743 INFO The channel nacos2:7848 has successfully established.

2025-01-07 10:41:08,870 INFO The number of active nodes increment to 2.

2025-01-07 10:41:09,003 INFO Starts FSMCaller successfully.

2025-01-07 10:41:09,003 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2025-01-07 10:41:09,030 INFO Node <naming_persistent_service_v2/nacos1:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:41:09,044 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:41:09,044 INFO Start the RaftGroupService successfully.

2025-01-07 10:41:09,049 WARN Channel[nacos3:7848] in [INACTIVE] state 2 times, it has been removed from the pool.

2025-01-07 10:41:09,082 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:41:09,082 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:41:09,109 INFO The number of active nodes increment to 3.

2025-01-07 10:41:09,235 INFO Starts FSMCaller successfully.

2025-01-07 10:41:09,236 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2025-01-07 10:41:09,243 INFO Node <naming_instance_metadata/nacos1:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:41:09,288 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:41:09,288 INFO Start the RaftGroupService successfully.

2025-01-07 10:41:09,299 INFO The number of active nodes increment to 4.

2025-01-07 10:41:09,336 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:41:09,337 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:41:09,348 INFO The channel nacos3:7848 is in state: TRANSIENT_FAILURE.

2025-01-07 10:41:09,348 ERROR Fail to connect nacos3:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception.

2025-01-07 10:41:09,349 WARN There has been some transient failure on this channel nacos3:7848.

2025-01-07 10:41:09,349 ERROR Fail to connect peer nacos3:7848 to get leader for group naming_instance_metadata.

2025-01-07 10:41:09,446 INFO Starts FSMCaller successfully.

2025-01-07 10:41:09,446 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2025-01-07 10:41:09,451 INFO Node <naming_service_metadata/nacos1:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:41:09,472 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:41:09,472 INFO Start the RaftGroupService successfully.

2025-01-07 10:41:09,492 WARN Channel[nacos3:7848] in [INACTIVE] state 2 times, it has been removed from the pool.

2025-01-07 10:41:09,492 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:41:09,492 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:41:10,224 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:41:10,224 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:41:10,248 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:41:10,248 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:41:13,312 INFO Node <naming_persistent_service/nacos1:7848> term 0 start preVote.

2025-01-07 10:41:13,313 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:41:13,314 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:41:13,323 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 10:41:13,323 INFO The channel nacos2:7848 has successfully established.

2025-01-07 10:41:13,359 INFO Peer nacos2:7848 is connected.

2025-01-07 10:41:13,391 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:41:13,391 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:41:13,452 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:41:13,453 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:41:13,461 INFO Peer nacos3:7848 is connected.

2025-01-07 10:41:13,700 INFO Node <naming_persistent_service/nacos1:7848> received PreVoteResponse from nacos3:7848, term=0, granted=true.

2025-01-07 10:41:13,700 INFO Node <naming_persistent_service/nacos1:7848> start vote and grant vote self, term=0.

2025-01-07 10:41:13,757 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=nacos1:7848, cost time=22 ms

2025-01-07 10:41:13,764 WARN Node <naming_persistent_service/nacos1:7848> received invalid PreVoteResponse from nacos2:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 10:41:13,773 INFO Node <naming_persistent_service/nacos1:7848> become leader of group, term=1, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:41:13,813 INFO Replicator [group: naming_persistent_service, peer: nacos2:7848, type: Follower] is started

2025-01-07 10:41:13,859 INFO Replicator [group: naming_persistent_service, peer: nacos3:7848, type: Follower] is started

2025-01-07 10:41:13,923 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2025-01-07 10:41:13,956 WARN Node <naming_persistent_service/nacos1:7848> received invalid RequestVoteResponse from nacos2:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 10:41:14,074 INFO onLeaderStart: term=1.

2025-01-07 10:41:14,937 INFO Node <naming_instance_metadata/nacos1:7848> term 0 start preVote.

2025-01-07 10:41:14,938 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:41:14,938 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:41:14,946 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 10:41:14,946 INFO The channel nacos2:7848 has successfully established.

2025-01-07 10:41:14,951 INFO Peer nacos2:7848 is connected.

2025-01-07 10:41:14,974 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:41:14,974 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:41:14,980 INFO Node <naming_service_metadata/nacos1:7848> term 0 start preVote.

2025-01-07 10:41:14,981 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:41:14,981 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:41:15,019 INFO Node <naming_persistent_service_v2/nacos1:7848> term 0 start preVote.

2025-01-07 10:41:15,020 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:41:15,021 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:41:15,021 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 10:41:15,021 INFO The channel nacos2:7848 has successfully established.

2025-01-07 10:41:15,022 INFO Peer nacos2:7848 is connected.

2025-01-07 10:41:15,028 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:41:15,028 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:41:15,035 INFO Peer nacos3:7848 is connected.

2025-01-07 10:41:15,045 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 10:41:15,045 INFO The channel nacos2:7848 has successfully established.

2025-01-07 10:41:15,046 INFO Peer nacos2:7848 is connected.

2025-01-07 10:41:15,071 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:41:15,072 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:41:15,079 INFO Node <naming_instance_metadata/nacos1:7848> received PreVoteResponse from nacos2:7848, term=0, granted=true.

2025-01-07 10:41:15,080 INFO Node <naming_instance_metadata/nacos1:7848> start vote and grant vote self, term=0.

2025-01-07 10:41:15,109 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:41:15,109 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:41:15,111 INFO Peer nacos3:7848 is connected.

2025-01-07 10:41:15,115 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=nacos1:7848, cost time=31 ms

2025-01-07 10:41:15,125 WARN Node <naming_instance_metadata/nacos1:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 10:41:15,125 INFO Node <naming_instance_metadata/nacos1:7848> become leader of group, term=1, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:41:15,126 INFO Replicator [group: naming_instance_metadata, peer: nacos2:7848, type: Follower] is started

2025-01-07 10:41:15,137 INFO Replicator [group: naming_instance_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-07 10:41:15,153 INFO Node <naming_persistent_service_v2/nacos1:7848> received PreVoteResponse from nacos2:7848, term=0, granted=true.

2025-01-07 10:41:15,153 INFO Node <naming_persistent_service_v2/nacos1:7848> start vote and grant vote self, term=0.

2025-01-07 10:41:15,159 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:41:15,159 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:41:15,174 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=nacos1:7848, cost time=1 ms

2025-01-07 10:41:15,176 WARN Node <naming_persistent_service_v2/nacos1:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 10:41:15,184 WARN Node <naming_instance_metadata/nacos1:7848> received invalid RequestVoteResponse from nacos2:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 10:41:15,195 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:41:15,195 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:41:15,197 INFO Peer nacos3:7848 is connected.

2025-01-07 10:41:15,253 INFO Node <naming_persistent_service_v2/nacos1:7848> become leader of group, term=1, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:41:15,253 INFO Replicator [group: naming_persistent_service_v2, peer: nacos2:7848, type: Follower] is started

2025-01-07 10:41:15,272 INFO Replicator [group: naming_persistent_service_v2, peer: nacos3:7848, type: Follower] is started

2025-01-07 10:41:15,297 INFO onLeaderStart: term=1.

2025-01-07 10:41:15,299 INFO Node <naming_service_metadata/nacos1:7848> received PreVoteResponse from nacos3:7848, term=0, granted=true.

2025-01-07 10:41:15,305 INFO Node <naming_service_metadata/nacos1:7848> start vote and grant vote self, term=0.

2025-01-07 10:41:15,325 WARN Node <naming_persistent_service_v2/nacos1:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 10:41:15,369 INFO onLeaderStart: term=1.

2025-01-07 10:41:15,389 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=nacos1:7848, cost time=53 ms

2025-01-07 10:41:15,390 WARN Node <naming_service_metadata/nacos1:7848> received invalid PreVoteResponse from nacos2:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 10:41:15,391 INFO Node <naming_service_metadata/nacos1:7848> become leader of group, term=1, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:41:15,391 INFO Replicator [group: naming_service_metadata, peer: nacos2:7848, type: Follower] is started

2025-01-07 10:41:15,404 INFO Replicator [group: naming_service_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-07 10:41:15,443 WARN Node <naming_service_metadata/nacos1:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 10:41:15,478 INFO onLeaderStart: term=1.

2025-01-07 10:42:04,331 WARN Fail to issue RPC to nacos2:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499970211s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos2/172.19.0.3:7848]]]], groupId=naming_persistent_service_v2

2025-01-07 10:42:04,463 WARN Fail to issue RPC to nacos2:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499965442s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos2/172.19.0.3:7848]]]], groupId=naming_service_metadata

2025-01-07 10:42:04,465 WARN Fail to issue RPC to nacos2:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499974329s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos2/172.19.0.3:7848]]]], groupId=naming_persistent_service

2025-01-07 10:42:04,693 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499981031s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_instance_metadata

2025-01-07 10:42:04,693 WARN Fail to issue RPC to nacos2:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499968130s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos2/172.19.0.3:7848]]]], groupId=naming_instance_metadata

2025-01-07 10:42:04,832 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499967507s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_persistent_service_v2

2025-01-07 10:42:04,975 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499966039s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_service_metadata

2025-01-07 10:42:05,012 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499970873s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_persistent_service

2025-01-07 10:42:07,655 WARN Node <naming_instance_metadata/nacos1:7848> steps down when alive nodes don't satisfy quorum, term=1, deadNodes=nacos3:7848,nacos2:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 10:42:07,781 WARN Node <naming_persistent_service_v2/nacos1:7848> steps down when alive nodes don't satisfy quorum, term=1, deadNodes=nacos3:7848,nacos2:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 10:42:07,929 WARN Node <naming_service_metadata/nacos1:7848> steps down when alive nodes don't satisfy quorum, term=1, deadNodes=nacos3:7848,nacos2:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 10:42:08,942 WARN Node <naming_persistent_service/nacos1:7848> steps down when alive nodes don't satisfy quorum, term=1, deadNodes=nacos3:7848,nacos2:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 10:42:14,173 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_instance_metadata, waitId=1, type=Follower] is going to quit

2025-01-07 10:42:14,173 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 10:42:14,176 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_instance_metadata, waitId=2, type=Follower] is going to quit

2025-01-07 10:42:14,189 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 10:42:14,189 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_service_metadata, waitId=2, type=Follower] is going to quit

2025-01-07 10:42:14,189 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_service_metadata, waitId=1, type=Follower] is going to quit

2025-01-07 10:42:14,190 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 10:42:14,190 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_persistent_service_v2, waitId=2, type=Follower] is going to quit

2025-01-07 10:42:14,190 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service_v2, waitId=1, type=Follower] is going to quit

2025-01-07 10:42:14,190 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_persistent_service, waitId=1, type=Follower] is going to quit

2025-01-07 10:42:14,191 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 10:42:14,191 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service, waitId=2, type=Follower] is going to quit

2025-01-07 10:42:14,349 ERROR handleRequest group_id: "naming_persistent_service_v2"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 10:42:14,350 INFO Node <naming_persistent_service_v2/nacos1:7848> received PreVoteRequest from nacos2:7848, term=2, currTerm=1, granted=true, requestLastLogId=LogId [index=1, term=1], lastLogId=LogId [index=1, term=1].

2025-01-07 10:42:14,357 INFO Node <naming_persistent_service/nacos1:7848> received PreVoteRequest from nacos2:7848, term=2, currTerm=1, granted=true, requestLastLogId=LogId [index=1, term=1], lastLogId=LogId [index=1, term=1].

2025-01-07 10:42:14,357 ERROR handleRequest group_id: "naming_service_metadata"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 10:42:14,362 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 10:42:14,362 ERROR handleRequest group_id: "naming_service_metadata"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 10:42:14,362 INFO Node <naming_instance_metadata/nacos1:7848> received PreVoteRequest from nacos2:7848, term=2, currTerm=1, granted=true, requestLastLogId=LogId [index=1, term=1], lastLogId=LogId [index=1, term=1].

2025-01-07 10:42:14,365 INFO Node <naming_service_metadata/nacos1:7848> received PreVoteRequest from nacos2:7848, term=2, currTerm=1, granted=true, requestLastLogId=LogId [index=1, term=1], lastLogId=LogId [index=1, term=1].

2025-01-07 10:42:14,371 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 10:42:14,393 ERROR handleRequest group_id: "naming_service_metadata"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 10:42:14,394 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 10:42:14,394 ERROR handleRequest group_id: "naming_instance_metadata"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 10:42:14,395 ERROR handleRequest group_id: "naming_persistent_service_v2"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 10:42:14,404 ERROR handleRequest group_id: "naming_instance_metadata"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 10:42:14,431 INFO Node <naming_persistent_service_v2/nacos1:7848> received RequestVoteRequest from nacos2:7848, term=2, currTerm=1.

2025-01-07 10:42:14,430 INFO Node <naming_persistent_service/nacos1:7848> received RequestVoteRequest from nacos2:7848, term=2, currTerm=1.

2025-01-07 10:42:14,433 INFO Node <naming_service_metadata/nacos1:7848> received PreVoteRequest from nacos3:7848, term=2, currTerm=1, granted=true, requestLastLogId=LogId [index=1, term=1], lastLogId=LogId [index=1, term=1].

2025-01-07 10:42:14,433 INFO Node <naming_instance_metadata/nacos1:7848> received RequestVoteRequest from nacos2:7848, term=2, currTerm=1.

2025-01-07 10:42:14,455 INFO Node <naming_service_metadata/nacos1:7848> received RequestVoteRequest from nacos2:7848, term=2, currTerm=1.

2025-01-07 10:42:14,473 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=2, votedFor=0.0.0.0:0, cost time=41 ms

2025-01-07 10:42:14,479 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=2, votedFor=0.0.0.0:0, cost time=47 ms

2025-01-07 10:42:14,479 INFO Node <naming_persistent_service_v2/nacos1:7848> received PreVoteRequest from nacos3:7848, term=2, currTerm=2, granted=true, requestLastLogId=LogId [index=1, term=1], lastLogId=LogId [index=1, term=1].

2025-01-07 10:42:14,482 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=2, votedFor=0.0.0.0:0, cost time=38 ms

2025-01-07 10:42:14,483 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=2, votedFor=0.0.0.0:0, cost time=27 ms

2025-01-07 10:42:14,483 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=2, votedFor=nacos2:7848, cost time=3 ms

2025-01-07 10:42:14,484 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=2, votedFor=nacos2:7848, cost time=3 ms

2025-01-07 10:42:14,485 INFO Node <naming_persistent_service/nacos1:7848> received PreVoteRequest from nacos3:7848, term=2, currTerm=2, granted=true, requestLastLogId=LogId [index=1, term=1], lastLogId=LogId [index=1, term=1].

2025-01-07 10:42:14,488 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=2, votedFor=nacos2:7848, cost time=6 ms

2025-01-07 10:42:14,488 ERROR handleRequest group_id: "naming_instance_metadata"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 10:42:14,491 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=2, votedFor=nacos2:7848, cost time=6 ms

2025-01-07 10:42:14,508 INFO Node <naming_instance_metadata/nacos1:7848> received PreVoteRequest from nacos3:7848, term=2, currTerm=2, granted=true, requestLastLogId=LogId [index=1, term=1], lastLogId=LogId [index=1, term=1].

2025-01-07 10:43:41,930 INFO Node <naming_service_metadata/nacos1:7848> shutdown, currTerm=2 state=STATE_FOLLOWER.

2025-01-07 10:43:41,933 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos2:7848, term=2, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-07 10:43:41,941 INFO Connection disconnected: /172.19.0.5:39946

2025-01-07 10:43:41,943 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=2, votedFor=nacos2:7848, cost time=2 ms

2025-01-07 10:43:41,943 INFO Shutting down FSMCaller...

2025-01-07 10:43:41,944 INFO onShutdown.

2025-01-07 10:43:41,945 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=215, target=nacos3:7848}}.

2025-01-07 10:43:41,945 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:43:41,945 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:43:41,945 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=200, target=nacos2:7848}}.

2025-01-07 10:43:41,946 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 10:43:41,946 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:43:41,951 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@41879e83[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 4].

2025-01-07 10:43:41,953 INFO The number of active nodes decrement to 3.

2025-01-07 10:43:41,953 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/nacos1:7848>'}.

2025-01-07 10:43:41,954 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/nacos1:7848>'}.

2025-01-07 10:43:41,954 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/nacos1:7848>'}.

2025-01-07 10:43:41,954 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/nacos1:7848>'}.

2025-01-07 10:43:41,955 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@1245d814[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 187].

2025-01-07 10:43:41,959 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos1:7848 -> nacos2:7848]

2025-01-07 10:43:41,962 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos1:7848 -> nacos2:7848]

2025-01-07 10:43:41,963 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2025-01-07 10:43:41,964 INFO Node <naming_service_metadata/nacos1:7848> shutdown, currTerm=2 state=STATE_SHUTDOWN.

2025-01-07 10:43:41,964 INFO Stop the RaftGroupService successfully.

2025-01-07 10:43:41,964 INFO Node <naming_persistent_service/nacos1:7848> shutdown, currTerm=2 state=STATE_FOLLOWER.

2025-01-07 10:43:41,969 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos1:7848 -> nacos2:7848]

2025-01-07 10:43:41,970 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos2:7848, term=2, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-07 10:43:41,972 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos1:7848 -> nacos2:7848]

2025-01-07 10:43:41,973 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=2, votedFor=nacos2:7848, cost time=4 ms

2025-01-07 10:43:41,973 INFO Shutting down FSMCaller...

2025-01-07 10:43:41,974 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=180, target=nacos3:7848}}.

2025-01-07 10:43:41,974 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:43:41,974 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:43:41,975 INFO onShutdown.

2025-01-07 10:43:41,976 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=171, target=nacos2:7848}}.

2025-01-07 10:43:41,976 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 10:43:41,976 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:43:41,977 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service/nacos1:7848>'}.

2025-01-07 10:43:41,977 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service/nacos1:7848>'}.

2025-01-07 10:43:41,977 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service/nacos1:7848>'}.

2025-01-07 10:43:41,977 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service/nacos1:7848>'}.

2025-01-07 10:43:41,978 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@e24b5e0[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 193].

2025-01-07 10:43:41,986 INFO Node <naming_persistent_service/nacos1:7848> shutdown, currTerm=2 state=STATE_SHUTTING.

2025-01-07 10:43:41,986 INFO Stop the RaftGroupService successfully.

2025-01-07 10:43:41,986 INFO Node <naming_instance_metadata/nacos1:7848> shutdown, currTerm=2 state=STATE_FOLLOWER.

2025-01-07 10:43:41,986 INFO The number of active nodes decrement to 2.

2025-01-07 10:43:41,986 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@7c4aef89[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 4].

2025-01-07 10:43:41,988 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos2:7848, term=2, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-07 10:43:41,990 INFO Connection disconnected: /172.19.0.5:39948

2025-01-07 10:43:41,991 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service/log.

2025-01-07 10:43:41,991 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=2, votedFor=nacos2:7848, cost time=4 ms

2025-01-07 10:43:41,991 INFO Shutting down FSMCaller...

2025-01-07 10:43:41,996 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=198, target=nacos3:7848}}.

2025-01-07 10:43:41,996 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:43:41,996 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:43:41,997 INFO onShutdown.

2025-01-07 10:43:41,997 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=190, target=nacos2:7848}}.

2025-01-07 10:43:41,997 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 10:43:41,997 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:43:41,998 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/nacos1:7848>'}.

2025-01-07 10:43:41,998 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/nacos1:7848>'}.

2025-01-07 10:43:41,998 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/nacos1:7848>'}.

2025-01-07 10:43:41,998 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/nacos1:7848>'}.

2025-01-07 10:43:41,998 INFO The number of active nodes decrement to 1.

2025-01-07 10:43:41,998 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@9fee4f4[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 4].

2025-01-07 10:43:42,004 INFO Node <naming_instance_metadata/nacos1:7848> shutdown, currTerm=2 state=STATE_SHUTTING.

2025-01-07 10:43:42,004 INFO Stop the RaftGroupService successfully.

2025-01-07 10:43:42,004 INFO Node <naming_persistent_service_v2/nacos1:7848> shutdown, currTerm=2 state=STATE_FOLLOWER.

2025-01-07 10:43:42,006 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos2:7848, term=2, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-07 10:43:42,004 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@441468ce[Shutting down, pool size = 6, active threads = 0, queued tasks = 0, completed tasks = 188].

2025-01-07 10:43:42,008 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2025-01-07 10:43:42,008 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=2, votedFor=nacos2:7848, cost time=1 ms

2025-01-07 10:43:42,008 INFO Shutting down FSMCaller...

2025-01-07 10:43:42,010 INFO Connection disconnected: /172.19.0.5:39966

2025-01-07 10:43:42,010 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=210, target=nacos3:7848}}.

2025-01-07 10:43:42,010 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:43:42,010 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:43:42,012 INFO onShutdown.

2025-01-07 10:43:42,013 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=206, target=nacos2:7848}}.

2025-01-07 10:43:42,013 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 10:43:42,013 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:43:42,013 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@18f2c270[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 4].

2025-01-07 10:43:42,014 INFO The number of active nodes decrement to 0.

2025-01-07 10:43:42,016 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@40084609[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 187].

2025-01-07 10:43:42,018 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@417812b2[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 81].

2025-01-07 10:43:42,019 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/nacos1:7848>'}.

2025-01-07 10:43:42,019 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@63ac8ad9[Shutting down, pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 4].

2025-01-07 10:43:42,019 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/nacos1:7848>'}.

2025-01-07 10:43:42,020 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@364de054[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 85].

2025-01-07 10:43:42,020 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/nacos1:7848>'}.

2025-01-07 10:43:42,021 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@46e1a17e[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:43:42,021 INFO Connection disconnected: /172.19.0.5:39958

2025-01-07 10:43:42,022 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/nacos1:7848>'}.

2025-01-07 10:43:42,023 INFO Node <naming_persistent_service_v2/nacos1:7848> shutdown, currTerm=2 state=STATE_SHUTTING.

2025-01-07 10:43:42,023 INFO Stop the RaftGroupService successfully.

2025-01-07 10:43:42,026 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=145, target=nacos3:7848}}.

2025-01-07 10:43:42,026 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:43:42,026 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:43:42,026 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=115, target=nacos2:7848}}.

2025-01-07 10:43:42,027 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 10:43:42,027 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:43:42,031 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=109, target=nacos1:7848}}.

2025-01-07 10:43:42,031 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2025-01-07 10:43:42,031 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 10:43:42,031 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:43:42,032 INFO Connection disconnected: /172.19.0.4:45176

2025-01-07 10:43:42,034 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@2238429d[Shutting down, pool size = 9, active threads = 0, queued tasks = 0, completed tasks = 295].

2025-01-07 10:44:14,304 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2025-01-07 10:44:14,419 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2025-01-07 10:44:14,669 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2025-01-07 10:44:14,671 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2025-01-07 10:44:14,672 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2025-01-07 10:44:14,686 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2025-01-07 10:44:14,695 INFO The number of active nodes increment to 1.

2025-01-07 10:44:15,302 INFO Starts FSMCaller successfully.

2025-01-07 10:44:15,316 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service/snapshot.

2025-01-07 10:44:15,341 INFO Node <naming_persistent_service/nacos1:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:44:15,347 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:44:15,347 INFO Start the RaftGroupService successfully.

2025-01-07 10:44:15,376 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:44:15,402 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:44:15,418 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:44:15,418 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:44:15,474 INFO Creating new channel to: nacos1:7848.

2025-01-07 10:44:15,474 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 10:44:15,504 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 10:44:15,504 INFO The channel nacos1:7848 has successfully established.

2025-01-07 10:44:15,576 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:44:15,576 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:44:15,600 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 10:44:15,600 INFO The channel nacos2:7848 has successfully established.

2025-01-07 10:44:15,689 INFO The number of active nodes increment to 2.

2025-01-07 10:44:15,847 INFO Starts FSMCaller successfully.

2025-01-07 10:44:15,847 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2025-01-07 10:44:15,854 INFO Node <naming_persistent_service_v2/nacos1:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:44:15,855 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:44:15,855 INFO Start the RaftGroupService successfully.

2025-01-07 10:44:15,915 INFO The number of active nodes increment to 3.

2025-01-07 10:44:16,097 INFO Starts FSMCaller successfully.

2025-01-07 10:44:16,097 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2025-01-07 10:44:16,099 INFO Node <naming_instance_metadata/nacos1:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:44:16,099 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:44:16,099 INFO Start the RaftGroupService successfully.

2025-01-07 10:44:16,148 INFO The number of active nodes increment to 4.

2025-01-07 10:44:16,345 INFO Starts FSMCaller successfully.

2025-01-07 10:44:16,345 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2025-01-07 10:44:16,363 INFO Node <naming_service_metadata/nacos1:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:44:16,393 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:44:16,393 INFO Start the RaftGroupService successfully.

2025-01-07 10:44:20,513 INFO Node <naming_persistent_service/nacos1:7848> received PreVoteRequest from nacos3:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:44:20,529 INFO Node <naming_persistent_service/nacos1:7848> received RequestVoteRequest from nacos3:7848, term=1, currTerm=0.

2025-01-07 10:44:20,570 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=0.0.0.0:0, cost time=38 ms

2025-01-07 10:44:20,601 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=nacos3:7848, cost time=32 ms

2025-01-07 10:44:20,662 INFO Node <naming_persistent_service/nacos1:7848> received PreVoteRequest from nacos2:7848, term=1, currTerm=1, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:44:20,760 INFO Node <naming_service_metadata/nacos1:7848> received PreVoteRequest from nacos3:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:44:20,802 INFO Node <naming_service_metadata/nacos1:7848> received RequestVoteRequest from nacos3:7848, term=1, currTerm=0.

2025-01-07 10:44:20,812 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=0.0.0.0:0, cost time=10 ms

2025-01-07 10:44:20,819 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=nacos3:7848, cost time=8 ms

2025-01-07 10:44:20,836 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2025-01-07 10:44:21,231 INFO Node <naming_persistent_service_v2/nacos1:7848> received PreVoteRequest from nacos2:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:44:21,395 INFO Node <naming_persistent_service_v2/nacos1:7848> received PreVoteRequest from nacos3:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:44:21,418 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=0.0.0.0:0, cost time=2 ms

2025-01-07 10:44:21,419 INFO Node <naming_persistent_service_v2/nacos1:7848> received RequestVoteRequest from nacos3:7848, term=1, currTerm=1.

2025-01-07 10:44:21,436 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=nacos3:7848, cost time=6 ms

2025-01-07 10:44:21,437 INFO Node <naming_instance_metadata/nacos1:7848> received PreVoteRequest from nacos3:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 10:44:21,439 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=1, status=Status[EVOTEFORCANDIDATE<10010>: Raft node votes for some candidate, step down to restart election_timer.]].

2025-01-07 10:44:21,490 INFO Node <naming_instance_metadata/nacos1:7848> received RequestVoteRequest from nacos3:7848, term=1, currTerm=0.

2025-01-07 10:44:21,492 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=0.0.0.0:0, cost time=2 ms

2025-01-07 10:44:21,500 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=nacos3:7848, cost time=7 ms

2025-01-07 10:58:10,047 INFO Node <naming_service_metadata/nacos1:7848> shutdown, currTerm=1 state=STATE_FOLLOWER.

2025-01-07 10:58:10,048 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=1, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-07 10:58:10,164 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=nacos3:7848, cost time=20 ms

2025-01-07 10:58:10,164 INFO Shutting down FSMCaller...

2025-01-07 10:58:10,168 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@2dd09856[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:58:10,170 INFO Connection disconnected: /172.19.0.4:48088

2025-01-07 10:58:10,179 INFO onShutdown.

2025-01-07 10:58:10,179 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@2e79acae[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:58:10,181 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/nacos1:7848>'}.

2025-01-07 10:58:10,181 INFO The number of active nodes decrement to 3.

2025-01-07 10:58:10,181 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/nacos1:7848>'}.

2025-01-07 10:58:10,181 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/nacos1:7848>'}.

2025-01-07 10:58:10,181 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/nacos1:7848>'}.

2025-01-07 10:58:10,182 INFO Node <naming_service_metadata/nacos1:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 10:58:10,183 INFO Stop the RaftGroupService successfully.

2025-01-07 10:58:10,183 INFO Node <naming_persistent_service/nacos1:7848> shutdown, currTerm=1 state=STATE_FOLLOWER.

2025-01-07 10:58:10,186 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=1, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-07 10:58:10,199 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=nacos3:7848, cost time=14 ms

2025-01-07 10:58:10,199 INFO Shutting down FSMCaller...

2025-01-07 10:58:10,202 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@19802615[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:58:10,202 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@2eba4387[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:58:10,202 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service/nacos1:7848>'}.

2025-01-07 10:58:10,202 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service/nacos1:7848>'}.

2025-01-07 10:58:10,202 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service/nacos1:7848>'}.

2025-01-07 10:58:10,202 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service/nacos1:7848>'}.

2025-01-07 10:58:10,202 INFO onShutdown.

2025-01-07 10:58:10,202 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2025-01-07 10:58:10,202 INFO The number of active nodes decrement to 2.

2025-01-07 10:58:10,204 INFO Node <naming_persistent_service/nacos1:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 10:58:10,204 INFO Stop the RaftGroupService successfully.

2025-01-07 10:58:10,204 INFO Node <naming_instance_metadata/nacos1:7848> shutdown, currTerm=1 state=STATE_FOLLOWER.

2025-01-07 10:58:10,207 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=1, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-07 10:58:10,209 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service/log.

2025-01-07 10:58:10,210 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 10:58:10,211 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 10:58:10,211 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 10:58:10,215 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 10:58:10,227 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=nacos3:7848, cost time=19 ms

2025-01-07 10:58:10,227 INFO Shutting down FSMCaller...

2025-01-07 10:58:10,227 INFO onShutdown.

2025-01-07 10:58:10,228 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@4dc59622[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:58:10,228 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@5e0caefe[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:58:10,228 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/nacos1:7848>'}.

2025-01-07 10:58:10,228 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/nacos1:7848>'}.

2025-01-07 10:58:10,228 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/nacos1:7848>'}.

2025-01-07 10:58:10,228 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/nacos1:7848>'}.

2025-01-07 10:58:10,229 INFO The number of active nodes decrement to 1.

2025-01-07 10:58:10,230 INFO Node <naming_instance_metadata/nacos1:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 10:58:10,230 INFO Stop the RaftGroupService successfully.

2025-01-07 10:58:10,230 INFO Node <naming_persistent_service_v2/nacos1:7848> shutdown, currTerm=1 state=STATE_FOLLOWER.

2025-01-07 10:58:10,233 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2025-01-07 10:58:10,234 INFO Connection disconnected: /172.19.0.4:48104

2025-01-07 10:58:10,235 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=1, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-07 10:58:10,240 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=nacos3:7848, cost time=5 ms

2025-01-07 10:58:10,240 INFO Shutting down FSMCaller...

2025-01-07 10:58:10,241 INFO onShutdown.

2025-01-07 10:58:10,241 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@46249ba4[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:58:10,241 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@3afe5e9c[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:58:10,242 INFO The number of active nodes decrement to 0.

2025-01-07 10:58:10,253 INFO Connection disconnected: /172.19.0.4:48080

2025-01-07 10:58:10,373 INFO Connection disconnected: /172.19.0.5:41998

2025-01-07 10:58:10,443 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@321aba3[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 763].

2025-01-07 10:58:10,443 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/nacos1:7848>'}.

2025-01-07 10:58:10,443 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@5b6bbb67[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:58:10,443 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/nacos1:7848>'}.

2025-01-07 10:58:10,443 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@602b95aa[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:58:10,443 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/nacos1:7848>'}.

2025-01-07 10:58:10,444 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@6bde4e4e[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 10:58:10,444 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/nacos1:7848>'}.

2025-01-07 10:58:10,444 INFO Node <naming_persistent_service_v2/nacos1:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 10:58:10,444 INFO Stop the RaftGroupService successfully.

2025-01-07 10:58:10,446 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=107, target=nacos3:7848}}.

2025-01-07 10:58:10,448 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:58:10,448 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:58:10,448 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2025-01-07 10:58:10,450 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=117, target=nacos2:7848}}.

2025-01-07 10:58:10,450 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 10:58:10,450 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:58:10,451 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=112, target=nacos1:7848}}.

2025-01-07 10:58:10,451 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 10:58:10,451 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:58:10,456 INFO Connection disconnected: /172.19.0.3:44882

2025-01-07 10:58:10,457 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@4b836eb3[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 1079].

2025-01-07 10:58:49,020 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2025-01-07 10:58:49,104 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2025-01-07 10:58:49,659 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2025-01-07 10:58:49,673 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2025-01-07 10:58:49,674 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2025-01-07 10:58:49,678 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2025-01-07 10:58:49,689 INFO The number of active nodes increment to 1.

2025-01-07 10:58:50,689 INFO Starts FSMCaller successfully.

2025-01-07 10:58:50,727 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service/snapshot.

2025-01-07 10:58:50,732 INFO Node <naming_persistent_service/nacos1:7848> target priority value has changed from: 0, to: -1.

2025-01-07 10:58:50,778 INFO Node <naming_persistent_service/nacos1:7848> init, term=1, lastLogId=LogId [index=1, term=1], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:58:50,788 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:58:50,789 INFO Start the RaftGroupService successfully.

2025-01-07 10:58:50,878 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:58:50,889 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:58:50,909 INFO The channel nacos3:7848 is in state: TRANSIENT_FAILURE.

2025-01-07 10:58:50,909 WARN There has been some transient failure on this channel nacos3:7848.

2025-01-07 10:58:50,934 ERROR Fail to connect nacos3:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception.

2025-01-07 10:58:50,934 ERROR Fail to connect peer nacos3:7848 to get leader for group naming_persistent_service.

2025-01-07 10:58:50,935 INFO Creating new channel to: nacos1:7848.

2025-01-07 10:58:50,935 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 10:58:51,007 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 10:58:51,007 INFO The channel nacos1:7848 has successfully established.

2025-01-07 10:58:51,328 INFO The number of active nodes increment to 2.

2025-01-07 10:58:51,385 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:58:51,385 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:58:51,459 INFO The channel nacos2:7848 is in state: TRANSIENT_FAILURE.

2025-01-07 10:58:51,460 WARN There has been some transient failure on this channel nacos2:7848.

2025-01-07 10:58:51,459 ERROR Fail to connect nacos2:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception.

2025-01-07 10:58:51,463 ERROR Fail to connect peer nacos2:7848 to get leader for group naming_persistent_service.

2025-01-07 10:58:51,647 INFO Starts FSMCaller successfully.

2025-01-07 10:58:51,647 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2025-01-07 10:58:51,647 INFO Node <naming_persistent_service_v2/nacos1:7848> target priority value has changed from: 0, to: -1.

2025-01-07 10:58:51,682 INFO Node <naming_persistent_service_v2/nacos1:7848> init, term=1, lastLogId=LogId [index=1, term=1], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:58:51,695 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:58:51,695 INFO Start the RaftGroupService successfully.

2025-01-07 10:58:51,708 WARN Channel[nacos3:7848] in [INACTIVE] state 2 times, it has been removed from the pool.

2025-01-07 10:58:51,775 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 10:58:51,776 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:58:51,787 INFO The number of active nodes increment to 3.

2025-01-07 10:58:52,097 WARN Channel[nacos2:7848] in [INACTIVE] state 2 times, it has been removed from the pool.

2025-01-07 10:58:52,098 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 10:58:52,098 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 10:58:52,185 INFO Starts FSMCaller successfully.

2025-01-07 10:58:52,185 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2025-01-07 10:58:52,185 INFO Node <naming_instance_metadata/nacos1:7848> target priority value has changed from: 0, to: -1.

2025-01-07 10:58:52,209 INFO Node <naming_instance_metadata/nacos1:7848> init, term=1, lastLogId=LogId [index=1, term=1], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:58:52,220 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:58:52,220 INFO Start the RaftGroupService successfully.

2025-01-07 10:58:52,222 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:58:52,222 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:58:52,228 INFO The number of active nodes increment to 4.

2025-01-07 10:58:52,264 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:58:52,264 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:58:52,392 INFO Starts FSMCaller successfully.

2025-01-07 10:58:52,393 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2025-01-07 10:58:52,393 INFO Node <naming_service_metadata/nacos1:7848> target priority value has changed from: 0, to: -1.

2025-01-07 10:58:52,400 INFO Node <naming_service_metadata/nacos1:7848> init, term=1, lastLogId=LogId [index=1, term=1], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:58:52,403 WARN RPC server is not started in RaftGroupService.

2025-01-07 10:58:52,403 INFO Start the RaftGroupService successfully.

2025-01-07 10:58:52,632 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:58:52,632 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:58:52,654 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 10:58:52,654 INFO The channel nacos2:7848 has successfully established.

2025-01-07 10:58:56,647 INFO Node <naming_persistent_service/nacos1:7848> term 1 start preVote.

2025-01-07 10:58:56,657 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:58:56,657 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:58:56,675 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 10:58:56,675 INFO The channel nacos2:7848 has successfully established.

2025-01-07 10:58:56,724 INFO Peer nacos2:7848 is connected.

2025-01-07 10:58:56,743 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:58:56,743 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:58:56,760 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:58:56,764 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:58:56,817 INFO Node <naming_persistent_service_v2/nacos1:7848> term 1 start preVote.

2025-01-07 10:58:56,927 INFO Peer nacos3:7848 is connected.

2025-01-07 10:58:56,953 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:58:56,953 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:58:56,968 INFO Node <naming_persistent_service/nacos1:7848> received PreVoteResponse from nacos2:7848, term=1, granted=true.

2025-01-07 10:58:56,968 INFO Node <naming_persistent_service/nacos1:7848> start vote and grant vote self, term=1.

2025-01-07 10:58:56,969 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 10:58:56,969 INFO The channel nacos2:7848 has successfully established.

2025-01-07 10:58:57,037 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:58:57,037 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:58:57,038 INFO Peer nacos2:7848 is connected.

2025-01-07 10:58:57,104 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:58:57,104 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:58:57,123 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=2, votedFor=nacos1:7848, cost time=142 ms

2025-01-07 10:58:57,150 INFO Peer nacos3:7848 is connected.

2025-01-07 10:58:57,153 INFO Node <naming_persistent_service/nacos1:7848> become leader of group, term=2, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:58:57,183 INFO Node <naming_persistent_service_v2/nacos1:7848> received PreVoteResponse from nacos2:7848, term=1, granted=true.

2025-01-07 10:58:57,183 INFO Node <naming_persistent_service_v2/nacos1:7848> start vote and grant vote self, term=1.

2025-01-07 10:58:57,216 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=2, votedFor=nacos1:7848, cost time=19 ms

2025-01-07 10:58:57,230 WARN Node <naming_persistent_service_v2/nacos1:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 10:58:57,255 INFO Node <naming_persistent_service_v2/nacos1:7848> become leader of group, term=2, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:58:57,271 INFO Replicator [group: naming_persistent_service, peer: nacos2:7848, type: Follower] is started

2025-01-07 10:58:57,291 INFO Replicator [group: naming_persistent_service_v2, peer: nacos2:7848, type: Follower] is started

2025-01-07 10:58:57,307 INFO Replicator [group: naming_persistent_service_v2, peer: nacos3:7848, type: Follower] is started

2025-01-07 10:58:57,312 INFO Replicator [group: naming_persistent_service, peer: nacos3:7848, type: Follower] is started

2025-01-07 10:58:57,378 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2025-01-07 10:58:57,423 WARN Node <naming_persistent_service/nacos1:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 10:58:57,423 WARN Node <naming_persistent_service/nacos1:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_LEADER.

2025-01-07 10:58:57,472 WARN Node <naming_persistent_service_v2/nacos1:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 10:58:57,570 INFO onLeaderStart: term=2.

2025-01-07 10:58:57,595 INFO onLeaderStart: term=2.

2025-01-07 10:58:58,142 INFO Node <naming_service_metadata/nacos1:7848> term 1 start preVote.

2025-01-07 10:58:58,144 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:58:58,144 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:58:58,156 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 10:58:58,156 INFO The channel nacos2:7848 has successfully established.

2025-01-07 10:58:58,156 INFO Peer nacos2:7848 is connected.

2025-01-07 10:58:58,159 INFO Node <naming_instance_metadata/nacos1:7848> term 1 start preVote.

2025-01-07 10:58:58,162 INFO Creating new channel to: nacos2:7848.

2025-01-07 10:58:58,162 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 10:58:58,171 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:58:58,171 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:58:58,173 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 10:58:58,173 INFO The channel nacos2:7848 has successfully established.

2025-01-07 10:58:58,175 INFO Peer nacos2:7848 is connected.

2025-01-07 10:58:58,182 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:58:58,182 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:58:58,187 INFO Peer nacos3:7848 is connected.

2025-01-07 10:58:58,208 INFO Creating new channel to: nacos3:7848.

2025-01-07 10:58:58,208 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 10:58:58,217 INFO Node <naming_service_metadata/nacos1:7848> received PreVoteResponse from nacos2:7848, term=1, granted=true.

2025-01-07 10:58:58,217 INFO Node <naming_service_metadata/nacos1:7848> start vote and grant vote self, term=1.

2025-01-07 10:58:58,228 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 10:58:58,228 INFO The channel nacos3:7848 has successfully established.

2025-01-07 10:58:58,230 INFO Peer nacos3:7848 is connected.

2025-01-07 10:58:58,236 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=2, votedFor=nacos1:7848, cost time=6 ms

2025-01-07 10:58:58,274 INFO Node <naming_service_metadata/nacos1:7848> become leader of group, term=2, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:58:58,275 INFO Replicator [group: naming_service_metadata, peer: nacos2:7848, type: Follower] is started

2025-01-07 10:58:58,292 INFO Replicator [group: naming_service_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-07 10:58:58,310 WARN Node <naming_service_metadata/nacos1:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_LEADER.

2025-01-07 10:58:58,313 WARN Node <naming_service_metadata/nacos1:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 10:58:58,325 INFO Node <naming_instance_metadata/nacos1:7848> received PreVoteResponse from nacos2:7848, term=1, granted=true.

2025-01-07 10:58:58,326 INFO Node <naming_instance_metadata/nacos1:7848> start vote and grant vote self, term=1.

2025-01-07 10:58:58,335 INFO onLeaderStart: term=2.

2025-01-07 10:58:58,343 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=2, votedFor=nacos1:7848, cost time=16 ms

2025-01-07 10:58:58,366 WARN Node <naming_instance_metadata/nacos1:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 10:58:58,380 INFO Node <naming_instance_metadata/nacos1:7848> become leader of group, term=2, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 10:58:58,380 INFO Replicator [group: naming_instance_metadata, peer: nacos2:7848, type: Follower] is started

2025-01-07 10:58:58,418 INFO Replicator [group: naming_instance_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-07 10:58:58,424 WARN Node <naming_instance_metadata/nacos1:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 10:58:58,464 INFO onLeaderStart: term=2.

2025-01-07 11:17:17,681 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_2.

2025-01-07 11:17:17,681 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_2.

2025-01-07 11:20:58,111 INFO Node <naming_service_metadata/nacos1:7848> shutdown, currTerm=2 state=STATE_LEADER.

2025-01-07 11:20:58,120 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2025-01-07 11:20:58,120 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=2, lastLogIncluded=0, lastLogIndex=2, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_service_metadata, waitId=2, type=Follower] is going to quit

2025-01-07 11:20:58,156 WARN Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=2, lastLogIncluded=0, lastLogIndex=2, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_service_metadata, waitId=1, type=Follower] stops sending entries.

2025-01-07 11:20:58,166 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=2, votedFor=nacos1:7848, cost time=2 ms

2025-01-07 11:20:58,166 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=2, lastLogIncluded=0, lastLogIndex=2, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_service_metadata, waitId=1, type=Follower] is going to quit

2025-01-07 11:20:58,166 INFO Shutting down FSMCaller...

2025-01-07 11:20:58,174 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=223, target=nacos3:7848}}.

2025-01-07 11:20:58,174 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 11:20:58,174 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:20:58,181 INFO onShutdown.

2025-01-07 11:20:58,192 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=215, target=nacos2:7848}}.

2025-01-07 11:20:58,192 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 11:20:58,192 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:20:58,219 INFO Connection disconnected: /172.19.0.3:60522

2025-01-07 11:20:58,220 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@905c806[Shutting down, pool size = 3, active threads = 0, queued tasks = 0, completed tasks = 5].

2025-01-07 11:20:58,221 INFO The number of active nodes decrement to 3.

2025-01-07 11:20:58,227 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@421cace9[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 5250].

2025-01-07 11:20:58,227 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/nacos1:7848>'}.

2025-01-07 11:20:58,227 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/nacos1:7848>'}.

2025-01-07 11:20:58,227 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/nacos1:7848>'}.

2025-01-07 11:20:58,227 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/nacos1:7848>'}.

2025-01-07 11:20:58,240 INFO Node <naming_service_metadata/nacos1:7848> shutdown, currTerm=2 state=STATE_SHUTTING.

2025-01-07 11:20:58,240 INFO Stop the RaftGroupService successfully.

2025-01-07 11:20:58,240 INFO Node <naming_persistent_service/nacos1:7848> shutdown, currTerm=2 state=STATE_LEADER.

2025-01-07 11:20:58,246 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=2, lastLogIncluded=0, lastLogIndex=2, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service, waitId=1, type=Follower] is going to quit

2025-01-07 11:20:58,248 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2025-01-07 11:20:58,250 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2025-01-07 11:20:58,251 WARN Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=2, lastLogIncluded=0, lastLogIndex=2, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_persistent_service, waitId=2, type=Follower] stops sending entries.

2025-01-07 11:20:58,253 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=2, votedFor=nacos1:7848, cost time=2 ms

2025-01-07 11:20:58,253 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=2, lastLogIncluded=0, lastLogIndex=2, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_persistent_service, waitId=2, type=Follower] is going to quit

2025-01-07 11:20:58,253 INFO Shutting down FSMCaller...

2025-01-07 11:20:58,255 INFO onShutdown.

2025-01-07 11:20:58,255 INFO Connection disconnected: /172.19.0.4:46330

2025-01-07 11:20:58,259 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=193, target=nacos3:7848}}.

2025-01-07 11:20:58,259 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 11:20:58,259 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:20:58,262 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=188, target=nacos2:7848}}.

2025-01-07 11:20:58,262 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 11:20:58,262 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:20:58,267 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service/nacos1:7848>'}.

2025-01-07 11:20:58,267 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service/nacos1:7848>'}.

2025-01-07 11:20:58,267 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service/nacos1:7848>'}.

2025-01-07 11:20:58,267 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service/nacos1:7848>'}.

2025-01-07 11:20:58,270 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@119c83e3[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 5254].

2025-01-07 11:20:58,271 INFO Node <naming_persistent_service/nacos1:7848> shutdown, currTerm=2 state=STATE_SHUTTING.

2025-01-07 11:20:58,274 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@7e5328b9[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 5].

2025-01-07 11:20:58,274 INFO The number of active nodes decrement to 2.

2025-01-07 11:20:58,276 INFO Stop the RaftGroupService successfully.

2025-01-07 11:20:58,276 INFO Node <naming_instance_metadata/nacos1:7848> shutdown, currTerm=2 state=STATE_LEADER.

2025-01-07 11:20:58,282 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=2, lastLogIncluded=0, lastLogIndex=2, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_instance_metadata, waitId=2, type=Follower] is going to quit

2025-01-07 11:20:58,282 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2025-01-07 11:20:58,283 WARN Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=2, lastLogIncluded=0, lastLogIndex=2, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_instance_metadata, waitId=1, type=Follower] stops sending entries.

2025-01-07 11:20:58,284 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service/log.

2025-01-07 11:20:58,287 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=2, votedFor=nacos1:7848, cost time=5 ms

2025-01-07 11:20:58,287 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=2, lastLogIncluded=0, lastLogIndex=2, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_instance_metadata, waitId=1, type=Follower] is going to quit

2025-01-07 11:20:58,288 INFO Shutting down FSMCaller...

2025-01-07 11:20:58,288 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=227, target=nacos3:7848}}.

2025-01-07 11:20:58,288 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 11:20:58,288 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:20:58,289 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=219, target=nacos2:7848}}.

2025-01-07 11:20:58,290 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 11:20:58,290 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:20:58,291 INFO onShutdown.

2025-01-07 11:20:58,302 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@34fe55c2[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 5].

2025-01-07 11:20:58,302 INFO The number of active nodes decrement to 1.

2025-01-07 11:20:58,303 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@2d219c86[Shutting down, pool size = 6, active threads = 0, queued tasks = 0, completed tasks = 5250].

2025-01-07 11:20:58,320 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/nacos1:7848>'}.

2025-01-07 11:20:58,320 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/nacos1:7848>'}.

2025-01-07 11:20:58,320 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/nacos1:7848>'}.

2025-01-07 11:20:58,320 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/nacos1:7848>'}.

2025-01-07 11:20:58,331 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2025-01-07 11:20:58,331 INFO Node <naming_instance_metadata/nacos1:7848> shutdown, currTerm=2 state=STATE_SHUTDOWN.

2025-01-07 11:20:58,332 INFO Stop the RaftGroupService successfully.

2025-01-07 11:20:58,332 INFO Node <naming_persistent_service_v2/nacos1:7848> shutdown, currTerm=2 state=STATE_LEADER.

2025-01-07 11:20:58,333 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=2, lastLogIncluded=0, lastLogIndex=2, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service_v2, waitId=1, type=Follower] is going to quit

2025-01-07 11:20:58,333 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2025-01-07 11:20:58,334 WARN Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=2, lastLogIncluded=0, lastLogIndex=2, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_persistent_service_v2, waitId=2, type=Follower] stops sending entries.

2025-01-07 11:20:58,338 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=2, votedFor=nacos1:7848, cost time=5 ms

2025-01-07 11:20:58,338 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=2, lastLogIncluded=0, lastLogIndex=2, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_persistent_service_v2, waitId=2, type=Follower] is going to quit

2025-01-07 11:20:58,338 INFO Shutting down FSMCaller...

2025-01-07 11:20:58,339 INFO onShutdown.

2025-01-07 11:20:58,343 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=201, target=nacos3:7848}}.

2025-01-07 11:20:58,343 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 11:20:58,343 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:20:58,344 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=197, target=nacos2:7848}}.

2025-01-07 11:20:58,345 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 11:20:58,345 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:20:58,355 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@2db9014e[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 5].

2025-01-07 11:20:58,356 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@34ed7ad2[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 5254].

2025-01-07 11:20:58,356 INFO The number of active nodes decrement to 0.

2025-01-07 11:20:58,363 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@339ebdab[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 8].

2025-01-07 11:20:58,363 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/nacos1:7848>'}.

2025-01-07 11:20:58,366 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@71c32be3[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 4].

2025-01-07 11:20:58,366 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/nacos1:7848>'}.

2025-01-07 11:20:58,367 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@736df42d[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 2110].

2025-01-07 11:20:58,383 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/nacos1:7848>'}.

2025-01-07 11:20:58,384 INFO Connection disconnected: /172.19.0.4:46338

2025-01-07 11:20:58,394 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@17b91636[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 1].

2025-01-07 11:20:58,396 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/nacos1:7848>'}.

2025-01-07 11:20:58,404 INFO Node <naming_persistent_service_v2/nacos1:7848> shutdown, currTerm=2 state=STATE_SHUTTING.

2025-01-07 11:20:58,407 INFO Stop the RaftGroupService successfully.

2025-01-07 11:20:58,408 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=142, target=nacos3:7848}}.

2025-01-07 11:20:58,408 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 11:20:58,408 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:20:58,408 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2025-01-07 11:20:58,410 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=147, target=nacos2:7848}}.

2025-01-07 11:20:58,410 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 11:20:58,410 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:20:58,411 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=119, target=nacos1:7848}}.

2025-01-07 11:20:58,411 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 11:20:58,411 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:20:58,414 INFO Connection disconnected: /172.19.0.5:44480

2025-01-07 11:20:58,431 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@711cbda0[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 1454].

2025-01-07 11:20:58,432 INFO Connection disconnected: /172.19.0.4:46342

2025-01-07 11:20:58,450 INFO Connection disconnected: /172.19.0.4:46346

2025-01-07 11:21:30,561 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2025-01-07 11:21:30,634 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2025-01-07 11:21:31,149 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2025-01-07 11:21:31,153 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2025-01-07 11:21:31,171 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2025-01-07 11:21:31,201 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2025-01-07 11:21:31,236 INFO The number of active nodes increment to 1.

2025-01-07 11:21:32,293 INFO Starts FSMCaller successfully.

2025-01-07 11:21:32,344 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service/snapshot.

2025-01-07 11:21:32,404 INFO Node <naming_persistent_service/nacos1:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 11:21:32,468 WARN RPC server is not started in RaftGroupService.

2025-01-07 11:21:32,469 INFO Start the RaftGroupService successfully.

2025-01-07 11:21:32,545 INFO Creating new channel to: nacos3:7848.

2025-01-07 11:21:32,565 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 11:21:32,587 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 11:21:32,588 INFO The channel nacos3:7848 has successfully established.

2025-01-07 11:21:33,041 INFO Creating new channel to: nacos1:7848.

2025-01-07 11:21:33,041 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 11:21:33,094 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 11:21:33,094 INFO The channel nacos1:7848 has successfully established.

2025-01-07 11:21:33,225 INFO Creating new channel to: nacos2:7848.

2025-01-07 11:21:33,225 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 11:21:33,231 INFO The number of active nodes increment to 2.

2025-01-07 11:21:33,244 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 11:21:33,244 INFO The channel nacos2:7848 has successfully established.

2025-01-07 11:21:33,475 INFO Starts FSMCaller successfully.

2025-01-07 11:21:33,527 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2025-01-07 11:21:33,557 INFO Node <naming_persistent_service_v2/nacos1:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 11:21:33,570 WARN RPC server is not started in RaftGroupService.

2025-01-07 11:21:33,570 INFO Start the RaftGroupService successfully.

2025-01-07 11:21:33,622 INFO The number of active nodes increment to 3.

2025-01-07 11:21:33,788 INFO Starts FSMCaller successfully.

2025-01-07 11:21:33,789 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2025-01-07 11:21:33,799 INFO Node <naming_instance_metadata/nacos1:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 11:21:33,808 WARN RPC server is not started in RaftGroupService.

2025-01-07 11:21:33,808 INFO Start the RaftGroupService successfully.

2025-01-07 11:21:33,844 INFO The number of active nodes increment to 4.

2025-01-07 11:21:34,013 INFO Starts FSMCaller successfully.

2025-01-07 11:21:34,013 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2025-01-07 11:21:34,039 INFO Node <naming_service_metadata/nacos1:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 11:21:34,052 WARN RPC server is not started in RaftGroupService.

2025-01-07 11:21:34,052 INFO Start the RaftGroupService successfully.

2025-01-07 11:21:35,368 INFO Node <naming_persistent_service/nacos1:7848> received PreVoteRequest from nacos2:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 11:21:35,403 INFO Node <naming_persistent_service/nacos1:7848> received RequestVoteRequest from nacos2:7848, term=1, currTerm=0.

2025-01-07 11:21:35,441 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=0.0.0.0:0, cost time=37 ms

2025-01-07 11:21:35,456 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=nacos2:7848, cost time=15 ms

2025-01-07 11:21:35,632 INFO Node <naming_persistent_service_v2/nacos1:7848> received PreVoteRequest from nacos2:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 11:21:35,642 INFO Node <naming_persistent_service_v2/nacos1:7848> received RequestVoteRequest from nacos2:7848, term=1, currTerm=0.

2025-01-07 11:21:35,648 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=0.0.0.0:0, cost time=5 ms

2025-01-07 11:21:35,652 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=nacos2:7848, cost time=3 ms

2025-01-07 11:21:35,701 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2025-01-07 11:21:36,009 INFO Node <naming_instance_metadata/nacos1:7848> received PreVoteRequest from nacos2:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 11:21:36,023 INFO Node <naming_instance_metadata/nacos1:7848> received RequestVoteRequest from nacos2:7848, term=1, currTerm=0.

2025-01-07 11:21:36,029 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=0.0.0.0:0, cost time=6 ms

2025-01-07 11:21:36,031 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=nacos2:7848, cost time=1 ms

2025-01-07 11:21:36,606 INFO Node <naming_service_metadata/nacos1:7848> received PreVoteRequest from nacos2:7848, term=1, currTerm=0, granted=true, requestLastLogId=LogId [index=0, term=0], lastLogId=LogId [index=0, term=0].

2025-01-07 11:21:36,644 INFO Node <naming_service_metadata/nacos1:7848> received RequestVoteRequest from nacos2:7848, term=1, currTerm=0.

2025-01-07 11:21:36,646 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=0.0.0.0:0, cost time=2 ms

2025-01-07 11:21:36,648 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=nacos2:7848, cost time=2 ms

2025-01-07 11:38:45,761 INFO Node <naming_service_metadata/nacos1:7848> shutdown, currTerm=1 state=STATE_FOLLOWER.

2025-01-07 11:38:45,763 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos2:7848, term=1, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-07 11:38:45,772 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=nacos2:7848, cost time=6 ms

2025-01-07 11:38:45,775 INFO Shutting down FSMCaller...

2025-01-07 11:38:45,781 INFO onShutdown.

2025-01-07 11:38:45,786 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@6708190b[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 11:38:45,787 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@757584e5[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 11:38:45,787 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/nacos1:7848>'}.

2025-01-07 11:38:45,787 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/nacos1:7848>'}.

2025-01-07 11:38:45,787 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/nacos1:7848>'}.

2025-01-07 11:38:45,787 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/nacos1:7848>'}.

2025-01-07 11:38:45,789 INFO Node <naming_service_metadata/nacos1:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 11:38:45,789 INFO Stop the RaftGroupService successfully.

2025-01-07 11:38:45,789 INFO Node <naming_persistent_service/nacos1:7848> shutdown, currTerm=1 state=STATE_FOLLOWER.

2025-01-07 11:38:45,789 INFO The number of active nodes decrement to 3.

2025-01-07 11:38:45,792 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos2:7848, term=1, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-07 11:38:45,797 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2025-01-07 11:38:45,807 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=nacos2:7848, cost time=15 ms

2025-01-07 11:38:45,807 INFO Shutting down FSMCaller...

2025-01-07 11:38:45,811 INFO onShutdown.

2025-01-07 11:38:45,816 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@5bde9d2a[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 11:38:45,816 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@71e83c98[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 11:38:45,817 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service/nacos1:7848>'}.

2025-01-07 11:38:45,817 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service/nacos1:7848>'}.

2025-01-07 11:38:45,817 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service/nacos1:7848>'}.

2025-01-07 11:38:45,817 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service/nacos1:7848>'}.

2025-01-07 11:38:45,817 INFO The number of active nodes decrement to 2.

2025-01-07 11:38:45,820 INFO Node <naming_persistent_service/nacos1:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 11:38:45,821 INFO Stop the RaftGroupService successfully.

2025-01-07 11:38:45,821 INFO Node <naming_instance_metadata/nacos1:7848> shutdown, currTerm=1 state=STATE_FOLLOWER.

2025-01-07 11:38:45,823 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos2:7848, term=1, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-07 11:38:45,828 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service/log.

2025-01-07 11:38:45,887 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=nacos2:7848, cost time=64 ms

2025-01-07 11:38:45,887 INFO Shutting down FSMCaller...

2025-01-07 11:38:45,888 INFO onShutdown.

2025-01-07 11:38:45,891 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@2863dcec[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 11:38:45,892 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@6a6b10e2[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 11:38:45,892 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/nacos1:7848>'}.

2025-01-07 11:38:45,892 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/nacos1:7848>'}.

2025-01-07 11:38:45,892 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/nacos1:7848>'}.

2025-01-07 11:38:45,892 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/nacos1:7848>'}.

2025-01-07 11:38:45,892 INFO The number of active nodes decrement to 1.

2025-01-07 11:38:45,893 INFO Node <naming_instance_metadata/nacos1:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 11:38:45,893 INFO Stop the RaftGroupService successfully.

2025-01-07 11:38:45,893 INFO Node <naming_persistent_service_v2/nacos1:7848> shutdown, currTerm=1 state=STATE_FOLLOWER.

2025-01-07 11:38:45,894 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos2:7848, term=1, status=Status[ESHUTDOWN<1007>: Raft node is going to quit.]].

2025-01-07 11:38:45,896 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=nacos2:7848, cost time=2 ms

2025-01-07 11:38:45,897 INFO Shutting down FSMCaller...

2025-01-07 11:38:45,897 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@45f3f748[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 11:38:45,897 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@754f0f92[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 11:38:45,898 INFO The number of active nodes decrement to 0.

2025-01-07 11:38:45,898 INFO onShutdown.

2025-01-07 11:38:45,898 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2025-01-07 11:38:45,899 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@7b01ef39[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 756].

2025-01-07 11:38:45,899 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/nacos1:7848>'}.

2025-01-07 11:38:45,899 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@43fd296b[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 11:38:45,899 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/nacos1:7848>'}.

2025-01-07 11:38:45,899 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@71a3ddf6[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 11:38:45,899 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/nacos1:7848>'}.

2025-01-07 11:38:45,902 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@3b7aedf3[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2025-01-07 11:38:45,902 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/nacos1:7848>'}.

2025-01-07 11:38:45,903 INFO Node <naming_persistent_service_v2/nacos1:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2025-01-07 11:38:45,903 INFO Stop the RaftGroupService successfully.

2025-01-07 11:38:45,907 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2025-01-07 11:38:45,908 INFO Shutdown managed channel: nacos3:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=112, target=nacos3:7848}}.

2025-01-07 11:38:45,910 INFO The channel nacos3:7848 is in state: SHUTDOWN.

2025-01-07 11:38:45,910 WARN This channel nacos3:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:38:45,911 INFO Shutdown managed channel: nacos2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=129, target=nacos2:7848}}.

2025-01-07 11:38:45,911 INFO The channel nacos2:7848 is in state: SHUTDOWN.

2025-01-07 11:38:45,911 WARN This channel nacos2:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:38:45,912 INFO Shutdown managed channel: nacos1:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=122, target=nacos1:7848}}.

2025-01-07 11:38:45,912 INFO The channel nacos1:7848 is in state: SHUTDOWN.

2025-01-07 11:38:45,912 WARN This channel nacos1:7848 has started shutting down. Any new RPCs should fail immediately.

2025-01-07 11:38:45,913 INFO Connection disconnected: /172.19.0.5:48960

2025-01-07 11:38:45,920 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@3e078762[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 1180].

2025-01-07 11:38:45,945 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos1:7848 -> nacos2:7848]

2025-01-07 11:38:45,951 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos1:7848 -> nacos2:7848]

2025-01-07 11:38:45,954 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos1:7848 -> nacos2:7848]

2025-01-07 11:38:45,956 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos1:7848 -> nacos2:7848]

2025-01-07 11:38:45,960 INFO Connection disconnected: /172.19.0.4:46652

2025-01-07 11:39:16,576 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2025-01-07 11:39:16,774 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2025-01-07 11:39:17,418 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2025-01-07 11:39:17,423 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2025-01-07 11:39:17,423 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2025-01-07 11:39:17,427 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2025-01-07 11:39:17,434 INFO The number of active nodes increment to 1.

2025-01-07 11:39:18,182 INFO Starts FSMCaller successfully.

2025-01-07 11:39:18,195 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service/snapshot.

2025-01-07 11:39:18,210 INFO Node <naming_persistent_service/nacos1:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 11:39:18,213 WARN RPC server is not started in RaftGroupService.

2025-01-07 11:39:18,213 INFO Start the RaftGroupService successfully.

2025-01-07 11:39:18,321 INFO Creating new channel to: nacos3:7848.

2025-01-07 11:39:18,324 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 11:39:18,410 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 11:39:18,410 INFO The channel nacos3:7848 has successfully established.

2025-01-07 11:39:18,719 INFO The number of active nodes increment to 2.

2025-01-07 11:39:18,791 INFO Creating new channel to: nacos1:7848.

2025-01-07 11:39:18,791 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 11:39:18,826 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 11:39:18,826 INFO The channel nacos1:7848 has successfully established.

2025-01-07 11:39:18,887 INFO Starts FSMCaller successfully.

2025-01-07 11:39:18,888 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2025-01-07 11:39:18,910 INFO Node <naming_persistent_service_v2/nacos1:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 11:39:18,931 WARN RPC server is not started in RaftGroupService.

2025-01-07 11:39:18,931 INFO Start the RaftGroupService successfully.

2025-01-07 11:39:18,988 INFO The number of active nodes increment to 3.

2025-01-07 11:39:19,304 INFO Starts FSMCaller successfully.

2025-01-07 11:39:19,307 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2025-01-07 11:39:19,318 INFO Creating new channel to: nacos2:7848.

2025-01-07 11:39:19,318 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 11:39:19,331 INFO Node <naming_instance_metadata/nacos1:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 11:39:19,353 WARN RPC server is not started in RaftGroupService.

2025-01-07 11:39:19,353 INFO Start the RaftGroupService successfully.

2025-01-07 11:39:19,369 INFO The number of active nodes increment to 4.

2025-01-07 11:39:19,376 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 11:39:19,376 INFO The channel nacos2:7848 has successfully established.

2025-01-07 11:39:19,599 INFO Starts FSMCaller successfully.

2025-01-07 11:39:19,600 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2025-01-07 11:39:19,616 INFO Node <naming_service_metadata/nacos1:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 11:39:19,625 WARN RPC server is not started in RaftGroupService.

2025-01-07 11:39:19,625 INFO Start the RaftGroupService successfully.

2025-01-07 11:39:24,080 INFO Node <naming_persistent_service/nacos1:7848> term 0 start preVote.

2025-01-07 11:39:24,081 INFO Creating new channel to: nacos2:7848.

2025-01-07 11:39:24,082 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 11:39:24,097 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 11:39:24,097 INFO The channel nacos2:7848 has successfully established.

2025-01-07 11:39:24,135 INFO Peer nacos2:7848 is connected.

2025-01-07 11:39:24,205 INFO Creating new channel to: nacos3:7848.

2025-01-07 11:39:24,205 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 11:39:24,224 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 11:39:24,225 INFO The channel nacos3:7848 has successfully established.

2025-01-07 11:39:24,267 INFO Peer nacos3:7848 is connected.

2025-01-07 11:39:24,267 INFO Node <naming_persistent_service_v2/nacos1:7848> term 0 start preVote.

2025-01-07 11:39:24,268 INFO Creating new channel to: nacos2:7848.

2025-01-07 11:39:24,269 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 11:39:24,284 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 11:39:24,284 INFO The channel nacos2:7848 has successfully established.

2025-01-07 11:39:24,317 INFO Peer nacos2:7848 is connected.

2025-01-07 11:39:24,367 INFO Node <naming_persistent_service/nacos1:7848> received PreVoteResponse from nacos2:7848, term=0, granted=true.

2025-01-07 11:39:24,368 INFO Node <naming_persistent_service/nacos1:7848> start vote and grant vote self, term=0.

2025-01-07 11:39:24,329 INFO Creating new channel to: nacos3:7848.

2025-01-07 11:39:24,368 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 11:39:24,409 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 11:39:24,409 INFO The channel nacos3:7848 has successfully established.

2025-01-07 11:39:24,471 INFO Peer nacos3:7848 is connected.

2025-01-07 11:39:24,475 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=nacos1:7848, cost time=87 ms

2025-01-07 11:39:24,477 WARN Node <naming_persistent_service/nacos1:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 11:39:24,478 INFO Node <naming_persistent_service/nacos1:7848> become leader of group, term=1, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 11:39:24,505 INFO Node <naming_persistent_service_v2/nacos1:7848> received PreVoteResponse from nacos2:7848, term=0, granted=true.

2025-01-07 11:39:24,505 INFO Node <naming_persistent_service_v2/nacos1:7848> start vote and grant vote self, term=0.

2025-01-07 11:39:24,552 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=nacos1:7848, cost time=7 ms

2025-01-07 11:39:24,607 INFO Node <naming_persistent_service_v2/nacos1:7848> become leader of group, term=1, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 11:39:24,623 INFO Replicator [group: naming_persistent_service_v2, peer: nacos2:7848, type: Follower] is started

2025-01-07 11:39:24,623 INFO Replicator [group: naming_persistent_service, peer: nacos2:7848, type: Follower] is started

2025-01-07 11:39:24,700 INFO Replicator [group: naming_persistent_service, peer: nacos3:7848, type: Follower] is started

2025-01-07 11:39:24,714 INFO Replicator [group: naming_persistent_service_v2, peer: nacos3:7848, type: Follower] is started

2025-01-07 11:39:24,730 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2025-01-07 11:39:24,757 WARN Node <naming_persistent_service/nacos1:7848> received invalid RequestVoteResponse from nacos2:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 11:39:24,759 WARN Node <naming_persistent_service_v2/nacos1:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_LEADER.

2025-01-07 11:39:24,769 WARN Node <naming_persistent_service_v2/nacos1:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 11:39:24,920 INFO Node <naming_instance_metadata/nacos1:7848> term 0 start preVote.

2025-01-07 11:39:24,921 INFO Creating new channel to: nacos2:7848.

2025-01-07 11:39:24,921 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 11:39:24,925 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 11:39:24,925 INFO The channel nacos2:7848 has successfully established.

2025-01-07 11:39:24,926 INFO Peer nacos2:7848 is connected.

2025-01-07 11:39:24,977 INFO Creating new channel to: nacos3:7848.

2025-01-07 11:39:24,977 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 11:39:24,989 INFO onLeaderStart: term=1.

2025-01-07 11:39:24,989 INFO onLeaderStart: term=1.

2025-01-07 11:39:24,993 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 11:39:24,993 INFO The channel nacos3:7848 has successfully established.

2025-01-07 11:39:24,999 INFO Peer nacos3:7848 is connected.

2025-01-07 11:39:25,055 INFO Node <naming_instance_metadata/nacos1:7848> received PreVoteResponse from nacos2:7848, term=0, granted=true.

2025-01-07 11:39:25,055 INFO Node <naming_instance_metadata/nacos1:7848> start vote and grant vote self, term=0.

2025-01-07 11:39:25,078 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=nacos1:7848, cost time=5 ms

2025-01-07 11:39:25,112 INFO Node <naming_instance_metadata/nacos1:7848> become leader of group, term=1, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 11:39:25,112 INFO Replicator [group: naming_instance_metadata, peer: nacos2:7848, type: Follower] is started

2025-01-07 11:39:25,120 INFO Replicator [group: naming_instance_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-07 11:39:25,179 WARN Node <naming_instance_metadata/nacos1:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_LEADER.

2025-01-07 11:39:25,183 WARN Node <naming_instance_metadata/nacos1:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 11:39:25,184 INFO onLeaderStart: term=1.

2025-01-07 11:39:25,415 INFO Node <naming_service_metadata/nacos1:7848> term 0 start preVote.

2025-01-07 11:39:25,416 INFO Creating new channel to: nacos2:7848.

2025-01-07 11:39:25,416 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 11:39:25,428 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 11:39:25,428 INFO The channel nacos2:7848 has successfully established.

2025-01-07 11:39:25,428 INFO Peer nacos2:7848 is connected.

2025-01-07 11:39:25,450 INFO Creating new channel to: nacos3:7848.

2025-01-07 11:39:25,451 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 11:39:25,460 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 11:39:25,460 INFO The channel nacos3:7848 has successfully established.

2025-01-07 11:39:25,464 INFO Peer nacos3:7848 is connected.

2025-01-07 11:39:25,476 INFO Node <naming_service_metadata/nacos1:7848> received PreVoteResponse from nacos2:7848, term=0, granted=true.

2025-01-07 11:39:25,477 INFO Node <naming_service_metadata/nacos1:7848> start vote and grant vote self, term=0.

2025-01-07 11:39:25,511 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=nacos1:7848, cost time=17 ms

2025-01-07 11:39:25,521 WARN Node <naming_service_metadata/nacos1:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 11:39:25,528 INFO Node <naming_service_metadata/nacos1:7848> become leader of group, term=1, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 11:39:25,528 INFO Replicator [group: naming_service_metadata, peer: nacos2:7848, type: Follower] is started

2025-01-07 11:39:25,534 INFO Replicator [group: naming_service_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-07 11:39:25,629 WARN Node <naming_service_metadata/nacos1:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 11:39:25,644 INFO onLeaderStart: term=1.

2025-01-07 11:47:05,871 WARN Fail to issue RPC to nacos2:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499992152s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos2/172.19.0.3:7848]]]], groupId=naming_service_metadata

2025-01-07 11:47:05,871 WARN Fail to issue RPC to nacos2:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499997429s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos2/172.19.0.3:7848]]]], groupId=naming_instance_metadata

2025-01-07 11:47:05,872 WARN Fail to issue RPC to nacos2:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499993819s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos2/172.19.0.3:7848]]]], groupId=naming_persistent_service_v2

2025-01-07 11:47:05,875 WARN Fail to issue RPC to nacos2:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499993165s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos2/172.19.0.3:7848]]]], groupId=naming_persistent_service

2025-01-07 11:56:08,250 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_1.

2025-01-07 11:56:08,251 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_1.

2025-01-07 12:00:18,765 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_1.

2025-01-07 12:00:18,765 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_1.

2025-01-07 12:00:23,447 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_1.

2025-01-07 12:00:23,447 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_1.

2025-01-07 12:01:29,847 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_1.

2025-01-07 12:01:29,847 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_1.

2025-01-07 12:09:25,444 INFO The channel nacos2:7848 is in state: IDLE.

2025-01-07 12:26:08,197 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 1 to 2, cost 1 ms.

2025-01-07 12:30:18,758 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 1 to 2, cost 0 ms.

2025-01-07 12:30:23,441 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 1 to 2, cost 0 ms.

2025-01-07 12:31:29,823 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 1 to 2, cost 0 ms.

2025-01-07 12:51:54,956 WARN Node <naming_service_metadata/nacos1:7848> steps down when alive nodes don't satisfy quorum, term=1, deadNodes=nacos3:7848,nacos2:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 12:51:54,956 WARN Fail to issue RPC to nacos2:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499996852s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos2/172.19.0.3:7848]]]], groupId=naming_service_metadata

2025-01-07 12:51:54,957 WARN Node <naming_persistent_service_v2/nacos1:7848> steps down when alive nodes don't satisfy quorum, term=1, deadNodes=nacos3:7848,nacos2:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 12:51:54,958 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 12:51:54,958 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 12:51:54,958 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_persistent_service_v2, waitId=1, type=Follower] is going to quit

2025-01-07 12:51:54,960 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service_v2, waitId=2, type=Follower] is going to quit

2025-01-07 12:51:54,956 WARN Node <naming_persistent_service/nacos1:7848> steps down when alive nodes don't satisfy quorum, term=1, deadNodes=nacos3:7848,nacos2:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 12:51:54,961 WARN Node <naming_instance_metadata/nacos1:7848> steps down when alive nodes don't satisfy quorum, term=1, deadNodes=nacos3:7848,nacos2:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 12:51:54,961 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_persistent_service, waitId=2, type=Follower] is going to quit

2025-01-07 12:51:54,961 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service, waitId=1, type=Follower] is going to quit

2025-01-07 12:51:54,961 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 12:51:54,962 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_service_metadata, waitId=1, type=Follower] is going to quit

2025-01-07 12:51:54,962 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_service_metadata, waitId=2, type=Follower] is going to quit

2025-01-07 12:51:54,962 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_instance_metadata, waitId=1, type=Follower] is going to quit

2025-01-07 12:51:54,962 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=1, lastLogIncluded=0, lastLogIndex=1, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_instance_metadata, waitId=2, type=Follower] is going to quit

2025-01-07 12:51:54,963 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 12:51:54,972 ERROR handleRequest group_id: "naming_instance_metadata"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 12:51:54,979 ERROR handleRequest group_id: "naming_instance_metadata"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 12:51:54,981 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 12:51:54,983 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 12:51:54,984 ERROR handleRequest group_id: "naming_persistent_service_v2"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 12:51:55,004 ERROR handleRequest group_id: "naming_instance_metadata"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 12:51:55,005 ERROR handleRequest group_id: "naming_persistent_service_v2"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 12:51:55,005 ERROR handleRequest group_id: "naming_service_metadata"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 12:51:55,003 ERROR handleRequest group_id: "naming_service_metadata"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 12:51:55,028 INFO Node <naming_persistent_service/nacos1:7848> received PreVoteRequest from nacos3:7848, term=2, currTerm=1, granted=true, requestLastLogId=LogId [index=1, term=1], lastLogId=LogId [index=1, term=1].

2025-01-07 12:51:55,033 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 12:51:55,035 INFO Node <naming_persistent_service/nacos1:7848> received RequestVoteRequest from nacos3:7848, term=2, currTerm=1.

2025-01-07 12:51:55,045 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 12:51:55,045 INFO The channel nacos2:7848 has successfully established.

2025-01-07 12:51:55,047 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=2, votedFor=0.0.0.0:0, cost time=13 ms

2025-01-07 12:51:55,051 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=2, votedFor=nacos3:7848, cost time=3 ms

2025-01-07 12:51:55,051 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 12:51:55,318 ERROR handleRequest group_id: "naming_persistent_service_v2"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 12:51:56,011 INFO Node <naming_persistent_service_v2/nacos1:7848> received PreVoteRequest from nacos3:7848, term=2, currTerm=1, granted=true, requestLastLogId=LogId [index=1, term=1], lastLogId=LogId [index=1, term=1].

2025-01-07 12:51:56,013 INFO Node <naming_persistent_service_v2/nacos1:7848> received RequestVoteRequest from nacos3:7848, term=2, currTerm=1.

2025-01-07 12:51:56,081 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=2, votedFor=0.0.0.0:0, cost time=68 ms

2025-01-07 12:51:56,104 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=2, votedFor=nacos3:7848, cost time=23 ms

2025-01-07 12:51:56,448 INFO Node <naming_instance_metadata/nacos1:7848> received PreVoteRequest from nacos3:7848, term=2, currTerm=1, granted=true, requestLastLogId=LogId [index=1, term=1], lastLogId=LogId [index=1, term=1].

2025-01-07 12:51:56,449 INFO Node <naming_instance_metadata/nacos1:7848> received RequestVoteRequest from nacos3:7848, term=2, currTerm=1.

2025-01-07 12:51:56,452 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=2, votedFor=0.0.0.0:0, cost time=2 ms

2025-01-07 12:51:56,454 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=2, votedFor=nacos3:7848, cost time=2 ms

2025-01-07 12:51:56,737 INFO Node <naming_service_metadata/nacos1:7848> received PreVoteRequest from nacos3:7848, term=2, currTerm=1, granted=true, requestLastLogId=LogId [index=1, term=1], lastLogId=LogId [index=1, term=1].

2025-01-07 12:51:56,740 INFO Node <naming_service_metadata/nacos1:7848> received RequestVoteRequest from nacos3:7848, term=2, currTerm=1.

2025-01-07 12:51:56,742 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=2, votedFor=0.0.0.0:0, cost time=3 ms

2025-01-07 12:51:56,745 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=2, votedFor=nacos3:7848, cost time=2 ms

2025-01-07 12:56:08,186 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_2.

2025-01-07 12:56:08,186 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_2.

2025-01-07 12:56:08,187 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_1.

2025-01-07 12:56:08,245 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 2 to 2, cost 0 ms.

2025-01-07 13:00:18,763 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_2.

2025-01-07 13:00:18,763 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_2.

2025-01-07 13:00:18,764 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_1.

2025-01-07 13:00:18,821 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 2 to 2, cost 0 ms.

2025-01-07 13:00:23,446 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_2.

2025-01-07 13:00:23,446 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_2.

2025-01-07 13:00:23,447 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_1.

2025-01-07 13:00:23,503 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 2 to 2, cost 0 ms.

2025-01-07 13:01:29,886 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_2.

2025-01-07 13:01:29,887 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_2.

2025-01-07 13:01:29,891 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_1.

2025-01-07 13:01:29,895 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 2 to 2, cost 0 ms.

2025-01-07 13:13:35,854 INFO Node <naming_persistent_service_v2/nacos1:7848> ignore PreVoteRequest from nacos2:7848, term=3, currTerm=2, because the leader nacos3:7848's lease is still valid.

2025-01-07 13:13:35,864 INFO Node <naming_persistent_service_v2/nacos1:7848> received RequestVoteRequest from nacos2:7848, term=3, currTerm=2.

2025-01-07 13:13:35,864 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=2, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 13:13:35,866 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=3, votedFor=0.0.0.0:0, cost time=1 ms

2025-01-07 13:13:35,868 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=3, votedFor=nacos2:7848, cost time=1 ms

2025-01-07 13:13:36,880 INFO Node <naming_persistent_service/nacos1:7848> ignore PreVoteRequest from nacos2:7848, term=3, currTerm=2, because the leader nacos3:7848's lease is still valid.

2025-01-07 13:13:36,882 INFO Node <naming_persistent_service/nacos1:7848> received RequestVoteRequest from nacos2:7848, term=3, currTerm=2.

2025-01-07 13:13:36,882 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=2, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 13:13:36,946 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=3, votedFor=0.0.0.0:0, cost time=63 ms

2025-01-07 13:13:36,950 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=3, votedFor=nacos2:7848, cost time=3 ms

2025-01-07 13:13:40,751 INFO Node <naming_instance_metadata/nacos1:7848> received PreVoteRequest from nacos3:7848, term=3, currTerm=2, granted=true, requestLastLogId=LogId [index=2, term=2], lastLogId=LogId [index=2, term=2].

2025-01-07 13:13:40,755 INFO Node <naming_instance_metadata/nacos1:7848> received RequestVoteRequest from nacos3:7848, term=3, currTerm=2.

2025-01-07 13:13:40,756 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=2, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 13:13:40,760 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=3, votedFor=0.0.0.0:0, cost time=4 ms

2025-01-07 13:13:40,763 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=3, votedFor=nacos3:7848, cost time=3 ms

2025-01-07 13:13:40,775 INFO Node <naming_service_metadata/nacos1:7848> received PreVoteRequest from nacos3:7848, term=3, currTerm=2, granted=true, requestLastLogId=LogId [index=2, term=2], lastLogId=LogId [index=2, term=2].

2025-01-07 13:13:40,777 INFO Node <naming_service_metadata/nacos1:7848> received RequestVoteRequest from nacos3:7848, term=3, currTerm=2.

2025-01-07 13:13:40,778 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=2, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 13:13:40,780 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=3, votedFor=0.0.0.0:0, cost time=4 ms

2025-01-07 13:13:40,783 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=3, votedFor=nacos3:7848, cost time=2 ms

2025-01-07 13:21:54,952 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-07 13:21:54,952 INFO The channel nacos2:7848 is in state: IDLE.

2025-01-07 13:21:54,952 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-07 13:21:54,953 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-07 13:21:54,957 INFO The channel nacos2:7848 is in state: IDLE.

2025-01-07 13:21:54,962 INFO The channel nacos2:7848 is in state: IDLE.

2025-01-07 13:21:54,963 INFO The channel nacos2:7848 is in state: IDLE.

2025-01-07 13:21:54,963 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-07 13:26:08,188 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_3.

2025-01-07 13:26:08,188 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_3.

2025-01-07 13:26:08,189 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_2.

2025-01-07 13:26:08,246 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 2 to 3, cost 0 ms.

2025-01-07 13:30:18,763 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_3.

2025-01-07 13:30:18,763 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_3.

2025-01-07 13:30:18,764 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_2.

2025-01-07 13:30:18,769 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 2 to 3, cost 0 ms.

2025-01-07 13:30:23,446 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_3.

2025-01-07 13:30:23,446 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_3.

2025-01-07 13:30:23,448 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_2.

2025-01-07 13:30:23,452 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 2 to 3, cost 0 ms.

2025-01-07 13:31:29,826 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_3.

2025-01-07 13:31:29,826 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_3.

2025-01-07 13:31:29,827 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_2.

2025-01-07 13:31:29,830 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 2 to 3, cost 1 ms.

2025-01-07 13:43:38,763 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-07 13:43:40,722 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 13:43:40,723 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 13:43:40,726 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 13:43:40,727 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 13:43:41,891 INFO Connection disconnected: /172.19.0.5:57950

2025-01-07 13:43:43,524 INFO Connection disconnected: /172.19.0.3:41082

2025-01-07 13:43:43,765 INFO Connection disconnected: /172.19.0.4:52566

2025-01-07 13:56:08,183 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 3 to 4, cost 0 ms.

2025-01-07 14:00:18,758 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 3 to 4, cost 0 ms.

2025-01-07 14:00:23,441 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 3 to 4, cost 0 ms.

2025-01-07 14:01:29,822 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 3 to 4, cost 1 ms.

2025-01-07 14:18:28,331 INFO Node <naming_service_metadata/nacos1:7848> term 3 start preVote.

2025-01-07 14:18:28,331 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 14:18:28,332 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=3, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos3:7848.]].

2025-01-07 14:18:28,348 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 14:18:28,358 INFO Node <naming_persistent_service/nacos1:7848> ignore PreVoteRequest from nacos3:7848, term=4, currTerm=3, because the leader nacos2:7848's lease is still valid.

2025-01-07 14:18:28,359 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 14:18:28,359 INFO The channel nacos2:7848 has successfully established.

2025-01-07 14:18:28,359 INFO Peer nacos2:7848 is connected.

2025-01-07 14:18:28,364 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 14:18:28,383 INFO Node <naming_service_metadata/nacos1:7848> received PreVoteResponse from nacos2:7848, term=3, granted=true.

2025-01-07 14:18:28,383 INFO Node <naming_service_metadata/nacos1:7848> start vote and grant vote self, term=3.

2025-01-07 14:18:28,392 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 14:18:28,392 INFO The channel nacos1:7848 has successfully established.

2025-01-07 14:18:28,398 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 14:18:28,398 INFO The channel nacos3:7848 has successfully established.

2025-01-07 14:18:28,399 INFO Peer nacos3:7848 is connected.

2025-01-07 14:18:28,404 INFO Node <naming_persistent_service_v2/nacos1:7848> ignore PreVoteRequest from nacos3:7848, term=4, currTerm=3, because the leader nacos2:7848's lease is still valid.

2025-01-07 14:18:28,421 INFO Node <naming_persistent_service_v2/nacos1:7848> received RequestVoteRequest from nacos3:7848, term=4, currTerm=3.

2025-01-07 14:18:28,437 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=4, votedFor=nacos1:7848, cost time=47 ms

2025-01-07 14:18:28,438 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=3, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-07 14:18:28,441 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=4, votedFor=0.0.0.0:0, cost time=10 ms

2025-01-07 14:18:28,443 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos2:7848, term=3, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 14:18:28,443 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=4, votedFor=nacos3:7848, cost time=2 ms

2025-01-07 14:18:28,445 WARN Node <naming_service_metadata/nacos1:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 14:18:28,446 INFO Node <naming_service_metadata/nacos1:7848> become leader of group, term=4, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 14:18:28,446 INFO Replicator [group: naming_service_metadata, peer: nacos2:7848, type: Follower] is started

2025-01-07 14:18:28,446 INFO Replicator [group: naming_service_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-07 14:18:28,455 WARN Node <naming_service_metadata/nacos1:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 14:18:28,462 INFO onLeaderStart: term=4.

2025-01-07 14:18:31,378 INFO Node <naming_instance_metadata/nacos1:7848> ignore PreVoteRequest from nacos2:7848, term=4, currTerm=3, because the leader nacos3:7848's lease is still valid.

2025-01-07 14:18:31,379 INFO Node <naming_instance_metadata/nacos1:7848> received RequestVoteRequest from nacos2:7848, term=4, currTerm=3.

2025-01-07 14:18:31,380 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=3, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 14:18:31,383 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=4, votedFor=0.0.0.0:0, cost time=4 ms

2025-01-07 14:18:31,385 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=4, votedFor=nacos2:7848, cost time=2 ms

2025-01-07 14:26:08,188 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_4.

2025-01-07 14:26:08,188 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_4.

2025-01-07 14:26:08,189 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_3.

2025-01-07 14:26:08,192 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 4 to 4, cost 1 ms.

2025-01-07 14:30:18,764 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_4.

2025-01-07 14:30:18,764 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_4.

2025-01-07 14:30:18,765 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_3.

2025-01-07 14:30:18,824 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 4 to 4, cost 1 ms.

2025-01-07 14:30:23,448 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_4.

2025-01-07 14:30:23,448 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_4.

2025-01-07 14:30:23,449 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_3.

2025-01-07 14:30:23,452 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 4 to 4, cost 0 ms.

2025-01-07 14:31:29,822 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 4 to 4, cost 1 ms.

2025-01-07 14:40:13,076 INFO Node <naming_instance_metadata/nacos1:7848> ignore PreVoteRequest from nacos3:7848, term=5, currTerm=4, because the leader nacos2:7848's lease is still valid.

2025-01-07 14:48:33,344 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos1:7848 -> nacos2:7848]

2025-01-07 14:48:33,345 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos1:7848 -> nacos2:7848]

2025-01-07 14:48:33,346 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos1:7848 -> nacos2:7848]

2025-01-07 14:48:33,371 INFO Connection disconnected: /172.19.0.5:40464

2025-01-07 14:48:33,375 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 14:48:33,376 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 14:48:33,378 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 14:56:08,184 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 4 to 5, cost 1 ms.

2025-01-07 15:00:18,772 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 4 to 5, cost 0 ms.

2025-01-07 15:00:23,461 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 4 to 5, cost 0 ms.

2025-01-07 15:01:29,844 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 4 to 4, cost 0 ms.

2025-01-07 15:10:18,079 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 15:26:08,212 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 5 to 5, cost 0 ms.

2025-01-07 15:30:18,778 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 5 to 5, cost 1 ms.

2025-01-07 15:30:23,444 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 5 to 5, cost 1 ms.

2025-01-07 15:31:29,823 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 4 to 4, cost 1 ms.

2025-01-07 15:45:06,192 INFO Node <naming_instance_metadata/nacos1:7848> term 4 start preVote.

2025-01-07 15:45:06,192 INFO Node <naming_persistent_service/nacos1:7848> term 3 start preVote.

2025-01-07 15:45:06,193 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos2:7848, term=3, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos2:7848.]].

2025-01-07 15:45:06,193 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 15:45:06,197 WARN Node <naming_service_metadata/nacos1:7848> steps down when alive nodes don't satisfy quorum, term=4, deadNodes=nacos3:7848,nacos2:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 15:45:06,197 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=4, lastLogIncluded=0, lastLogIndex=4, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_service_metadata, waitId=3, type=Follower] is going to quit

2025-01-07 15:45:06,197 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 15:45:06,200 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos2:7848, term=4, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos2:7848.]].

2025-01-07 15:45:06,201 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=4, lastLogIncluded=0, lastLogIndex=4, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_service_metadata, waitId=4, type=Follower] is going to quit

2025-01-07 15:45:06,201 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 15:45:06,206 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 15:45:06,206 INFO Node <naming_persistent_service_v2/nacos1:7848> term 4 start preVote.

2025-01-07 15:45:06,206 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 15:45:06,212 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 15:45:06,211 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=4, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos3:7848.]].

2025-01-07 15:45:06,213 ERROR handleRequest group_id: "naming_service_metadata"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 15:45:06,215 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 15:45:06,218 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 15:45:06,218 INFO The channel nacos2:7848 has successfully established.

2025-01-07 15:45:06,220 INFO Peer nacos2:7848 is connected.

2025-01-07 15:45:06,224 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 15:45:06,224 INFO The channel nacos3:7848 has successfully established.

2025-01-07 15:45:06,224 INFO Peer nacos3:7848 is connected.

2025-01-07 15:45:06,226 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 15:45:06,226 INFO The channel nacos3:7848 has successfully established.

2025-01-07 15:45:06,226 INFO Peer nacos3:7848 is connected.

2025-01-07 15:45:06,226 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 15:45:06,226 INFO The channel nacos2:7848 has successfully established.

2025-01-07 15:45:06,226 INFO Peer nacos2:7848 is connected.

2025-01-07 15:45:06,235 INFO Node <naming_persistent_service_v2/nacos1:7848> received PreVoteResponse from nacos3:7848, term=4, granted=true.

2025-01-07 15:45:06,235 INFO Node <naming_persistent_service_v2/nacos1:7848> start vote and grant vote self, term=4.

2025-01-07 15:45:06,235 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=4, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-07 15:45:06,235 INFO Node <naming_instance_metadata/nacos1:7848> ignore PreVoteRequest from nacos3:7848, term=5, currTerm=4, because the leader nacos2:7848's lease is still valid.

2025-01-07 15:45:06,241 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 15:45:06,241 INFO The channel nacos3:7848 has successfully established.

2025-01-07 15:45:06,241 ERROR handleRequest group_id: "naming_service_metadata"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 15:45:06,241 INFO Node <naming_persistent_service/nacos1:7848> received PreVoteResponse from nacos3:7848, term=3, granted=false.

2025-01-07 15:45:06,241 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 15:45:06,242 INFO The channel nacos2:7848 has successfully established.

2025-01-07 15:45:06,242 INFO Node <naming_persistent_service/nacos1:7848> received PreVoteResponse from nacos2:7848, term=3, granted=true.

2025-01-07 15:45:06,242 INFO Node <naming_persistent_service/nacos1:7848> start vote and grant vote self, term=3.

2025-01-07 15:45:06,242 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos2:7848, term=3, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-07 15:45:06,242 INFO Peer nacos3:7848 is connected.

2025-01-07 15:45:06,242 INFO Node <naming_instance_metadata/nacos1:7848> received RequestVoteRequest from nacos3:7848, term=5, currTerm=4.

2025-01-07 15:45:06,242 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos2:7848, term=4, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 15:45:06,242 INFO Peer nacos2:7848 is connected.

2025-01-07 15:45:06,245 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=5, votedFor=0.0.0.0:0, cost time=2 ms

2025-01-07 15:45:06,248 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=5, votedFor=nacos3:7848, cost time=3 ms

2025-01-07 15:45:06,248 WARN Node <naming_instance_metadata/nacos1:7848> received invalid PreVoteResponse from nacos3:7848, term=4, currTerm=5.

2025-01-07 15:45:06,262 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=5, votedFor=nacos1:7848, cost time=26 ms

2025-01-07 15:45:06,262 WARN Node <naming_persistent_service_v2/nacos1:7848> received invalid PreVoteResponse from nacos2:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 15:45:06,262 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=4, votedFor=nacos1:7848, cost time=19 ms

2025-01-07 15:45:06,262 INFO Node <naming_persistent_service/nacos1:7848> become leader of group, term=4, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 15:45:06,262 INFO Replicator [group: naming_persistent_service, peer: nacos2:7848, type: Follower] is started

2025-01-07 15:45:06,262 INFO Node <naming_persistent_service_v2/nacos1:7848> become leader of group, term=5, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 15:45:06,263 INFO Replicator [group: naming_persistent_service_v2, peer: nacos2:7848, type: Follower] is started

2025-01-07 15:45:06,263 INFO Replicator [group: naming_persistent_service, peer: nacos3:7848, type: Follower] is started

2025-01-07 15:45:06,264 INFO Replicator [group: naming_persistent_service_v2, peer: nacos3:7848, type: Follower] is started

2025-01-07 15:45:06,275 WARN Node <naming_persistent_service_v2/nacos1:7848> received invalid RequestVoteResponse from nacos2:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 15:45:06,278 WARN Node <naming_persistent_service/nacos1:7848> received invalid RequestVoteResponse from nacos2:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 15:45:06,278 WARN Node <naming_instance_metadata/nacos1:7848> received invalid PreVoteResponse from nacos2:7848, term=4, currTerm=5.

2025-01-07 15:45:06,279 INFO onLeaderStart: term=5.

2025-01-07 15:45:06,281 INFO onLeaderStart: term=4.

2025-01-07 15:45:07,227 INFO Node <naming_service_metadata/nacos1:7848> received PreVoteRequest from nacos2:7848, term=5, currTerm=4, granted=true, requestLastLogId=LogId [index=4, term=4], lastLogId=LogId [index=4, term=4].

2025-01-07 15:45:07,229 INFO Node <naming_service_metadata/nacos1:7848> received RequestVoteRequest from nacos2:7848, term=5, currTerm=4.

2025-01-07 15:45:07,232 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=5, votedFor=0.0.0.0:0, cost time=3 ms

2025-01-07 15:45:07,292 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=5, votedFor=nacos2:7848, cost time=59 ms

2025-01-07 15:56:08,189 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_5.

2025-01-07 15:56:08,190 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_5.

2025-01-07 15:56:08,190 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_4.

2025-01-07 15:56:08,248 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 5 to 5, cost 1 ms.

2025-01-07 16:00:18,768 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_5.

2025-01-07 16:00:18,768 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_5.

2025-01-07 16:00:18,769 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_4.

2025-01-07 16:00:18,823 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 5 to 5, cost 1 ms.

2025-01-07 16:00:23,450 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_5.

2025-01-07 16:00:23,450 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_5.

2025-01-07 16:00:23,451 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_4.

2025-01-07 16:00:23,454 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 5 to 5, cost 0 ms.

2025-01-07 16:01:29,850 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_4.

2025-01-07 16:01:29,850 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_4.

2025-01-07 16:01:29,851 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_3.

2025-01-07 16:01:29,854 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 4 to 4, cost 0 ms.

2025-01-07 16:06:40,896 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499991792s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_persistent_service

2025-01-07 16:06:40,896 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499991072s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_persistent_service_v2

2025-01-07 16:06:41,900 WARN Fail to issue RPC to nacos2:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499989033s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos2/172.19.0.3:7848]]]], groupId=naming_persistent_service

2025-01-07 16:06:41,901 WARN Fail to issue RPC to nacos2:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499990046s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos2/172.19.0.3:7848]]]], groupId=naming_persistent_service_v2

2025-01-07 16:06:43,881 WARN Node <naming_persistent_service_v2/nacos1:7848> steps down when alive nodes don't satisfy quorum, term=5, deadNodes=nacos3:7848,nacos2:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 16:06:47,029 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=5, lastLogIncluded=0, lastLogIndex=5, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_persistent_service_v2, waitId=4, type=Follower] is going to quit

2025-01-07 16:06:47,029 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=5, lastLogIncluded=0, lastLogIndex=5, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service_v2, waitId=3, type=Follower] is going to quit

2025-01-07 16:06:43,881 WARN Node <naming_persistent_service/nacos1:7848> steps down when alive nodes don't satisfy quorum, term=4, deadNodes=nacos3:7848,nacos2:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 16:06:47,032 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=4, lastLogIncluded=0, lastLogIndex=4, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_persistent_service, waitId=4, type=Follower] is going to quit

2025-01-07 16:06:47,032 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=4, lastLogIncluded=0, lastLogIndex=4, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service, waitId=3, type=Follower] is going to quit

2025-01-07 16:06:46,151 INFO Node <naming_instance_metadata/nacos1:7848> term 5 start preVote.

2025-01-07 16:06:47,032 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 16:06:46,151 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=5, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos3:7848.]].

2025-01-07 16:06:47,029 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 16:06:47,033 ERROR handleRequest group_id: "naming_persistent_service_v2"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 16:06:47,034 ERROR handleRequest group_id: "naming_persistent_service_v2"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 16:06:47,034 INFO Node <naming_instance_metadata/nacos1:7848> received PreVoteRequest from nacos2:7848, term=6, currTerm=5, granted=true, requestLastLogId=LogId [index=5, term=5], lastLogId=LogId [index=5, term=5].

2025-01-07 16:06:47,040 INFO Node <naming_instance_metadata/nacos1:7848> received PreVoteResponse from nacos3:7848, term=5, granted=true.

2025-01-07 16:06:47,040 INFO Node <naming_instance_metadata/nacos1:7848> start vote and grant vote self, term=5.

2025-01-07 16:06:47,042 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=6, votedFor=nacos1:7848, cost time=2 ms

2025-01-07 16:06:47,038 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 16:06:47,050 INFO Node <naming_instance_metadata/nacos1:7848> become leader of group, term=6, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 16:06:47,050 INFO Replicator [group: naming_instance_metadata, peer: nacos2:7848, type: Follower] is started

2025-01-07 16:06:47,051 INFO Replicator [group: naming_instance_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-07 16:06:47,052 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 16:06:47,054 INFO Node <naming_instance_metadata/nacos1:7848> received RequestVoteRequest from nacos2:7848, term=6, currTerm=6.

2025-01-07 16:06:47,057 INFO Node <naming_persistent_service/nacos1:7848> received PreVoteRequest from nacos2:7848, term=5, currTerm=4, granted=true, requestLastLogId=LogId [index=4, term=4], lastLogId=LogId [index=4, term=4].

2025-01-07 16:06:47,059 ERROR handleRequest group_id: "naming_persistent_service_v2"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 16:06:47,059 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 16:06:47,064 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 16:06:47,064 INFO Node <naming_persistent_service_v2/nacos1:7848> received PreVoteRequest from nacos2:7848, term=6, currTerm=5, granted=true, requestLastLogId=LogId [index=5, term=5], lastLogId=LogId [index=5, term=5].

2025-01-07 16:06:47,081 INFO onLeaderStart: term=6.

2025-01-07 16:06:47,081 WARN Node <naming_instance_metadata/nacos1:7848> received invalid PreVoteResponse from nacos2:7848, state not in STATE_FOLLOWER but STATE_LEADER.

2025-01-07 16:06:47,083 WARN Node <naming_instance_metadata/nacos1:7848> received invalid RequestVoteResponse from nacos2:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 16:06:47,087 INFO Node <naming_persistent_service/nacos1:7848> received RequestVoteRequest from nacos2:7848, term=5, currTerm=4.

2025-01-07 16:06:47,089 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=5, votedFor=0.0.0.0:0, cost time=2 ms

2025-01-07 16:06:47,090 INFO Node <naming_persistent_service_v2/nacos1:7848> received RequestVoteRequest from nacos2:7848, term=6, currTerm=5.

2025-01-07 16:06:47,168 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=6, votedFor=0.0.0.0:0, cost time=7 ms

2025-01-07 16:06:47,169 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=5, votedFor=nacos2:7848, cost time=80 ms

2025-01-07 16:06:47,171 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=6, votedFor=nacos2:7848, cost time=3 ms

2025-01-07 16:15:06,182 INFO The channel nacos2:7848 is in state: IDLE.

2025-01-07 16:15:06,203 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-07 16:15:11,201 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 16:15:11,202 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 16:26:08,190 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_6.

2025-01-07 16:26:08,191 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_6.

2025-01-07 16:26:08,192 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_5.

2025-01-07 16:26:08,213 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 5 to 6, cost 0 ms.

2025-01-07 16:28:21,435 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499990966s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_instance_metadata

2025-01-07 16:28:28,260 INFO Node <naming_instance_metadata/nacos1:7848> ignore PreVoteRequest from nacos3:7848, term=7, currTerm=6, because the leader nacos1:7848's lease is still valid.

2025-01-07 16:28:28,279 INFO Node <naming_persistent_service_v2/nacos1:7848> ignore PreVoteRequest from nacos3:7848, term=7, currTerm=6, because the leader nacos2:7848's lease is still valid.

2025-01-07 16:28:28,283 INFO Node <naming_persistent_service/nacos1:7848> ignore PreVoteRequest from nacos3:7848, term=6, currTerm=5, because the leader nacos2:7848's lease is still valid.

2025-01-07 16:28:28,288 INFO Node <naming_service_metadata/nacos1:7848> ignore PreVoteRequest from nacos3:7848, term=6, currTerm=5, because the leader nacos2:7848's lease is still valid.

2025-01-07 16:30:18,782 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 5 to 6, cost 0 ms.

2025-01-07 16:30:23,469 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_6.

2025-01-07 16:30:23,469 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_6.

2025-01-07 16:30:23,470 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_5.

2025-01-07 16:30:23,479 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 5 to 6, cost 0 ms.

2025-01-07 16:31:29,831 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_5.

2025-01-07 16:31:29,831 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_5.

2025-01-07 16:31:29,832 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_4.

2025-01-07 16:31:29,836 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 4 to 5, cost 0 ms.

2025-01-07 16:36:41,901 INFO The channel nacos2:7848 is in state: IDLE.

2025-01-07 16:36:47,032 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-07 16:36:47,032 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-07 16:36:47,058 INFO The channel nacos2:7848 is in state: IDLE.

2025-01-07 16:36:52,084 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos1:7848 -> nacos2:7848]

2025-01-07 16:36:52,084 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos1:7848 -> nacos2:7848]

2025-01-07 16:36:52,085 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos1:7848 -> nacos2:7848]

2025-01-07 16:36:52,086 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos1:7848 -> nacos2:7848]

2025-01-07 16:56:08,202 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 6 to 7, cost 0 ms.

2025-01-07 16:58:33,313 INFO Connection disconnected: /172.19.0.5:49924

2025-01-07 16:58:33,314 INFO Connection disconnected: /172.19.0.5:49930

2025-01-07 16:58:33,318 INFO Connection disconnected: /172.19.0.5:49944

2025-01-07 17:00:18,773 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 6 to 6, cost 0 ms.

2025-01-07 17:00:23,450 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 6 to 7, cost 0 ms.

2025-01-07 17:01:29,831 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 5 to 6, cost 1 ms.

2025-01-07 17:26:08,186 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 7 to 7, cost 0 ms.

2025-01-07 17:30:18,763 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 6 to 6, cost 0 ms.

2025-01-07 17:30:23,467 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 7 to 7, cost 1 ms.

2025-01-07 17:31:29,843 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 6 to 6, cost 0 ms.

2025-01-07 17:56:08,199 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 7 to 7, cost 0 ms.

2025-01-07 18:00:18,783 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 6 to 6, cost 0 ms.

2025-01-07 18:00:23,452 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 7 to 7, cost 0 ms.

2025-01-07 18:01:29,839 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 6 to 6, cost 1 ms.

2025-01-07 18:26:08,270 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 7 to 7, cost 0 ms.

2025-01-07 18:30:18,786 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 6 to 6, cost 0 ms.

2025-01-07 18:30:23,469 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 7 to 7, cost 1 ms.

2025-01-07 18:31:29,841 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 6 to 6, cost 1 ms.

2025-01-07 18:56:08,209 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 7 to 7, cost 0 ms.

2025-01-07 19:00:18,764 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 6 to 6, cost 0 ms.

2025-01-07 19:00:23,447 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 7 to 7, cost 1 ms.

2025-01-07 19:01:29,847 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 6 to 6, cost 0 ms.

2025-01-07 19:26:08,203 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 7 to 7, cost 0 ms.

2025-01-07 19:30:18,763 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 6 to 6, cost 1 ms.

2025-01-07 19:30:23,447 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 7 to 7, cost 1 ms.

2025-01-07 19:31:29,843 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 6 to 6, cost 0 ms.

2025-01-07 19:43:07,952 INFO Node <naming_service_metadata/nacos1:7848> term 5 start preVote.

2025-01-07 19:43:07,952 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 19:43:07,953 INFO Node <naming_persistent_service_v2/nacos1:7848> term 6 start preVote.

2025-01-07 19:43:07,952 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos2:7848, term=5, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos2:7848.]].

2025-01-07 19:43:07,953 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 19:43:07,953 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos2:7848, term=6, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos2:7848.]].

2025-01-07 19:43:07,954 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 19:43:07,956 WARN Node <naming_instance_metadata/nacos1:7848> steps down when alive nodes don't satisfy quorum, term=6, deadNodes=nacos3:7848,nacos2:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 19:43:07,956 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=6, lastLogIncluded=0, lastLogIndex=6, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_instance_metadata, waitId=4, type=Follower] is going to quit

2025-01-07 19:43:07,956 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 19:43:07,956 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=6, lastLogIncluded=0, lastLogIndex=6, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_instance_metadata, waitId=3, type=Follower] is going to quit

2025-01-07 19:43:07,964 ERROR handleRequest group_id: "naming_instance_metadata"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 19:43:07,966 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 19:43:07,968 INFO Node <naming_instance_metadata/nacos1:7848> received PreVoteRequest from nacos2:7848, term=7, currTerm=6, granted=true, requestLastLogId=LogId [index=6, term=6], lastLogId=LogId [index=6, term=6].

2025-01-07 19:43:07,975 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 19:43:07,975 INFO The channel nacos3:7848 has successfully established.

2025-01-07 19:43:07,975 INFO Peer nacos3:7848 is connected.

2025-01-07 19:43:07,976 INFO Node <naming_instance_metadata/nacos1:7848> received RequestVoteRequest from nacos2:7848, term=7, currTerm=6.

2025-01-07 19:43:07,977 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 19:43:07,978 INFO The channel nacos2:7848 has successfully established.

2025-01-07 19:43:07,978 INFO Peer nacos2:7848 is connected.

2025-01-07 19:43:07,979 INFO Node <naming_service_metadata/nacos1:7848> received PreVoteResponse from nacos3:7848, term=5, granted=false.

2025-01-07 19:43:07,979 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=7, votedFor=0.0.0.0:0, cost time=2 ms

2025-01-07 19:43:07,981 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=7, votedFor=nacos2:7848, cost time=2 ms

2025-01-07 19:43:07,985 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 19:43:07,985 INFO The channel nacos2:7848 has successfully established.

2025-01-07 19:43:07,985 INFO Peer nacos2:7848 is connected.

2025-01-07 19:43:07,987 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 19:43:07,987 INFO The channel nacos3:7848 has successfully established.

2025-01-07 19:43:07,988 INFO Peer nacos3:7848 is connected.

2025-01-07 19:43:07,989 INFO Node <naming_persistent_service_v2/nacos1:7848> received PreVoteResponse from nacos2:7848, term=6, granted=false.

2025-01-07 19:43:07,989 INFO Node <naming_persistent_service_v2/nacos1:7848> received PreVoteResponse from nacos3:7848, term=6, granted=false.

2025-01-07 19:43:07,991 INFO Node <naming_service_metadata/nacos1:7848> received PreVoteResponse from nacos2:7848, term=5, granted=false.

2025-01-07 19:56:08,193 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_7.

2025-01-07 19:56:08,193 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_7.

2025-01-07 19:56:08,194 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_6.

2025-01-07 19:56:08,217 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 7 to 7, cost 0 ms.

2025-01-07 20:00:18,764 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 6 to 6, cost 0 ms.

2025-01-07 20:00:23,448 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 7 to 7, cost 1 ms.

2025-01-07 20:01:29,830 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 6 to 6, cost 0 ms.

2025-01-07 20:04:44,094 INFO Node <naming_service_metadata/nacos1:7848> term 5 start preVote.

2025-01-07 20:04:44,094 INFO Node <naming_instance_metadata/nacos1:7848> term 7 start preVote.

2025-01-07 20:04:44,094 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos2:7848, term=5, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos2:7848.]].

2025-01-07 20:04:44,094 INFO Node <naming_persistent_service/nacos1:7848> term 5 start preVote.

2025-01-07 20:04:44,094 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 20:04:44,095 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos2:7848, term=7, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos2:7848.]].

2025-01-07 20:04:44,095 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos2:7848, term=5, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos2:7848.]].

2025-01-07 20:04:44,095 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 20:04:44,102 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 20:04:44,102 INFO The channel nacos2:7848 has successfully established.

2025-01-07 20:04:44,102 INFO Peer nacos2:7848 is connected.

2025-01-07 20:04:44,102 INFO Node <naming_service_metadata/nacos1:7848> received PreVoteResponse from nacos3:7848, term=5, granted=false.

2025-01-07 20:04:44,103 INFO Node <naming_instance_metadata/nacos1:7848> received PreVoteResponse from nacos2:7848, term=7, granted=true.

2025-01-07 20:04:44,103 INFO Node <naming_instance_metadata/nacos1:7848> start vote and grant vote self, term=7.

2025-01-07 20:04:44,114 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=8, votedFor=nacos1:7848, cost time=3 ms

2025-01-07 20:04:44,115 INFO Node <naming_instance_metadata/nacos1:7848> become leader of group, term=8, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 20:04:44,115 INFO Replicator [group: naming_instance_metadata, peer: nacos2:7848, type: Follower] is started

2025-01-07 20:04:44,116 INFO Node <naming_persistent_service/nacos1:7848> received PreVoteResponse from nacos2:7848, term=5, granted=false.

2025-01-07 20:04:44,116 INFO Replicator [group: naming_instance_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-07 20:04:44,118 WARN Node <naming_instance_metadata/nacos1:7848> ignore stale AppendEntriesRequest from nacos2:7848, term=7, currTerm=8.

2025-01-07 20:04:44,118 WARN Node <naming_instance_metadata/nacos1:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_LEADER.

2025-01-07 20:04:44,127 INFO Node <naming_service_metadata/nacos1:7848> received PreVoteResponse from nacos2:7848, term=5, granted=true.

2025-01-07 20:04:44,127 WARN Node <naming_instance_metadata/nacos1:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 20:04:44,127 INFO Node <naming_service_metadata/nacos1:7848> start vote and grant vote self, term=5.

2025-01-07 20:04:44,128 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos2:7848, term=5, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-07 20:04:44,129 INFO onLeaderStart: term=8.

2025-01-07 20:04:44,133 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 20:04:44,133 INFO The channel nacos3:7848 has successfully established.

2025-01-07 20:04:44,134 INFO Peer nacos3:7848 is connected.

2025-01-07 20:04:44,138 INFO Node <naming_persistent_service/nacos1:7848> received PreVoteResponse from nacos3:7848, term=5, granted=false.

2025-01-07 20:04:44,140 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=6, votedFor=nacos1:7848, cost time=10 ms

2025-01-07 20:04:44,140 INFO Node <naming_service_metadata/nacos1:7848> become leader of group, term=6, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 20:04:44,140 INFO Replicator [group: naming_service_metadata, peer: nacos2:7848, type: Follower] is started

2025-01-07 20:04:44,141 INFO Replicator [group: naming_service_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-07 20:04:44,143 WARN Node <naming_service_metadata/nacos1:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 20:04:44,149 INFO onLeaderStart: term=6.

2025-01-07 20:13:07,983 INFO The channel nacos2:7848 is in state: IDLE.

2025-01-07 20:13:07,989 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-07 20:26:08,198 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_8.

2025-01-07 20:26:08,198 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_8.

2025-01-07 20:26:08,199 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_7.

2025-01-07 20:26:08,250 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 7 to 8, cost 1 ms.

2025-01-07 20:26:21,439 INFO Node <naming_persistent_service/nacos1:7848> term 5 start preVote.

2025-01-07 20:26:21,440 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos2:7848, term=5, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos2:7848.]].

2025-01-07 20:26:21,446 INFO Node <naming_persistent_service/nacos1:7848> received PreVoteResponse from nacos3:7848, term=5, granted=true.

2025-01-07 20:26:21,446 INFO Node <naming_persistent_service/nacos1:7848> start vote and grant vote self, term=5.

2025-01-07 20:26:21,449 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=6, votedFor=nacos1:7848, cost time=2 ms

2025-01-07 20:26:21,450 WARN Fail to issue RPC to nacos2:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499990436s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos2/172.19.0.3:7848]]]], groupId=naming_instance_metadata

2025-01-07 20:26:21,451 WARN Node <naming_service_metadata/nacos1:7848> steps down when alive nodes don't satisfy quorum, term=6, deadNodes=nacos3:7848,nacos2:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 20:26:21,451 WARN Node <naming_instance_metadata/nacos1:7848> steps down when alive nodes don't satisfy quorum, term=8, deadNodes=nacos3:7848,nacos2:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 20:26:21,451 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=6, lastLogIncluded=0, lastLogIndex=6, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_service_metadata, waitId=5, type=Follower] is going to quit

2025-01-07 20:26:21,451 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=8, lastLogIncluded=0, lastLogIndex=8, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_instance_metadata, waitId=5, type=Follower] is going to quit

2025-01-07 20:26:21,451 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=6, lastLogIncluded=0, lastLogIndex=6, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_service_metadata, waitId=6, type=Follower] is going to quit

2025-01-07 20:26:21,452 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=8, lastLogIncluded=0, lastLogIndex=8, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_instance_metadata, waitId=6, type=Follower] is going to quit

2025-01-07 20:26:21,452 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 20:26:21,452 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 20:26:21,458 ERROR handleRequest group_id: "naming_service_metadata"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 20:26:21,459 INFO Node <naming_persistent_service_v2/nacos1:7848> ignore PreVoteRequest from nacos3:7848, term=7, currTerm=6, because the leader nacos2:7848's lease is still valid.

2025-01-07 20:26:21,472 INFO Node <naming_instance_metadata/nacos1:7848> received PreVoteRequest from nacos3:7848, term=9, currTerm=8, granted=true, requestLastLogId=LogId [index=8, term=8], lastLogId=LogId [index=8, term=8].

2025-01-07 20:26:21,478 INFO Node <naming_persistent_service/nacos1:7848> become leader of group, term=6, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 20:26:21,478 INFO Replicator [group: naming_persistent_service, peer: nacos2:7848, type: Follower] is started

2025-01-07 20:26:21,478 INFO Replicator [group: naming_persistent_service, peer: nacos3:7848, type: Follower] is started

2025-01-07 20:26:21,486 INFO Node <naming_persistent_service_v2/nacos1:7848> received RequestVoteRequest from nacos3:7848, term=7, currTerm=6.

2025-01-07 20:26:21,487 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos2:7848, term=6, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 20:26:21,488 INFO Node <naming_instance_metadata/nacos1:7848> received RequestVoteRequest from nacos3:7848, term=9, currTerm=8.

2025-01-07 20:26:21,489 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=7, votedFor=0.0.0.0:0, cost time=2 ms

2025-01-07 20:26:21,491 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=7, votedFor=nacos3:7848, cost time=2 ms

2025-01-07 20:26:21,493 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=9, votedFor=0.0.0.0:0, cost time=4 ms

2025-01-07 20:26:21,494 WARN Node <naming_persistent_service/nacos1:7848> received invalid PreVoteResponse from nacos2:7848, state not in STATE_FOLLOWER but STATE_LEADER.

2025-01-07 20:26:21,495 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=9, votedFor=nacos3:7848, cost time=2 ms

2025-01-07 20:26:21,501 ERROR handleRequest group_id: "naming_service_metadata"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 20:26:21,511 ERROR handleRequest group_id: "naming_instance_metadata"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 20:26:21,512 WARN Node <naming_persistent_service/nacos1:7848> received invalid RequestVoteResponse from nacos2:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 20:26:21,523 INFO onLeaderStart: term=6.

2025-01-07 20:26:21,616 INFO Node <naming_service_metadata/nacos1:7848> received PreVoteRequest from nacos3:7848, term=7, currTerm=6, granted=true, requestLastLogId=LogId [index=6, term=6], lastLogId=LogId [index=6, term=6].

2025-01-07 20:26:21,623 INFO Node <naming_service_metadata/nacos1:7848> received RequestVoteRequest from nacos3:7848, term=7, currTerm=6.

2025-01-07 20:26:21,625 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=7, votedFor=0.0.0.0:0, cost time=3 ms

2025-01-07 20:26:21,628 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=7, votedFor=nacos3:7848, cost time=2 ms

2025-01-07 20:30:18,769 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_7.

2025-01-07 20:30:18,770 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_7.

2025-01-07 20:30:18,771 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_5.

2025-01-07 20:30:18,774 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 6 to 6, cost 0 ms.

2025-01-07 20:30:23,452 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_7.

2025-01-07 20:30:23,453 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_7.

2025-01-07 20:30:23,453 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_6.

2025-01-07 20:30:23,456 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 7 to 7, cost 0 ms.

2025-01-07 20:31:29,892 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_6.

2025-01-07 20:31:29,892 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_6.

2025-01-07 20:31:29,893 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_5.

2025-01-07 20:31:29,897 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 6 to 6, cost 0 ms.

2025-01-07 20:34:46,260 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos1:7848 -> nacos2:7848]

2025-01-07 20:34:46,260 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos1:7848 -> nacos2:7848]

2025-01-07 20:34:46,261 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos1:7848 -> nacos2:7848]

2025-01-07 20:34:46,261 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos1:7848 -> nacos2:7848]

2025-01-07 20:47:56,583 WARN Node <naming_persistent_service/nacos1:7848> steps down when alive nodes don't satisfy quorum, term=6, deadNodes=nacos3:7848,nacos2:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 20:47:58,147 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 20:47:56,765 INFO Node <naming_instance_metadata/nacos1:7848> term 9 start preVote.

2025-01-07 20:47:56,765 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=9, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos3:7848.]].

2025-01-07 20:47:58,146 WARN Fail to issue RPC to nacos2:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499989141s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos2/172.19.0.3:7848]]]], groupId=naming_persistent_service

2025-01-07 20:47:58,149 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=6, lastLogIncluded=0, lastLogIndex=6, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_persistent_service, waitId=6, type=Follower] is going to quit

2025-01-07 20:47:58,149 INFO Replicator Replicator [state=Replicate, statInfo=<running=IDLE, firstLogIndex=6, lastLogIncluded=0, lastLogIndex=6, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service, waitId=5, type=Follower] is going to quit

2025-01-07 20:47:58,151 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 20:47:58,152 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 20:47:58,161 INFO Node <naming_instance_metadata/nacos1:7848> received PreVoteResponse from nacos3:7848, term=9, granted=true.

2025-01-07 20:47:58,162 INFO Node <naming_instance_metadata/nacos1:7848> start vote and grant vote self, term=9.

2025-01-07 20:47:58,162 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=9, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-07 20:47:58,173 WARN Node <naming_instance_metadata/nacos1:7848> received invalid PreVoteResponse from nacos2:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 20:47:58,179 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=10, votedFor=nacos1:7848, cost time=3 ms

2025-01-07 20:47:58,185 INFO Node <naming_instance_metadata/nacos1:7848> become leader of group, term=10, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 20:47:58,185 INFO Node <naming_service_metadata/nacos1:7848> ignore PreVoteRequest from nacos2:7848, term=8, currTerm=7, because the leader nacos3:7848's lease is still valid.

2025-01-07 20:47:58,185 INFO Replicator [group: naming_instance_metadata, peer: nacos2:7848, type: Follower] is started

2025-01-07 20:47:58,185 INFO Replicator [group: naming_instance_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-07 20:47:58,192 INFO Node <naming_service_metadata/nacos1:7848> received RequestVoteRequest from nacos2:7848, term=8, currTerm=7.

2025-01-07 20:47:58,192 INFO onLeaderStart: term=10.

2025-01-07 20:47:58,193 WARN Node <naming_instance_metadata/nacos1:7848> received invalid RequestVoteResponse from nacos2:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 20:47:58,193 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=7, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 20:47:58,195 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=8, votedFor=0.0.0.0:0, cost time=3 ms

2025-01-07 20:47:58,197 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=8, votedFor=nacos2:7848, cost time=2 ms

2025-01-07 20:48:00,472 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 20:48:01,170 ERROR handleRequest group_id: "naming_persistent_service"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 20:48:01,298 INFO Node <naming_persistent_service/nacos1:7848> received PreVoteRequest from nacos3:7848, term=7, currTerm=6, granted=true, requestLastLogId=LogId [index=6, term=6], lastLogId=LogId [index=6, term=6].

2025-01-07 20:48:01,301 INFO Node <naming_persistent_service/nacos1:7848> received RequestVoteRequest from nacos3:7848, term=7, currTerm=6.

2025-01-07 20:48:01,305 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=7, votedFor=0.0.0.0:0, cost time=4 ms

2025-01-07 20:48:01,367 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=7, votedFor=nacos3:7848, cost time=62 ms

2025-01-07 20:56:08,194 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_10.

2025-01-07 20:56:08,194 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_10.

2025-01-07 20:56:08,195 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_8.

2025-01-07 20:56:08,252 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 8 to 9, cost 1 ms.

2025-01-07 20:56:15,977 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-07 20:56:21,452 INFO The channel nacos2:7848 is in state: IDLE.

2025-01-07 20:56:26,443 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos1:7848 -> nacos2:7848]

2025-01-07 21:00:18,771 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_8.

2025-01-07 21:00:18,771 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_8.

2025-01-07 21:00:18,772 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_7.

2025-01-07 21:00:18,776 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 6 to 8, cost 0 ms.

2025-01-07 21:00:23,448 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 7 to 8, cost 1 ms.

2025-01-07 21:01:29,892 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_7.

2025-01-07 21:01:29,893 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_7.

2025-01-07 21:01:29,894 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_6.

2025-01-07 21:01:29,912 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 6 to 7, cost 1 ms.

2025-01-07 21:17:58,146 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-07 21:17:58,147 INFO The channel nacos2:7848 is in state: IDLE.

2025-01-07 21:18:03,160 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 21:18:03,161 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 21:18:03,161 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 21:18:03,162 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 21:26:08,205 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 9 to 11, cost 0 ms.

2025-01-07 21:30:18,766 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 8 to 9, cost 0 ms.

2025-01-07 21:30:23,448 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 8 to 8, cost 1 ms.

2025-01-07 21:31:12,891 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499989972s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_instance_metadata

2025-01-07 21:31:15,553 INFO Node <naming_persistent_service_v2/nacos1:7848> term 7 start preVote.

2025-01-07 21:31:15,554 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=7, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos3:7848.]].

2025-01-07 21:31:17,913 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 21:31:17,162 INFO Node <naming_service_metadata/nacos1:7848> term 8 start preVote.

2025-01-07 21:31:17,163 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos2:7848, term=8, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos2:7848.]].

2025-01-07 21:31:17,917 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 21:31:17,918 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 21:31:17,919 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 21:31:17,934 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 21:31:17,935 INFO The channel nacos2:7848 has successfully established.

2025-01-07 21:31:17,936 INFO Peer nacos2:7848 is connected.

2025-01-07 21:31:17,956 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 21:31:17,956 INFO The channel nacos2:7848 has successfully established.

2025-01-07 21:31:17,957 INFO Peer nacos2:7848 is connected.

2025-01-07 21:31:17,961 INFO Node <naming_service_metadata/nacos1:7848> received PreVoteResponse from nacos2:7848, term=8, granted=true.

2025-01-07 21:31:17,961 INFO Node <naming_service_metadata/nacos1:7848> start vote and grant vote self, term=8.

2025-01-07 21:31:17,962 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos2:7848, term=8, status=Status[ERAFTTIMEDOUT<10001>: A follower's leader_id is reset to NULL as it begins to request_vote.]].

2025-01-07 21:31:17,966 INFO Node <naming_persistent_service_v2/nacos1:7848> received PreVoteResponse from nacos2:7848, term=7, granted=true.

2025-01-07 21:31:17,967 INFO Node <naming_persistent_service_v2/nacos1:7848> start vote and grant vote self, term=7.

2025-01-07 21:31:17,966 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=9, votedFor=nacos1:7848, cost time=5 ms

2025-01-07 21:31:17,971 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=8, votedFor=nacos1:7848, cost time=5 ms

2025-01-07 21:31:17,972 INFO Node <naming_instance_metadata/nacos1:7848> ignore PreVoteRequest from nacos3:7848, term=11, currTerm=10, because the leader nacos1:7848's lease is still valid.

2025-01-07 21:31:17,974 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 21:31:17,974 INFO The channel nacos3:7848 has successfully established.

2025-01-07 21:31:17,976 INFO Peer nacos3:7848 is connected.

2025-01-07 21:31:17,977 INFO Node <naming_persistent_service_v2/nacos1:7848> received PreVoteRequest from nacos2:7848, term=8, currTerm=8, granted=true, requestLastLogId=LogId [index=7, term=7], lastLogId=LogId [index=7, term=7].

2025-01-07 21:31:17,980 WARN Node <naming_service_metadata/nacos1:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 21:31:17,986 INFO Node <naming_service_metadata/nacos1:7848> become leader of group, term=9, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 21:31:17,986 INFO Replicator [group: naming_service_metadata, peer: nacos2:7848, type: Follower] is started

2025-01-07 21:31:17,986 INFO Replicator [group: naming_service_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-07 21:31:17,989 INFO Node <naming_service_metadata/nacos1:7848> ignore PreVoteRequest from nacos3:7848, term=9, currTerm=9, because the leader nacos1:7848's lease is still valid.

2025-01-07 21:31:17,992 INFO Node <naming_persistent_service/nacos1:7848> received PreVoteRequest from nacos2:7848, term=8, currTerm=7, granted=true, requestLastLogId=LogId [index=7, term=7], lastLogId=LogId [index=7, term=7].

2025-01-07 21:31:18,005 INFO Node <naming_persistent_service_v2/nacos1:7848> become leader of group, term=8, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 21:31:18,005 INFO Replicator [group: naming_persistent_service_v2, peer: nacos2:7848, type: Follower] is started

2025-01-07 21:31:18,005 INFO Replicator [group: naming_persistent_service_v2, peer: nacos3:7848, type: Follower] is started

2025-01-07 21:31:18,006 INFO Node <naming_persistent_service/nacos1:7848> received RequestVoteRequest from nacos2:7848, term=8, currTerm=7.

2025-01-07 21:31:18,006 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=7, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 21:31:18,008 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=8, votedFor=0.0.0.0:0, cost time=2 ms

2025-01-07 21:31:18,011 WARN Node <naming_service_metadata/nacos1:7848> received invalid RequestVoteResponse from nacos2:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 21:31:18,013 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=8, votedFor=nacos2:7848, cost time=5 ms

2025-01-07 21:31:18,015 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 21:31:18,015 INFO The channel nacos3:7848 has successfully established.

2025-01-07 21:31:18,015 INFO Peer nacos3:7848 is connected.

2025-01-07 21:31:18,026 INFO onLeaderStart: term=9.

2025-01-07 21:31:18,035 INFO onLeaderStart: term=8.

2025-01-07 21:31:18,035 WARN Node <naming_persistent_service_v2/nacos1:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_LEADER.

2025-01-07 21:31:18,036 WARN Node <naming_persistent_service_v2/nacos1:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 21:31:29,897 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_8.

2025-01-07 21:31:29,897 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_8.

2025-01-07 21:31:29,898 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_7.

2025-01-07 21:31:29,901 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 7 to 8, cost 1 ms.

2025-01-07 21:52:52,523 WARN Fail to issue RPC to nacos2:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499991355s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos2/172.19.0.3:7848]]]], groupId=naming_service_metadata

2025-01-07 21:52:52,523 WARN Fail to issue RPC to nacos2:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499996450s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos2/172.19.0.3:7848]]]], groupId=naming_instance_metadata

2025-01-07 21:52:53,167 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499996897s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_service_metadata

2025-01-07 21:56:08,190 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 11 to 11, cost 0 ms.

2025-01-07 22:00:18,772 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_9.

2025-01-07 22:00:18,772 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_9.

2025-01-07 22:00:18,773 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_8.

2025-01-07 22:00:18,776 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 9 to 9, cost 1 ms.

2025-01-07 22:00:23,455 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_8.

2025-01-07 22:00:23,455 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_8.

2025-01-07 22:00:23,456 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_7.

2025-01-07 22:00:23,459 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 8 to 8, cost 1 ms.

2025-01-07 22:01:22,925 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 22:01:22,926 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 22:01:22,960 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos1:7848 -> nacos2:7848]

2025-01-07 22:01:22,960 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos1:7848 -> nacos2:7848]

2025-01-07 22:01:22,974 INFO Connection disconnected: /172.19.0.5:53520

2025-01-07 22:01:22,985 INFO Connection disconnected: /172.19.0.3:46950

2025-01-07 22:01:23,025 INFO Connection disconnected: /172.19.0.5:53532

2025-01-07 22:01:29,850 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 8 to 9, cost 1 ms.

2025-01-07 22:14:28,058 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499997500s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_instance_metadata

2025-01-07 22:14:28,059 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499990169s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_service_metadata

2025-01-07 22:14:28,059 WARN Fail to issue RPC to nacos2:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499991923s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos2/172.19.0.3:7848]]]], groupId=naming_service_metadata

2025-01-07 22:14:28,059 WARN Fail to issue RPC to nacos2:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499989747s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos2/172.19.0.3:7848]]]], groupId=naming_persistent_service_v2

2025-01-07 22:14:28,060 WARN Fail to issue RPC to nacos3:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499996932s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos3/172.19.0.5:7848]]]], groupId=naming_persistent_service_v2

2025-01-07 22:14:28,060 WARN Fail to issue RPC to nacos2:7848, consecutiveErrorTimes=1, error=Status[EINTERNAL<1004>: RPC exception:DEADLINE_EXCEEDED: CallOptions deadline exceeded after 2.499998288s. Name resolution delay 0.000000000 seconds. [closed=[], open=[[remote_addr=nacos2/172.19.0.3:7848]]]], groupId=naming_instance_metadata

2025-01-07 22:14:30,732 WARN Node <naming_service_metadata/nacos1:7848> steps down when alive nodes don't satisfy quorum, term=9, deadNodes=nacos3:7848,nacos2:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 22:14:31,614 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=9, lastLogIncluded=0, lastLogIndex=9, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_service_metadata, waitId=8, type=Follower] is going to quit

2025-01-07 22:14:31,614 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=9, lastLogIncluded=0, lastLogIndex=9, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_service_metadata, waitId=7, type=Follower] is going to quit

2025-01-07 22:14:30,742 WARN Node <naming_persistent_service_v2/nacos1:7848> steps down when alive nodes don't satisfy quorum, term=8, deadNodes=nacos3:7848,nacos2:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 22:14:31,618 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=8, lastLogIncluded=0, lastLogIndex=8, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_persistent_service_v2, waitId=5, type=Follower] is going to quit

2025-01-07 22:14:31,618 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=8, lastLogIncluded=0, lastLogIndex=8, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_persistent_service_v2, waitId=6, type=Follower] is going to quit

2025-01-07 22:14:31,618 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 22:14:31,620 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 22:14:31,150 WARN Node <naming_instance_metadata/nacos1:7848> steps down when alive nodes don't satisfy quorum, term=10, deadNodes=nacos3:7848,nacos2:7848, conf=nacos3:7848,nacos1:7848,nacos2:7848.

2025-01-07 22:14:31,620 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=10, lastLogIncluded=0, lastLogIndex=10, lastTermIncluded=0>, peerId=nacos2:7848, groupId=naming_instance_metadata, waitId=8, type=Follower] is going to quit

2025-01-07 22:14:31,620 INFO Replicator Replicator [state=Probe, statInfo=<running=IDLE, firstLogIndex=10, lastLogIncluded=0, lastLogIndex=10, lastTermIncluded=0>, peerId=nacos3:7848, groupId=naming_instance_metadata, waitId=7, type=Follower] is going to quit

2025-01-07 22:14:31,621 INFO onLeaderStop: status=Status[ERAFTTIMEDOUT<10001>: Majority of the group dies: 2/3].

2025-01-07 22:14:31,631 INFO Node <naming_persistent_service/nacos1:7848> received PreVoteRequest from nacos3:7848, term=9, currTerm=8, granted=true, requestLastLogId=LogId [index=8, term=8], lastLogId=LogId [index=8, term=8].

2025-01-07 22:14:31,636 INFO Node <naming_persistent_service/nacos1:7848> received RequestVoteRequest from nacos3:7848, term=9, currTerm=8.

2025-01-07 22:14:31,636 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos2:7848, term=8, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 22:14:31,641 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=9, votedFor=0.0.0.0:0, cost time=5 ms

2025-01-07 22:14:31,643 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=9, votedFor=nacos3:7848, cost time=2 ms

2025-01-07 22:14:31,645 INFO Node <naming_service_metadata/nacos1:7848> received PreVoteRequest from nacos2:7848, term=10, currTerm=9, granted=true, requestLastLogId=LogId [index=9, term=9], lastLogId=LogId [index=9, term=9].

2025-01-07 22:14:31,646 INFO Node <naming_instance_metadata/nacos1:7848> received PreVoteRequest from nacos3:7848, term=11, currTerm=10, granted=true, requestLastLogId=LogId [index=10, term=10], lastLogId=LogId [index=10, term=10].

2025-01-07 22:14:31,663 ERROR handleRequest group_id: "naming_service_metadata"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 22:14:31,664 INFO Node <naming_service_metadata/nacos1:7848> received PreVoteRequest from nacos3:7848, term=10, currTerm=9, granted=true, requestLastLogId=LogId [index=9, term=9], lastLogId=LogId [index=9, term=9].

2025-01-07 22:14:31,664 INFO Node <naming_instance_metadata/nacos1:7848> received RequestVoteRequest from nacos3:7848, term=11, currTerm=10.

2025-01-07 22:14:31,674 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=11, votedFor=0.0.0.0:0, cost time=10 ms

2025-01-07 22:14:31,674 INFO Node <naming_service_metadata/nacos1:7848> received RequestVoteRequest from nacos2:7848, term=10, currTerm=9.

2025-01-07 22:14:31,678 ERROR handleRequest group_id: "naming_persistent_service_v2"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 22:14:31,679 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=10, votedFor=0.0.0.0:0, cost time=4 ms

2025-01-07 22:14:31,680 ERROR handleRequest group_id: "naming_persistent_service_v2"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 22:14:31,681 INFO Node <naming_persistent_service_v2/nacos1:7848> received PreVoteRequest from nacos3:7848, term=9, currTerm=8, granted=true, requestLastLogId=LogId [index=8, term=8], lastLogId=LogId [index=8, term=8].

2025-01-07 22:14:31,691 INFO Node <naming_persistent_service_v2/nacos1:7848> received PreVoteRequest from nacos2:7848, term=9, currTerm=8, granted=true, requestLastLogId=LogId [index=8, term=8], lastLogId=LogId [index=8, term=8].

2025-01-07 22:14:31,687 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=10, votedFor=nacos2:7848, cost time=8 ms

2025-01-07 22:14:31,687 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=11, votedFor=nacos3:7848, cost time=6 ms

2025-01-07 22:14:31,692 INFO Node <naming_service_metadata/nacos1:7848> received RequestVoteRequest from nacos3:7848, term=10, currTerm=10.

2025-01-07 22:14:31,693 ERROR handleRequest group_id: "naming_instance_metadata"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 22:14:31,694 ERROR handleRequest group_id: "naming_service_metadata"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 22:14:31,694 ERROR handleRequest group_id: "naming_instance_metadata"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 22:14:31,694 ERROR handleRequest group_id: "naming_instance_metadata"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 22:14:31,710 ERROR handleRequest group_id: "naming_persistent_service_v2"
leader_id: "nacos1:7848"
 failed

java.lang.IllegalStateException: Not leader
	at com.alipay.sofa.jraft.core.NodeImpl.listPeers(NodeImpl.java:2966)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:58)
	at com.alipay.sofa.jraft.rpc.impl.cli.GetPeersRequestProcessor.processRequest0(GetPeersRequestProcessor.java:33)
	at com.alipay.sofa.jraft.rpc.impl.cli.BaseCliRequestProcessor.processRequest(BaseCliRequestProcessor.java:119)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:53)
	at com.alipay.sofa.jraft.rpc.RpcRequestProcessor.handleRequest(RpcRequestProcessor.java:35)
	at com.alipay.sofa.jraft.rpc.impl.GrpcServer.lambda$null$1(GrpcServer.java:194)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2025-01-07 22:14:31,718 INFO Node <naming_persistent_service_v2/nacos1:7848> received RequestVoteRequest from nacos3:7848, term=9, currTerm=8.

2025-01-07 22:14:31,719 INFO Node <naming_instance_metadata/nacos1:7848> ignore PreVoteRequest from nacos2:7848, term=11, currTerm=11, because the leader nacos3:7848's lease is still valid.

2025-01-07 22:14:31,722 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=9, votedFor=0.0.0.0:0, cost time=4 ms

2025-01-07 22:14:31,725 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=9, votedFor=nacos3:7848, cost time=3 ms

2025-01-07 22:26:08,195 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_11.

2025-01-07 22:26:08,195 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_11.

2025-01-07 22:26:08,196 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_10.

2025-01-07 22:26:08,199 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 11 to 11, cost 0 ms.

2025-01-07 22:30:18,772 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_10.

2025-01-07 22:30:18,772 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_10.

2025-01-07 22:30:18,775 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_9.

2025-01-07 22:30:18,778 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 9 to 10, cost 0 ms.

2025-01-07 22:30:23,455 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_9.

2025-01-07 22:30:23,455 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_9.

2025-01-07 22:30:23,456 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_8.

2025-01-07 22:30:23,459 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 8 to 9, cost 0 ms.

2025-01-07 22:31:29,897 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_9.

2025-01-07 22:31:29,897 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_9.

2025-01-07 22:31:29,898 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_8.

2025-01-07 22:31:29,902 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 9 to 9, cost 0 ms.

2025-01-07 22:44:30,058 INFO Destroyed peer request context for naming_service_metadata/PeerPair[nacos1:7848 -> nacos2:7848]

2025-01-07 22:44:30,059 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos1:7848 -> nacos2:7848]

2025-01-07 22:44:31,644 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-07 22:44:31,653 INFO The channel nacos2:7848 is in state: IDLE.

2025-01-07 22:44:31,661 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-07 22:44:31,666 INFO The channel nacos3:7848 is in state: IDLE.

2025-01-07 22:44:31,667 INFO The channel nacos2:7848 is in state: IDLE.

2025-01-07 22:44:31,692 INFO The channel nacos2:7848 is in state: IDLE.

2025-01-07 22:44:31,712 INFO The channel nacos1:7848 is in state: IDLE.

2025-01-07 22:44:36,696 INFO Connection disconnected: /172.19.0.3:57024

2025-01-07 22:44:36,698 INFO Connection disconnected: /172.19.0.5:40478

2025-01-07 22:44:36,712 INFO Connection disconnected: /172.19.0.4:50294

2025-01-07 22:44:36,715 INFO Connection disconnected: /172.19.0.3:41400

2025-01-07 22:44:36,716 INFO Connection disconnected: /172.19.0.5:52036

2025-01-07 22:44:36,726 INFO Connection disconnected: /172.19.0.3:41396

2025-01-07 22:56:08,190 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 11 to 12, cost 0 ms.

2025-01-07 22:57:44,535 INFO Node <naming_instance_metadata/nacos1:7848> term 11 start preVote.

2025-01-07 22:57:44,535 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=11, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos3:7848.]].

2025-01-07 22:57:44,536 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 22:57:44,536 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 22:57:44,550 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 22:57:44,550 INFO The channel nacos2:7848 has successfully established.

2025-01-07 22:57:44,551 INFO Peer nacos2:7848 is connected.

2025-01-07 22:57:44,552 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 22:57:44,552 INFO The channel nacos3:7848 has successfully established.

2025-01-07 22:57:44,553 INFO Peer nacos3:7848 is connected.

2025-01-07 22:57:44,556 INFO Node <naming_instance_metadata/nacos1:7848> received PreVoteResponse from nacos2:7848, term=11, granted=true.

2025-01-07 22:57:44,556 INFO Node <naming_instance_metadata/nacos1:7848> start vote and grant vote self, term=11.

2025-01-07 22:57:44,562 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=12, votedFor=nacos1:7848, cost time=3 ms

2025-01-07 22:57:44,563 WARN Node <naming_instance_metadata/nacos1:7848> received invalid PreVoteResponse from nacos3:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 22:57:44,563 INFO Node <naming_instance_metadata/nacos1:7848> become leader of group, term=12, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 22:57:44,564 INFO Replicator [group: naming_instance_metadata, peer: nacos2:7848, type: Follower] is started

2025-01-07 22:57:44,564 INFO Replicator [group: naming_instance_metadata, peer: nacos3:7848, type: Follower] is started

2025-01-07 22:57:44,566 WARN Node <naming_instance_metadata/nacos1:7848> received invalid RequestVoteResponse from nacos3:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 22:57:44,569 INFO onLeaderStart: term=12.

2025-01-07 22:57:45,804 INFO Node <naming_persistent_service/nacos1:7848> ignore PreVoteRequest from nacos2:7848, term=10, currTerm=9, because the leader nacos3:7848's lease is still valid.

2025-01-07 22:57:45,807 INFO Node <naming_persistent_service/nacos1:7848> received RequestVoteRequest from nacos2:7848, term=10, currTerm=9.

2025-01-07 22:57:45,808 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=9, status=Status[EHIGHERTERMRESPONSE<10008>: Raft node receives higher term RequestVoteRequest.]].

2025-01-07 22:57:45,810 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=10, votedFor=0.0.0.0:0, cost time=2 ms

2025-01-07 22:57:45,812 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=10, votedFor=nacos2:7848, cost time=2 ms

2025-01-07 22:57:46,229 INFO Node <naming_persistent_service_v2/nacos1:7848> term 9 start preVote.

2025-01-07 22:57:46,229 INFO The channel nacos2:7848 is in state: CONNECTING.

2025-01-07 22:57:46,229 INFO The channel nacos3:7848 is in state: CONNECTING.

2025-01-07 22:57:46,230 INFO onStopFollowing: LeaderChangeContext [leaderId=nacos3:7848, term=9, status=Status[ERAFTTIMEDOUT<10001>: Lost connection from leader nacos3:7848.]].

2025-01-07 22:57:46,234 INFO The channel nacos3:7848 is in state: READY.

2025-01-07 22:57:46,234 INFO The channel nacos3:7848 has successfully established.

2025-01-07 22:57:46,235 INFO The channel nacos2:7848 is in state: READY.

2025-01-07 22:57:46,235 INFO The channel nacos2:7848 has successfully established.

2025-01-07 22:57:46,235 INFO Peer nacos2:7848 is connected.

2025-01-07 22:57:46,236 INFO Peer nacos3:7848 is connected.

2025-01-07 22:57:46,238 INFO Node <naming_persistent_service_v2/nacos1:7848> received PreVoteResponse from nacos3:7848, term=9, granted=true.

2025-01-07 22:57:46,238 INFO Node <naming_persistent_service_v2/nacos1:7848> start vote and grant vote self, term=9.

2025-01-07 22:57:46,242 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=10, votedFor=nacos1:7848, cost time=4 ms

2025-01-07 22:57:46,242 WARN Node <naming_persistent_service_v2/nacos1:7848> received invalid PreVoteResponse from nacos2:7848, state not in STATE_FOLLOWER but STATE_CANDIDATE.

2025-01-07 22:57:46,250 INFO Node <naming_persistent_service_v2/nacos1:7848> become leader of group, term=10, conf=nacos3:7848,nacos1:7848,nacos2:7848, oldConf=.

2025-01-07 22:57:46,250 INFO Replicator [group: naming_persistent_service_v2, peer: nacos2:7848, type: Follower] is started

2025-01-07 22:57:46,250 INFO Replicator [group: naming_persistent_service_v2, peer: nacos3:7848, type: Follower] is started

2025-01-07 22:57:46,257 WARN Node <naming_persistent_service_v2/nacos1:7848> received invalid RequestVoteResponse from nacos2:7848, state not in STATE_CANDIDATE but STATE_LEADER.

2025-01-07 22:57:46,261 INFO onLeaderStart: term=10.

2025-01-07 22:57:46,922 INFO The channel nacos1:7848 is in state: CONNECTING.

2025-01-07 22:57:46,926 INFO The channel nacos1:7848 is in state: READY.

2025-01-07 22:57:46,926 INFO The channel nacos1:7848 has successfully established.

2025-01-07 23:00:18,767 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 10 to 11, cost 0 ms.

2025-01-07 23:00:23,456 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_10.

2025-01-07 23:00:23,456 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_10.

2025-01-07 23:00:23,457 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_9.

2025-01-07 23:00:23,461 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 9 to 10, cost 0 ms.

2025-01-07 23:01:29,895 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_10.

2025-01-07 23:01:29,895 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_10.

2025-01-07 23:01:29,896 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service/snapshot/snapshot_9.

2025-01-07 23:01:29,899 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 9 to 10, cost 1 ms.

2025-01-07 23:26:08,196 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_12.

2025-01-07 23:26:08,196 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_12.

2025-01-07 23:26:08,197 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_11.

2025-01-07 23:26:08,254 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 12 to 12, cost 0 ms.

2025-01-07 23:27:49,254 INFO Destroyed peer request context for naming_persistent_service/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 23:27:49,255 INFO Destroyed peer request context for naming_instance_metadata/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 23:27:49,256 INFO Destroyed peer request context for naming_persistent_service_v2/PeerPair[nacos1:7848 -> nacos3:7848]

2025-01-07 23:30:18,768 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 11 to 11, cost 0 ms.

2025-01-07 23:30:23,452 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 10 to 11, cost 0 ms.

2025-01-07 23:31:29,832 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service/log from log index 10 to 11, cost 1 ms.

2025-01-07 23:56:08,192 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 12 to 13, cost 0 ms.

